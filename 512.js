"use strict";(self.webpackChunkallegro_ts_examples=self.webpackChunkallegro_ts_examples||[]).push([[512],{442:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileParser=void 0;var n=function(){function e(e){this.data=e,this.pointer=0}return e.prototype.movePointer=function(e){return this.pointer+=e,this.pointer},e.prototype.readInt=function(e){var t=Math.min(e,this.data.byteLength-this.pointer);if(t<1)return-1;var n=0;if(t>1)for(var r=1;r<=t-1;r+=1)n+=this.data.getUint8(this.pointer)*Math.pow(256,t-r),this.pointer+=1;return n+=this.data.getUint8(this.pointer),this.pointer+=1,n},e.prototype.readStr=function(e){for(var t="",n=1;n<=e;n+=1)t+=String.fromCharCode(this.readInt(1));return t},e.prototype.readIntVLV=function(){var e=0;if(this.pointer>=this.data.byteLength)return-1;if(this.data.getUint8(this.pointer)<128)e=this.readInt(1);else{for(var t=[];this.data.getUint8(this.pointer)>=128;)t.push(this.readInt(1)-128);for(var n=this.readInt(1),r=1;r<=t.length;r+=1){var o=t[t.length-r];"number"==typeof o&&(e+=o*Math.pow(128,r))}e+=n}return e},e}();t.FileParser=n},951:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(512),t),o(n(940),t),o(n(585),t),o(n(61),t),o(n(420),t),o(n(559),t),o(n(958),t),o(n(654),t),o(n(182),t),o(n(753),t),o(n(146),t),o(n(40),t),o(n(732),t),o(n(393),t),o(n(117),t),o(n(281),t),o(n(498),t),o(n(644),t),o(n(842),t),o(n(696),t)},512:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loadpng_init=t.set_color_conversion=t.register_bitmap_file_type=t.save_tga_pf=t.save_tga=t.save_pcx_pf=t.save_pcx=t.save_bmp_pf=t.save_bmp=t.save_bitmap=t.load_tga_pf=t.load_tga=t.load_pcx_pf=t.load_pcx=t.load_lbm=t.load_bmp_pf=t.load_bmp=t.load_bitmap=t.is_inside_bitmap=t.get_clip_state=t.set_clip_state=t.add_clip_rect=t.get_clip_rect=t.set_clip_rect=t.release_screen=t.acquire_screen=t.release_bitmap=t.acquire_bitmap=t.is_sub_bitmap=t.is_system_bitmap=t.is_video_bitmap=t.is_screen_bitmap=t.is_memory_bitmap=t.is_linear_bitmap=t.is_planar_bitmap=t.is_same_bitmap=t.bitmap_mask_color=t.bitmap_color_depth=t.lock_bitmap=t.destroy_bitmap=t.create_system_bitmap=t.create_video_bitmap=t.create_sub_bitmap=t.create_bitmap_ex=t.create_bitmap=t.screen=void 0;var r=n(940),o=n(420),i=n(559),_=n(281);function a(e,t){i.log("Creating bitmap at "+e+" x "+t+"!");var n=document.createElement("canvas");n.width=e,n.height=t;var r=n.getContext("2d");if(!r)throw new Error("Could not get context");return r.imageSmoothingEnabled=!1,{w:e,h:t,canvas:n,context:r,ready:!0,type:"bmp",clipping:!0,clipping_rect:{x1:0,y1:0,x2:e,y2:t},is_screen:!1,mem_type:"memory",parent:null}}function c(e,t){i.log("Loading bitmap "+e+"...");var n=new Image;n.src=e;var r=document.createElement("canvas"),_=r.getContext("2d");if(!_)throw new Error("Context not defined");_.imageSmoothingEnabled=!1;var a={canvas:r,context:_,w:-1,h:-1,ready:!1,type:"bmp",clipping:!0,clipping_rect:{x1:0,y1:0,x2:0,y2:0},is_screen:!1,mem_type:"memory",parent:null};return o._downloadables.push(a),n.onload=function(){i.log("Bitmap "+e+" loaded, size: "+n.width+" x "+n.height+"!"),a.canvas.width=n.width,a.canvas.height=n.height,a.context.drawImage(n,0,0),a.w=n.width,a.h=n.height,a.clipping_rect={x1:0,y1:0,x2:a.w,y2:a.h};for(var t=a.context.getImageData(0,0,a.canvas.width,a.canvas.height),r=0;r<t.data.length;r+=4)255===t.data[r]&&0===t.data[r+1]&&255===t.data[r+2]&&255===t.data[r+3]&&(t.data[r+3]=0);_.putImageData(t,0,0),a.ready=!0},a}function s(e,t,n){if(t){var r=t.canvas.toDataURL("image/png",1),o=document.createElement("a");o.href=r,o.download=e,document.body.appendChild(o),o.click()}}t.screen={w:0,h:0,canvas:null,context:null,ready:!1,type:"bmp",clipping:!1,clipping_rect:{x1:0,y1:0,x2:0,y2:0},is_screen:!0,mem_type:"video",parent:null},t.create_bitmap=a,t.create_bitmap_ex=function(e,t,n){return a(t,n)},t.create_sub_bitmap=function(e,t,n,r,o){if(!e)return null;var i=a(r,o);return _.blit(i,e,t,n,0,0,r,o),i.parent=e,i},t.create_video_bitmap=function(e,t){var n=a(e,t);return n.mem_type="video",n},t.create_system_bitmap=function(e,t){var n=a(e,t);return n.mem_type="system",n},t.destroy_bitmap=function(e){e&&(e.canvas.remove(),e.ready=!1)},t.lock_bitmap=function(e){},t.bitmap_color_depth=function(e){return 32},t.bitmap_mask_color=function(e){return r.makecol(255,0,255)},t.is_same_bitmap=function(e,t){return!(!e||!t)&&(e===t||void 0!==e.parent&&e.parent===t.parent)},t.is_planar_bitmap=function(e){return!1},t.is_linear_bitmap=function(e){return!0},t.is_memory_bitmap=function(e){return!!e&&!e.is_screen},t.is_screen_bitmap=function(e){return!!e&&e.is_screen},t.is_video_bitmap=function(e){return!!e&&"video"===e.mem_type},t.is_system_bitmap=function(e){return!!e&&"system"===e.mem_type},t.is_sub_bitmap=function(e){return!!e&&Boolean(e.parent)},t.acquire_bitmap=function(e){},t.release_bitmap=function(e){},t.acquire_screen=function(){t.screen},t.release_screen=function(){t.screen},t.set_clip_rect=function(e,t,n,r,o){e&&(e.clipping_rect={x1:t,y1:n,x2:r,y2:o})},t.get_clip_rect=function(e){return e?e.clipping_rect:null},t.add_clip_rect=function(e,t,n,r,o){e&&(e.clipping_rect={x1:t,y1:n,x2:r,y2:o})},t.set_clip_state=function(e,t){e&&(e.clipping=t)},t.get_clip_state=function(e){return e&&e.clipping?1:0},t.is_inside_bitmap=function(e,t,n,r){return!!e&&(0===r?t>=0&&n>=0&&t<e.w&&n<e.h:!e.clipping||t>=e.clipping_rect.x1&&n>=e.clipping_rect.y1&&t<e.clipping_rect.x2&&n<e.clipping_rect.x2)},t.load_bitmap=c,t.load_bmp=function(e){return c(e)},t.load_bmp_pf=function(e,t){},t.load_lbm=function(e,t){return c(e)},t.load_pcx=function(e,t){return c(e)},t.load_pcx_pf=function(e,t){},t.load_tga=function(e,t){return c(e)},t.load_tga_pf=function(e,t){},t.save_bitmap=s,t.save_bmp=function(e,t,n){s(e,t)},t.save_bmp_pf=function(e,t,n){},t.save_pcx=function(e,t,n){s(e,t)},t.save_pcx_pf=function(e,t,n){},t.save_tga=function(e,t,n){s(e,t)},t.save_tga_pf=function(e,t,n){},t.register_bitmap_file_type=function(e,t,n){},t.set_color_conversion=function(e){},t.loadpng_init=function(){return 1}},940:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.palette_color=t.geta_depth=t.getb_depth=t.getg_depth=t.getr_depth=t.geta=t.getb=t.getg=t.getr=t.geta32=t.getb32=t.getb24=t.getb16=t.getb15=t.getb8=t.getg32=t.getg24=t.getg16=t.getg15=t.getg8=t.getr32=t.getr24=t.getr16=t.getr15=t.getr8=t.makecol15_dither=t.makeacol=t.makeacol_depth=t.makecol_depth=t.makecol=t.makeacol32=t.makecol32=t.makecol24=t.makecol16=t.makecol15=t.makecol8=void 0;var n=32;function r(e,t,n){return a(e,t,n)}function o(e,t,n){return a(e,t,n)}function i(e,t,n){return a(e,t,n)}function _(e,t,n){return a(e,t,n)}function a(e,t,n){return e|t<<8|n<<16}function c(e,t,n,r){return e|t<<8|n<<16|r<<24}function s(e,t,n,c){switch(e){case 8:return r(t,n,c);case 15:return o(t,n,c);case 16:return i(t,n,c);case 24:return _(t,n,c);case 32:return a(t,n,c);default:return 0}}function u(e,t,n,a,s){switch(e){case 8:return r(t,n,a);case 15:return o(t,n,a);case 16:return i(t,n,a);case 24:return _(t,n,a);case 32:return c(t,n,a,s);default:return 0}}function l(e){return m(e)}function f(e){return m(e)}function d(e){return m(e)}function p(e){return m(e)}function m(e){return 255&e}function E(e){return b(e)}function v(e){return b(e)}function g(e){return b(e)}function h(e){return b(e)}function b(e){return e>>8&255}function y(e){return L(e)}function x(e){return L(e)}function S(e){return L(e)}function K(e){return L(e)}function L(e){return e>>16&255}function T(e){return e>>24&255}function I(e,t){switch(e){case 8:return l(t);case 15:return f(t);case 16:return d(t);case 24:return p(t);case 32:return m(t);default:return 0}}function A(e,t){switch(e){case 8:return E(t);case 15:return v(t);case 16:return g(t);case 24:return h(t);case 32:return b(t);default:return 0}}function O(e,t){switch(e){case 8:return y(t);case 15:return x(t);case 16:return S(t);case 24:return K(t);case 32:return L(t);default:return 0}}function k(e,t){return 32===e?T(t):0}t.makecol8=r,t.makecol15=o,t.makecol16=i,t.makecol24=_,t.makecol32=a,t.makeacol32=c,t.makecol=function(e,t,r){return s(n,e,t,r)},t.makecol_depth=s,t.makeacol_depth=u,t.makeacol=function(e,t,r,o){return u(n,e,t,r,o)},t.makecol15_dither=function(e,t,n,r,o){return a(e,t,n)},t.getr8=l,t.getr15=f,t.getr16=d,t.getr24=p,t.getr32=m,t.getg8=E,t.getg15=v,t.getg16=g,t.getg24=h,t.getg32=b,t.getb8=y,t.getb15=x,t.getb16=S,t.getb24=K,t.getb32=L,t.geta32=T,t.getr=function(e){return I(n,e)},t.getg=function(e){return A(n,e)},t.getb=function(e){return O(n,e)},t.geta=function(e){return k(n,e)},t.getr_depth=I,t.getg_depth=A,t.getb_depth=O,t.geta_depth=k,t.palette_color=[0,1,2,3,4,5,6,7]},585:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.cpu_capabilities=t.cpu_model=t.cpu_family=t.cpu_vendor=t.check_cpu=t.get_desktop_resolution=t.desktop_color_depth=t.set_close_button_callback=t.set_window_title=t.allegro_message=t.os_multitasking=t.os_version=t.os_type=t.MAKE_VERSION=t.AL_ID=t.ALLEGRO_DATE=t.ALLEGRO_DATE_STR=t.ALLEGRO_VERSION_STR=t.ALLEGRO_WIP_VERSION=t.ALLEGRO_SUB_VERSION=t.ALLEGRO_VERSION=t.allegro_error=t.allegro_id=t.END_OF_MAIN=t.allegro_exit=t.atexit=t.allegro_init=t.SYSTEM_NONE=t.SYSTEM_AUTODETECT=t.install_allegro=t._set_loop_interval=void 0;var r=n(654),o=n(420),i=n(559),_=n(777),a=-1;function c(e){-1!==a&&window.clearInterval(a),-1!==e&&(a=e)}function s(e,t,n){return l(),i.log("Allegro installed!"),c(window.setInterval(o._uberloop,16.6)),i.log("Game loop initialised!"),0}function u(e,t,n,r){return(e.charCodeAt(0)<<24)+(t.charCodeAt(0)<<16)+(n.charCodeAt(0)<<8)+r.charCodeAt(0)}function l(){t.cpu_vendor="Browser CPU",t.cpu_family="Browser CPU Family",t.cpu_model="Browser CPU Model",t.cpu_capabilities=0}t._set_loop_interval=c,t.install_allegro=s,t.SYSTEM_AUTODETECT=0,t.SYSTEM_NONE=u("N","O","N","E"),t.allegro_init=function(){return s(t.SYSTEM_AUTODETECT)},t.atexit=function(){i.log("Allegro destroyed")},t.allegro_exit=function(){i.log("Allegro exited.")},t.END_OF_MAIN=function(){},t.allegro_id="Allegro TS",t.allegro_error="",t.ALLEGRO_VERSION=4,t.ALLEGRO_SUB_VERSION=1,t.ALLEGRO_WIP_VERSION=16,t.ALLEGRO_VERSION_STR="4.1.16",t.ALLEGRO_DATE_STR="2021",t.ALLEGRO_DATE=0,t.AL_ID=u,t.MAKE_VERSION=function(e,t,n){return(e.charCodeAt(0)<<16)+(t.charCodeAt(0)<<8)+n.charCodeAt(0)},t.os_type="OSTYPE_BROWSER",t.os_version=0,t.os_multitasking=!0,t.allegro_message=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];alert(_.vsprintf(e,t))},t.set_window_title=function(e){document.title=e},t.set_close_button_callback=function(e){window.onbeforeunload=e},t.desktop_color_depth=function(){return 32},t.get_desktop_resolution=function(){return{width:r.gfx_driver.w,height:r.gfx_driver.h}},t.check_cpu=l,t.cpu_vendor="",t.cpu_family="",t.cpu_model="",t.cpu_capabilities=0},61:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),_=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)_.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return _};Object.defineProperty(t,"__esModule",{value:!0}),t.free_config_entries=t.list_config_sections=t.list_config_entries=t.set_config_id=t.set_config_float=t.set_config_hex=t.set_config_int=t.set_config_string=t.get_config_text=t.get_config_argv=t.get_config_id=t.get_config_float=t.get_config_hex=t.get_config_int=t.get_config_string=t.config_is_hooked=t.hook_config_section=t.reload_config_texts=t.flush_config_state=t.pop_config_state=t.push_config_state=t.override_config_data=t.set_config_data=t.set_config_file=void 0;var i=n(420),_=n(559),a=[],c={file:"",data:{},ready:!1,type:"config"};t.set_config_file=function(e){_.log("Loading config "+e+"..."),c.file=e,i._downloadables.push(c);var t=new XMLHttpRequest;t.open("GET",e,!0),t.send(null),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=t.getResponseHeader("Content-Type");1!==(null==e?void 0:e.indexOf("text"))&&(c.data=(n=t.responseText,i={},_=n.split("\n").filter((function(e){return!/^#/u.exec(e)&&e.length>0})),a="",_.forEach((function(e){var t;if(/\[[a-zA-Z]*\]/u.exec(e))a=e.replace("[","").replace("]","");else if(e.includes("=")){var n=o(e.split("="),2),_=n[0],c=n[1],s=null==_?void 0:_.trim(),u=null==c?void 0:c.trim();"string"==typeof s&&"string"==typeof u&&(i[a]=r(r({},i[a]),((t={})[s]=u,t)))}})),i),c.ready=!0)}var n,i,_,a}},t.set_config_data=function(e,t){c.data=e},t.override_config_data=function(e,t){c.data=e},t.push_config_state=function(){a.push(c),c={file:"",data:{},ready:!1,type:"config"}},t.pop_config_state=function(){var e=a.pop();e&&(c=e)},t.flush_config_state=function(){},t.reload_config_texts=function(e){},t.hook_config_section=function(e,t,n,r){},t.config_is_hooked=function(e){return!1},t.get_config_string=function(e,t,n){var r,o;return null!==(o=null===(r=c.data[e])||void 0===r?void 0:r[t])&&void 0!==o?o:n},t.get_config_int=function(e,t,n){var r,o=null===(r=c.data[e])||void 0===r?void 0:r[t];return"string"==typeof o?parseInt(o,10):n},t.get_config_hex=function(e,t,n){var r,o=null===(r=c.data[e])||void 0===r?void 0:r[t];return"string"==typeof o?parseInt(o,10):n},t.get_config_float=function(e,t,n){var r,o=null===(r=c.data[e])||void 0===r?void 0:r[t];return"string"==typeof o?parseFloat(o):n},t.get_config_id=function(e,t,n){var r,o;return null!==(o=null===(r=c.data[e])||void 0===r?void 0:r[t])&&void 0!==o?o:n},t.get_config_argv=function(e,t){var n,r;return(null!==(r=null===(n=c.data[e])||void 0===n?void 0:n[t])&&void 0!==r?r:"").split(" ")},t.get_config_text=function(e){return e},t.set_config_string=function(e,t,n){var o;e||(c.data[e]={}),c.data[e]=r(r({},c.data[e]),((o={})[t]=n,o))},t.set_config_int=function(e,t,n){var o;e||(c.data[e]={}),c.data[e]=r(r({},c.data[e]),((o={})[t]=n.toString(),o))},t.set_config_hex=function(e,t,n){var o;e||(c.data[e]={}),c.data[e]=r(r({},c.data[e]),((o={})[t]=n.toString(),o))},t.set_config_float=function(e,t,n){var o;e||(c.data[e]={}),c.data[e]=r(r({},c.data[e]),((o={})[t]=n.toString(),o))},t.set_config_id=function(e,t,n){var o;e||(c.data[e]={}),c.data[e]=r(r({},c.data[e]),((o={})[t]=n.toString(),o))},t.list_config_entries=function(e){var t;return Object.keys(null!==(t=c.data[e])&&void 0!==t?t:{})},t.list_config_sections=function(e){return Object.keys(c.data)},t.free_config_entries=function(e){e.forEach((function(e){return delete c.data[e]}))}},420:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function _(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(_,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,_={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;_;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return _.label++,{value:i[1],done:!1};case 5:_.label++,r=i[1],i=[0];continue;case 7:i=_.ops.pop(),_.trys.pop();continue;default:if(!((o=(o=_.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){_=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){_.label=i[1];break}if(6===i[0]&&_.label<o[1]){_.label=o[1],o=i;break}if(o&&_.label<o[2]){_.label=o[2],_.ops.push(i);break}o[2]&&_.ops.pop(),_.trys.pop();continue}i=t.call(e,_)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.allegro_ready=t.init_allegro_ts=t.loading_bar=t._progress_check=t._uberloop=t._downloadables=void 0;var i=n(512),_=n(940),a=n(559),c=n(958),s=n(654),u=n(182),l=n(753),f=n(40),d=n(393),p=n(644),m=n(498);t._downloadables=[],t._uberloop=function(){f._mouse_loop(),u._keyboard_loop(),f._mouse_loop_reset(),p._touch_loop()};var E=0,v=h;function g(){return r(this,void 0,void 0,(function(){var e,n,r;return o(this,(function(o){switch(o.label){case 0:e=!1,o.label=1;case 1:return e?[3,3]:(n=t._downloadables.length,r=t._downloadables.filter((function(e){return e.ready})).length,v(n/r),r>=n&&(a.log("Loading complete! Took "+((Date.now()-E)/1e3).toFixed(1)+" seconds!"),d.clear_bitmap(i.screen),e=!0),[4,m.rest(100)]);case 2:return o.sent(),[3,1];case 3:return[2]}}))}))}function h(e){d.rectfill(i.screen,5,s.SCREEN_H-55,s.SCREEN_W-10,50,_.makecol(0,0,0)),d.rectfill(i.screen,10,s.SCREEN_H-50,s.SCREEN_W-10,s.SCREEN_H-10,_.makecol(255,255,255)),d.rectfill(i.screen,15,s.SCREEN_H-45,s.SCREEN_W-15,s.SCREEN_H-15,_.makecol(0,0,0)),d.rectfill(i.screen,20,s.SCREEN_H-40,l.scaleclamp(e,0,1,20,s.SCREEN_W-20),s.SCREEN_H-20,_.makecol(255,255,255))}t._progress_check=g,t.loading_bar=h,t.init_allegro_ts=function(e,t){var n=document.getElementById(e);if(n){var u=n.getContext("2d");if(!u)throw new Error("Context not defined");i.screen.canvas=n,i.screen.context=u,t&&window.addEventListener("load",(function(){!function(e){r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),s.set_gfx_mode(s.GFX_AUTODETECT_WINDOWED,320,200,0,0),d.clear_to_color(i.screen,_.makecol(100,100,100)),c.textprintf_centre_ex(i.screen,s.font,s.SCREEN_W/2,s.SCREEN_H/2,_.makecol(255,255,255),-1,"Program ended with code %i",t),[2]}}))}))}(t)}))}else a._error("Can't find canvas with id "+e)},t.allegro_ready=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){return E=Date.now(),a.log("Loader initialised!"),[2,g()]}))}))}},559:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wipe_log=t._allog=t.log=t.enable_debug=t._onerror=t._error=void 0;var n=!1,r=null;function o(e){var t,n=e.filename.split("/");n.reverse(),i("["+(null!==(t=n[0])&&void 0!==t?t:"")+":"+e.lineno+":"+e.colno+"] "+e.message)}function i(e){console.log(e),n&&r&&(r.innerHTML=r.innerHTML+e+"<br/>")}t._error=function(e){i("[ERROR] "+e),alert(e)},t._onerror=o,t.enable_debug=function(e){r=document.getElementById(e),window.addEventListener("error",o),r&&(n=!0)},t.log=i,t._allog=function(e){console.log(e),n&&r&&(r.innerHTML=r.innerHTML+e+"<br/>")},t.wipe_log=function(){n&&r&&(r.innerHTML="")}},958:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.textprintf_justify_ex=t.textprintf_right_ex=t.textprintf_centre_ex=t.textprintf_ex=t.textout_justify_ex=t.textout_right_ex=t.textout_centre_ex=t.textout_ex=t.text_height=t.text_length=t.allegro_404_char=t.merge_fonts=t.transpose_font=t.extract_font_range=t.get_font_range_end=t.get_font_range_begin=t.get_font_ranges=t.is_compatible_font=t.is_mono_font=t.is_color_font=t.make_trans_font=t.destroy_font=t.load_font=t.register_font_file_type=void 0;var r=n(393),o=n(777),i=n(512),_=null,a=0;function c(e,t){return _||(_=i.create_bitmap(0,0)),_.context.font=e.size+"px "+e.name,_.context.measureText(t).width}function s(e){return e.size}function u(e,t,n,o,i,_,a,u){if(e){if(e.context.font=t.size+"px "+t.name,e.context.textAlign=u,r._fillstyle(e,_),-1!==a){var l=c(t,n),f=s(t);switch(u){case"center":r.rectfill(e,o-l/2,i,o-l/2+l,i+1.2*f,a);break;case"right":r.rectfill(e,o-l,i,o-l+l,i+1.2*f,a);break;default:r.rectfill(e,o,i,o+l,i+1.2*f,a)}}r._fillstyle(e,_),e.context.fillText(n,o,i+t.size)}}t.register_font_file_type=function(e,t){},t.load_font=function(e,t){void 0===t&&(t=12);var n=document.createElement("style"),r="font"+(a+=1);return n.id=r,n.type="text/css",document.head.appendChild(n),n.textContent="@font-face { font-family: "+r+"; src:url('"+e+"');}",{element:n,file:e,name:r,size:t,type:"fnt"}},t.destroy_font=function(e){},t.make_trans_font=function(e){},t.is_color_font=function(e){return!0},t.is_mono_font=function(e){return!1},t.is_compatible_font=function(e){return!0},t.get_font_ranges=function(e){return 1},t.get_font_range_begin=function(e,t){return 1},t.get_font_range_end=function(e,t){return 1},t.extract_font_range=function(e,t,n){return e},t.transpose_font=function(e,t){return e},t.merge_fonts=function(e,t){return e},t.allegro_404_char="^",t.text_length=c,t.text_height=s,t.textout_ex=function(e,t,n,r,o,i,_){u(e,t,n,r,o,i,_,"left")},t.textout_centre_ex=function(e,t,n,r,o,i,_){u(e,t,n,r,o,i,_,"center")},t.textout_right_ex=function(e,t,n,r,o,i,_){u(e,t,n,r,o,i,_,"right")},t.textout_justify_ex=function(e,t,n,r,o,i,_){u(e,t,n,r,o,i,_,"center")},t.textprintf_ex=function(e,t,n,r,i,_,a){for(var c=[],s=7;s<arguments.length;s++)c[s-7]=arguments[s];u(e,t,o.vsprintf(a,c),n,r,i,_,"left")},t.textprintf_centre_ex=function(e,t,n,r,i,_,a){for(var c=[],s=7;s<arguments.length;s++)c[s-7]=arguments[s];u(e,t,o.vsprintf(a,c),n,r,i,_,"center")},t.textprintf_right_ex=function(e,t,n,r,i,_,a){for(var c=[],s=7;s<arguments.length;s++)c[s-7]=arguments[s];u(e,t,o.vsprintf(a,c),n,r,i,_,"right")},t.textprintf_justify_ex=function(e,t,n,r,i,_,a){for(var c=[],s=7;s<arguments.length;s++)c[s-7]=arguments[s];u(e,t,o.vsprintf(a,c),n,r,i,_,"center")}},654:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GFX_SYSTEM_CURSOR=t.GFX_HW_SYS_TO_VRAM_BLIT_MASKED=t.GFX_HW_SYS_TO_VRAM_BLIT=t.GFX_HW_MEM_BLIT_MASKED=t.GFX_HW_MEM_BLIT=t.GFX_HW_VRAM_BLIT_MASKED=t.GFX_HW_VRAM_BLIT=t.GFX_HW_GLYPH=t.GFX_HW_TRIANGLE_XOR=t.GFX_HW_TRIANGLE=t.GFX_HW_LINE_XOR=t.GFX_HW_LINE=t.GFX_HW_FILL_COPY_PATTERN=t.GFX_HW_FILL_SOLID_PATTERN=t.GFX_HW_FILL_XOR=t.GFX_HW_FILL=t.GFX_HW_HLINE_COPY_PATTERN=t.GFX_HW_HLINE_SOLID_PATTERN=t.GFX_HW_HLINE_XOR=t.GFX_HW_HLINE=t.GFX_HW_CURSOR=t.GFX_CAN_TRIPLE_BUFFER=t.GFX_CAN_SCROLL=t.is_windowed_mode=t.get_display_switch_mode=t.remove_display_switch_callback=t.SWITCH_OUT=t.SWITCH_IN=t.set_display_switch_callback=t.SWITCH_BACKAMNESIA=t.SWITCH_BACKGROUND=t.SWITCH_AMNESIA=t.SWITCH_PAUSE=t.SWITCH_NONE=t.set_display_switch_mode=t.GFX_SAFE=t.GFX_AUTODETECT_WINDOWED=t.GFX_AUTODETECT_FULLSCREEN=t.GFX_AUTODETECT=t.GFX_TEXT=t.set_gfx_mode=t.destroy_gfx_mode_list=t.get_gfx_mode_list=t.get_refresh_rate=t.request_refresh_rate=t.get_color_depth=t.set_color_depth=t.SCREEN_H=t.SCREEN_W=t.gfx_driver=void 0,t.font=t._gfx_installed=t.vsync=t.request_video_bitmap=t.show_video_bitmap=t.poll_scroll=t.request_scroll=t.scroll_screen=t.enable_triple_buffer=t.gfx_capabilities=t.GFX_HW_SYS_STRETCH_BLIT_MASKED=t.GFX_HW_SYS_STRETCH_BLIT=t.GFX_HW_VRAM_STRETCH_BLIT_MASKED=t.GFX_HW_VRAM_STRETCH_BLIT=void 0;var r=n(951),o=n(559),i=n(393),_=n(281),a=n(512),c=n(585);t.gfx_driver={id:0,name:"No Graphics",desc:"No Graphics",ascii_name:"No Graphics",w:0,h:0,linear:!1,bank_size:0,vid_mem:0,vid_phys_base:0,windowed:!0},t.SCREEN_W=0,t.SCREEN_H=0,t.set_color_depth=function(e){return 0},t.get_color_depth=function(){return 32},t.request_refresh_rate=function(e){},t.get_refresh_rate=function(){return 60},t.get_gfx_mode_list=function(e){return[[0,0,0]]},t.destroy_gfx_mode_list=function(e){},t.set_gfx_mode=function(e,n,_,c,s){if(void 0===c&&(c=0),void 0===s&&(s=0),a.screen.context.imageSmoothingEnabled=!1,t.SCREEN_W=n,t.SCREEN_H=_,a.screen.canvas.width=n,a.screen.canvas.height=_,a.screen.w=n,a.screen.h=_,a.screen.ready=!0,i.clear_to_color(a.screen,r.makecol(0,0,0)),t.gfx_driver.name="Browser Graphics",t.gfx_driver.desc="Browser Graphics",t.gfx_driver.ascii_name="Browser Graphics",t.gfx_driver.w=window.outerWidth,t.gfx_driver.h=window.outerHeight,t.font={element:null,file:"",name:"Monospace",size:12,type:"fnt"},t._gfx_installed=!0,o.log("Graphics mode set to "+n+" x "+_),e===t.GFX_AUTODETECT_FULLSCREEN){var u=function(){a.screen.canvas.requestFullscreen(),a.screen.canvas.removeEventListener("click",u)};a.screen.canvas.addEventListener("click",u)}else e===t.GFX_TEXT&&(a.screen.canvas.width=0,a.screen.canvas.height=0,a.screen.w=0,a.screen.h=0);return 0},t.GFX_TEXT=-1,t.GFX_AUTODETECT=0,t.GFX_AUTODETECT_FULLSCREEN=1,t.GFX_AUTODETECT_WINDOWED=2,t.GFX_SAFE=3,t.set_display_switch_mode=function(e){switch(u.length=0,l.length=0,s=e,e){case t.SWITCH_AMNESIA:case t.SWITCH_PAUSE:return a.screen.canvas.addEventListener("pointerleave",(function(){c._set_loop_interval(-1)})),a.screen.canvas.addEventListener("pointerenter",(function(){c._set_loop_interval(window.setInterval(r._uberloop,16.6))})),0;case t.SWITCH_NONE:return-1;case t.SWITCH_BACKAMNESIA:case t.SWITCH_BACKGROUND:default:return 0}},t.SWITCH_NONE=0,t.SWITCH_PAUSE=1,t.SWITCH_AMNESIA=2,t.SWITCH_BACKGROUND=3,t.SWITCH_BACKAMNESIA=4;var s=t.SWITCH_PAUSE;t.set_display_switch_callback=function(e,n){return u.length+l.length>=8?-1:(e===t.SWITCH_IN?u.push(n):e===t.SWITCH_OUT&&l.push(n),0)};var u=[],l=[];t.SWITCH_IN=0,t.SWITCH_OUT=1,t.remove_display_switch_callback=function(e){var t=u.findIndex((function(t){return t===e})),n=l.findIndex((function(t){return t===e}));-1!==t&&u.splice(t,1),-1!==n&&u.splice(n,1)},t.get_display_switch_mode=function(){return s},t.is_windowed_mode=function(){return!document.fullscreenElement},t.GFX_CAN_SCROLL=1,t.GFX_CAN_TRIPLE_BUFFER=2,t.GFX_HW_CURSOR=4,t.GFX_HW_HLINE=8,t.GFX_HW_HLINE_XOR=16,t.GFX_HW_HLINE_SOLID_PATTERN=32,t.GFX_HW_HLINE_COPY_PATTERN=64,t.GFX_HW_FILL=128,t.GFX_HW_FILL_XOR=256,t.GFX_HW_FILL_SOLID_PATTERN=512,t.GFX_HW_FILL_COPY_PATTERN=1024,t.GFX_HW_LINE=2048,t.GFX_HW_LINE_XOR=4096,t.GFX_HW_TRIANGLE=8192,t.GFX_HW_TRIANGLE_XOR=16384,t.GFX_HW_GLYPH=32768,t.GFX_HW_VRAM_BLIT=65536,t.GFX_HW_VRAM_BLIT_MASKED=131072,t.GFX_HW_MEM_BLIT=262144,t.GFX_HW_MEM_BLIT_MASKED=524288,t.GFX_HW_SYS_TO_VRAM_BLIT=1048576,t.GFX_HW_SYS_TO_VRAM_BLIT_MASKED=2097152,t.GFX_SYSTEM_CURSOR=4194304,t.GFX_HW_VRAM_STRETCH_BLIT=8388608,t.GFX_HW_VRAM_STRETCH_BLIT_MASKED=16777216,t.GFX_HW_SYS_STRETCH_BLIT=33554432,t.GFX_HW_SYS_STRETCH_BLIT_MASKED=67108864,t.gfx_capabilities=t.GFX_HW_CURSOR|t.GFX_HW_HLINE|t.GFX_HW_FILL|t.GFX_HW_LINE|t.GFX_HW_TRIANGLE|t.GFX_HW_VRAM_BLIT|t.GFX_HW_VRAM_BLIT|t.GFX_HW_MEM_BLIT|t.GFX_SYSTEM_CURSOR|t.GFX_HW_SYS_STRETCH_BLIT,t.enable_triple_buffer=function(){return 0},t.scroll_screen=function(e,t){},t.request_scroll=function(e,t){},t.poll_scroll=function(){},t.show_video_bitmap=function(e){e&&e.w===a.screen.w&&e.h===a.screen.h&&_.draw_sprite(a.screen,e,0,0)},t.request_video_bitmap=function(e){return e},t.vsync=function(){},t._gfx_installed=!1},182:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function _(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(_,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,_={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;_;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return _.label++,{value:i[1],done:!1};case 5:_.label++,r=i[1],i=[0];continue;case 7:i=_.ops.pop(),_.trys.pop();continue;default:if(!((o=(o=_.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){_=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){_.label=i[1];break}if(6===i[0]&&_.label<o[1]){_.label=o[1],o=i;break}if(o&&_.label<o[2]){_.label=o[2],_.ops.push(i);break}o[2]&&_.ops.pop(),_.trys.pop();continue}i=t.call(e,_)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_BACKSLASH=t.KEY_B=t.KEY_ASTERISK=t.KEY_ALTGR=t.KEY_ALT=t.KEY_A=t.KEY_9_PAD=t.KEY_9=t.KEY_8_PAD=t.KEY_8=t.KEY_7_PAD=t.KEY_7=t.KEY_6_PAD=t.KEY_6=t.KEY_5_PAD=t.KEY_5=t.KEY_4_PAD=t.KEY_4=t.KEY_3_PAD=t.KEY_3=t.KEY_2_PAD=t.KEY_2=t.KEY_1_PAD=t.KEY_1=t.KEY_0_PAD=t.KEY_0=t.key_led_flag=t.three_finger_flag=t.clear_keybuf=t.set_keyboard_rate=t.set_leds=t.keyboard_lowlevel_callback=t.keyboard_ucallback=t.keyboard_callback=t.simulate_ukeypress=t.simulate_keypress=t.scancode_to_name=t.scancode_to_ascii=t.ureadkey=t.readkey=t.keypressed=t.key_shifts=t.key_buffer=t.key=t.keyboard_needs_poll=t.poll_keyboard=t.install_keyboard_hooks=t.remove_keyboard=t.install_keyboard=t.keyboard_driver=void 0,t.KEY_OPENBRACE=t.KEY_O=t.KEY_NUMLOCK=t.KEY_N=t.KEY_MINUS_PAD=t.KEY_MINUS=t.KEY_MENU=t.KEY_MAX=t.KEY_M=t.KEY_LWIN=t.KEY_LSHIFT=t.KEY_LEFT=t.KEY_LCONTROL=t.KEY_L=t.KEY_K=t.KEY_J=t.KEY_INSERT=t.KEY_I=t.KEY_HOME=t.KEY_H=t.KEY_G=t.KEY_F9=t.KEY_F8=t.KEY_F7=t.KEY_F6=t.KEY_F5=t.KEY_F4=t.KEY_F3=t.KEY_F2=t.KEY_F12=t.KEY_F11=t.KEY_F10=t.KEY_F1=t.KEY_F=t.KEY_ESC=t.KEY_EQUALS_PAD=t.KEY_EQUALS=t.KEY_ENTER_PAD=t.KEY_ENTER=t.KEY_END=t.KEY_E=t.KEY_DOWN=t.KEY_DEL=t.KEY_D=t.KEY_COMMA=t.KEY_COLON=t.KEY_CLOSEBRACE=t.KEY_CAPSLOCK=t.KEY_C=t.KEY_BACKSPACE=void 0,t._keyboard_loop=t._default_enabled_keys=t._keyboard_installed=t.KB_SHIFT_FLAG=t.KB_SCROLOCK_FLAG=t.KB_RWIN_FLAG=t.KB_NUMLOCK_FLAG=t.KB_MENU_FLAG=t.KB_LWIN_FLAG=t.KB_INALTSEQ_FLAG=t.KB_CTRL_FLAG=t.KB_COMMAND_FLAG=t.KB_CAPSLOCK_FLAG=t.KB_ALT_FLAG=t.KB_ACCENT4_FLAG=t.KB_ACCENT3_FLAG=t.KB_ACCENT2_FLAG=t.KB_ACCENT1_FLAG=t.KEY_Z=t.KEY_Y=t.KEY_X=t.KEY_W=t.KEY_V=t.KEY_UP=t.KEY_U=t.KEY_TILDE=t.KEY_TAB=t.KEY_T=t.KEY_STOP=t.KEY_SPACE=t.KEY_SLASH_PAD=t.KEY_SLASH=t.KEY_SCRLOCK=t.KEY_S=t.KEY_RWIN=t.KEY_RSHIFT=t.KEY_RIGHT=t.KEY_RCONTROL=t.KEY_R=t.KEY_QUOTE=t.KEY_Q=t.KEY_PRTSCR=t.KEY_PLUS_PAD=t.KEY_PGUP=t.KEY_PGDN=t.KEY_PAUSE=t.KEY_P=void 0;var i=n(559),_=n(498);t.keyboard_driver={id:0,name:"Browser Keyboard",desc:" Browser Keyboard",ascii_name:"Browser Keyboard"},t.install_keyboard=function(e){if(t._keyboard_installed)return i._allog("Keyboard already installed"),-1;a=e||t._default_enabled_keys;for(var n=0;n<128;n+=1)t.key[n]=!1;return document.addEventListener("keyup",u),document.addEventListener("keydown",c),t._keyboard_installed=!0,i.log("Keyboard installed!"),0},t.remove_keyboard=function(){return t._keyboard_installed?(document.removeEventListener("keyup",u),document.removeEventListener("keydown",c),t._keyboard_installed=!1,i.log("Keyboard removed!"),0):(i._allog("Keyboard not installed"),-1)},t.install_keyboard_hooks=function(e,t){},t.poll_keyboard=function(){return 0},t.keyboard_needs_poll=function(){return!1},t.key=[],t.key_buffer=[],t.key_shifts=0,t.keypressed=function(){return t.key_buffer.length>0},t.readkey=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return 0!==t.key_buffer.length?[3,2]:[4,_.rest(5)];case 1:return n.sent(),[3,0];case 2:return"number"==typeof(e=t.key_buffer.pop())?[2,e]:[2,-1]}}))}))},t.ureadkey=function(e){return 0},t.scancode_to_ascii=function(e){return e},t.scancode_to_name=function(e){return e},t.simulate_keypress=function(e){s(e)},t.simulate_ukeypress=function(e,t){s(e)},t.keyboard_callback=function(e){},t.keyboard_ucallback=function(e,t){},t.keyboard_lowlevel_callback=function(e){},t.set_leds=function(e){},t.set_keyboard_rate=function(e,t){},t.clear_keybuf=function(){t.key_buffer.length=0},t.three_finger_flag=!1,t.key_led_flag=!1,t.KEY_0=48,t.KEY_0_PAD=96,t.KEY_1=49,t.KEY_1_PAD=97,t.KEY_2=50,t.KEY_2_PAD=98,t.KEY_3=51,t.KEY_3_PAD=99,t.KEY_4=52,t.KEY_4_PAD=100,t.KEY_5=53,t.KEY_5_PAD=101,t.KEY_6=54,t.KEY_6_PAD=102,t.KEY_7=55,t.KEY_7_PAD=103,t.KEY_8=56,t.KEY_8_PAD=104,t.KEY_9=57,t.KEY_9_PAD=105,t.KEY_A=65,t.KEY_ALT=18,t.KEY_ALTGR=18,t.KEY_ASTERISK=106,t.KEY_B=66,t.KEY_BACKSLASH=220,t.KEY_BACKSPACE=8,t.KEY_C=67,t.KEY_CAPSLOCK=20,t.KEY_CLOSEBRACE=221,t.KEY_COLON=186,t.KEY_COMMA=188,t.KEY_D=68,t.KEY_DEL=46,t.KEY_DOWN=40,t.KEY_E=69,t.KEY_END=35,t.KEY_ENTER=13,t.KEY_ENTER_PAD=13,t.KEY_EQUALS=187,t.KEY_EQUALS_PAD=12,t.KEY_ESC=27,t.KEY_F=70,t.KEY_F1=112,t.KEY_F10=121,t.KEY_F11=122,t.KEY_F12=123,t.KEY_F2=113,t.KEY_F3=114,t.KEY_F4=115,t.KEY_F5=116,t.KEY_F6=117,t.KEY_F7=118,t.KEY_F8=119,t.KEY_F9=120,t.KEY_G=71,t.KEY_H=72,t.KEY_HOME=36,t.KEY_I=73,t.KEY_INSERT=45,t.KEY_J=74,t.KEY_K=75,t.KEY_L=76,t.KEY_LCONTROL=17,t.KEY_LEFT=37,t.KEY_LSHIFT=16,t.KEY_LWIN=91,t.KEY_M=77,t.KEY_MAX=223,t.KEY_MENU=93,t.KEY_MINUS=189,t.KEY_MINUS_PAD=109,t.KEY_N=78,t.KEY_NUMLOCK=144,t.KEY_O=79,t.KEY_OPENBRACE=219,t.KEY_P=80,t.KEY_PAUSE=19,t.KEY_PGDN=34,t.KEY_PGUP=33,t.KEY_PLUS_PAD=107,t.KEY_PRTSCR=44,t.KEY_Q=81,t.KEY_QUOTE=222,t.KEY_R=82,t.KEY_RCONTROL=17,t.KEY_RIGHT=39,t.KEY_RSHIFT=16,t.KEY_RWIN=92,t.KEY_S=83,t.KEY_SCRLOCK=157,t.KEY_SLASH=191,t.KEY_SLASH_PAD=111,t.KEY_SPACE=32,t.KEY_STOP=190,t.KEY_T=84,t.KEY_TAB=9,t.KEY_TILDE=192,t.KEY_U=85,t.KEY_UP=38,t.KEY_V=86,t.KEY_W=87,t.KEY_X=88,t.KEY_Y=89,t.KEY_Z=90,t.KB_ACCENT1_FLAG=4096,t.KB_ACCENT2_FLAG=8192,t.KB_ACCENT3_FLAG=16384,t.KB_ACCENT4_FLAG=32768,t.KB_ALT_FLAG=4,t.KB_CAPSLOCK_FLAG=1024,t.KB_COMMAND_FLAG=64,t.KB_CTRL_FLAG=2,t.KB_INALTSEQ_FLAG=2048,t.KB_LWIN_FLAG=8,t.KB_MENU_FLAG=32,t.KB_NUMLOCK_FLAG=512,t.KB_RWIN_FLAG=16,t.KB_SCROLOCK_FLAG=256,t.KB_SHIFT_FLAG=1,t._keyboard_installed=!1,t._default_enabled_keys=[t.KEY_F1,t.KEY_F2,t.KEY_F3,t.KEY_F4,t.KEY_F5,t.KEY_F6,t.KEY_F7,t.KEY_F8,t.KEY_F9,t.KEY_F10,t.KEY_F11,t.KEY_F12,t.KEY_ESC];var a=[];function c(e){s(e.keyCode),a.includes(e.keyCode)||e.preventDefault()}function s(e){switch(t.key[e]=!0,t.key_buffer.push(e<<8),e){case t.KEY_LSHIFT:case t.KEY_RSHIFT:t.key_shifts|=t.KB_SHIFT_FLAG;break;case t.KEY_LCONTROL:case t.KEY_RCONTROL:t.key_shifts|=t.KB_CTRL_FLAG;break;case t.KEY_ALT:t.key_shifts|=t.KB_ALT_FLAG;break;case t.KEY_LWIN:t.key_shifts|=t.KB_LWIN_FLAG;break;case t.KEY_RWIN:t.key_shifts|=t.KB_RWIN_FLAG;break;case t.KEY_MENU:t.key_shifts|=t.KB_MENU_FLAG;break;case t.KEY_SCRLOCK:t.key_shifts|=t.KB_SCROLOCK_FLAG;break;case t.KEY_NUMLOCK:t.key_shifts|=t.KB_NUMLOCK_FLAG;break;case t.KEY_CAPSLOCK:t.key_shifts|=t.KB_CAPSLOCK_FLAG}}function u(e){!function(e){switch(t.key[e]=!1,e){case t.KEY_LSHIFT:case t.KEY_RSHIFT:t.key_shifts^=t.KB_SHIFT_FLAG;break;case t.KEY_LCONTROL:case t.KEY_RCONTROL:t.key_shifts^=t.KB_CTRL_FLAG;break;case t.KEY_ALT:t.key_shifts^=t.KB_ALT_FLAG;break;case t.KEY_LWIN:t.key_shifts^=t.KB_LWIN_FLAG;break;case t.KEY_RWIN:t.key_shifts^=t.KB_RWIN_FLAG;break;case t.KEY_MENU:t.key_shifts^=t.KB_MENU_FLAG;break;case t.KEY_SCRLOCK:t.key_shifts^=t.KB_SCROLOCK_FLAG;break;case t.KEY_NUMLOCK:t.key_shifts^=t.KB_NUMLOCK_FLAG;break;case t.KEY_CAPSLOCK:t.key_shifts^=t.KB_CAPSLOCK_FLAG}}(e.keyCode),a.includes(e.keyCode)||e.preventDefault()}t._keyboard_loop=function(){t._keyboard_installed}},753:(e,t)=>{function n(e){return 180*-e/t.PI}function r(e){return Math.floor(e)}function o(){return Math.floor(65536*Math.random())}Object.defineProperty(t,"__esModule",{value:!0}),t.scaleclamp=t.scale=t.clamp=t.anglediff=t.angle=t.sgn=t.dot=t.lerp=t.linedist=t.distance2=t.distance=t.length_=t.abs=t.frand=t.rand32=t.AL_RAND=t.rand=t.floor=t.DEG=t.RAD=t.PI_4=t.PI_3=t.PI_2=t.PI2=t.PI=void 0,t.PI=3.14159265,t.PI2=6.2831853,t.PI_2=1.570796325,t.PI_3=3.14159265/3,t.PI_4=.7853981625,t.RAD=function(e){return-e*t.PI/180},t.DEG=n,t.floor=r,t.rand=o,t.AL_RAND=function(){return o()},t.rand32=function(){return o()|o()<<16},t.frand=function(){return Math.random()},t.abs=function(e){return e<0?-e:e},t.length_=function(e,t){return Math.sqrt(e*e+t*t)},t.distance=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},t.distance2=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)},t.linedist=function(e,t,n,r,o,i){var _=n-e,a=r-t,c=((o-e)*_+(i-t)*a)/(_*_+a*a);c>1?c=1:c<0&&(c=0);var s=e+c*_-o,u=t+c*a-i;return Math.sqrt(s*s+u*u)},t.lerp=function(e,t,n){return e+(t-e)*n},t.dot=function(e,t,n,r){return e*n+t*r},t.sgn=function(e){return e<0?-1:e>0?1:0},t.angle=function(e,t,r,o){var i=n(Math.atan2(o-t,r-e));return i<0?i+360:i},t.anglediff=function(e,t){var n=t-e;return(n=360*((n/=360)-r(n)))>180&&(n-=360),n},t.clamp=function(e,t,n){return n>t?e<t?t:e>n?n:e:e<n?n:e>t?t:e},t.scale=function(e,t,n,r,o){return r+(e-t)/(n-t)*(o-r)},t.scaleclamp=function(e,t,n,r,o){var i=r+(e-t)/(n-t)*(o-r);return o>r?(i=i<o?i:o)>r?i:r:(i=i<r?i:r)>o?i:o}},146:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function _(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(_,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,_={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;_;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return _.label++,{value:i[1],done:!1};case 5:_.label++,r=i[1],i=[0];continue;case 7:i=_.ops.pop(),_.trys.pop();continue;default:if(!((o=(o=_.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){_=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){_.label=i[1];break}if(6===i[0]&&_.label<o[1]){_.label=o[1],o=i;break}if(o&&_.label<o[2]){_.label=o[2],_.ops.push(i);break}o[2]&&_.ops.pop(),_.trys.pop();continue}i=t.call(e,_)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.load_ibk=t.midi_msg_callback=t.midi_loop_end=t.midi_loop_start=t.midi_time=t.midi_pos=t.load_midi_patches=t.midi_out=t.get_midi_length=t.midi_seek=t.midi_resume=t.midi_pause=t.stop_midi=t.play_looped_midi=t.play_midi=t.lock_midi=t.destroy_midi=t.load_midi=t.midi_driver=void 0;var i=n(559),_=n(193);function a(e,t){}t.midi_driver={id:0,name:"Browser MIDI",description:"Browser MIDI",ascii_name:"Browser MIDI"},t.load_midi=function(e){return r(this,void 0,void 0,(function(){var t,n,a=this;return o(this,(function(c){switch(c.label){case 0:return i.log("Loading midi "+e+"..."),[4,fetch(e).then((function(e){return r(a,void 0,void 0,(function(){return o(this,(function(t){return[2,e.arrayBuffer()]}))}))})).then((function(e){return e}))];case 1:return t=c.sent(),(n=_.parseMidi(t))?(i.log("MIDI "+e+" loaded!"),[2,{file:e,ready:!0,type:"midi",data:n}]):[2,null]}}))}))},t.destroy_midi=function(e){},t.lock_midi=function(e){},t.play_midi=a,t.play_looped_midi=function(e,n,r){return t.midi_loop_start=n,t.midi_loop_end=r,0},t.stop_midi=function(){},t.midi_pause=function(){},t.midi_resume=function(){},t.midi_seek=function(e){},t.get_midi_length=function(e){return 0},t.midi_out=function(e,t){},t.load_midi_patches=function(){},t.midi_pos=0,t.midi_time=0,t.midi_loop_start=0,t.midi_loop_end=0,t.midi_msg_callback=function(e,t,n){},t.load_ibk=function(e,t){}},193:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseMidi=void 0;var r=n(559),o=n(442);function i(e,t,n,o,i){switch(e){case 15:var _=i.readIntVLV();i.movePointer(_),r.log("Unimplemented 0xF exclusive events! Skipped.");break;case 8:case 9:o.notes.push({time:n,on:!1,note:i.readInt(1),velocity:i.readInt(1),channel:t});break;case 12:o.programChange.push({time:n,program:i.readInt(1),channel:t});break;case 13:o.events.push({channel:t,time:n,type:e,data:[i.readInt(1)]});break;case 10:case 11:case 14:o.events.push({channel:t,time:n,type:e,data:[i.readInt(1),i.readInt(1)]});break;default:return!1}return!0}function _(e,t,n,o){var i=o.readIntVLV();switch(e){case 1:n.text.push({time:t,text:o.readStr(i)});break;case 2:n.copyright.push({time:t,text:o.readStr(i)});break;case 3:n.trackName.push({time:t,text:o.readStr(i)});break;case 4:n.instrumentName.push({time:t,text:o.readStr(i)});break;case 5:n.lyric.push({time:t,text:o.readStr(i)});break;case 6:n.marker.push({time:t,text:o.readStr(i)});break;case 7:n.cuePoint.push({time:t,text:o.readStr(i)});break;case 8:n.programName.push({time:t,text:o.readStr(i)});break;case 81:n.tempo.push({tempo:o.readInt(i),time:t});break;case 84:n.smpteOffset.push({time:t,hr:o.readInt(1),mn:o.readInt(1),se:o.readInt(1),fr:o.readInt(1),ff:o.readInt(1)});break;case 88:n.timeSignature.push({time:t,nn:o.readInt(1),dd:o.readInt(1),cc:o.readInt(1),bb:o.readInt(1)});break;case 89:n.keySignature.push({time:t,sf:o.readInt(1),mi:o.readInt(1)});break;default:r.log("Unimplemented meta event, 0x"+e.toString(16)+" detected! Skipped."),o.movePointer(i)}}t.parseMidi=function(e){var t=new Uint8Array(e),n=new o.FileParser(new DataView(t.buffer,t.byteOffset,t.byteLength)),a=n.readInt(4);if(1297377380!==a)return r.log("Header validation failed (not MIDI standard or file corrupt), code: 0x"+a.toString(16)),null;n.movePointer(4);var c={formatType:n.readInt(2),tracks:n.readInt(2),track:[],timeDivision:[]},s=n.readInt(1),u=n.readInt(1);c.timeDivision=s>=128?[s-128,u]:256*s+u;for(var l=1;l<=c.tracks;l+=1){var f={events:[],text:[],copyright:[],trackName:[],instrumentName:[],programName:[],lyric:[],marker:[],cuePoint:[],tempo:[],smpteOffset:[],timeSignature:[],keySignature:[],notes:[],programChange:[]};c.track.push(f);var d=n.readInt(4);if(-1===d)break;if(1297379947!==d)return r.log("Header validation failed (not MIDI standard or file corrupt), code: 0x"+d.toString(16)),null;n.movePointer(4);for(var p=!1,m=-1;!p;){var E,v=n.readIntVLV(),g=n.readInt(1);if(-1===g)break;if(g>=128?m=g:(g=m,n.movePointer(-1)),255===g)47===(E=n.readInt(1))?(p=!0,n.movePointer(1)):_(E,v,f,n);else if(!i(E=g>>4,15&g,v,f,n))return r.log("Unknown event 0x"+E.toString(16)+" detected! Reading cancelled!"),null}}return c}},40:(e,t,n)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t._mouseup=t._mousemenu=t._mouse_loop_reset=t._mouse_loop=t._menu_supress=t._menu=t._last_mouse_z=t._last_mouse_y=t._last_mouse_x=t._mouse_installed=t.mouse_mz=t.mouse_my=t.mouse_mx=t.mouse_callback=t.get_mouse_mickeys=t.set_mouse_sprite_focus=t.set_mouse_sprite=t.set_mouse_speed=t.set_mouse_range=t.position_mouse_z=t.position_mouse=t.freeze_mouse_flag=t.show_os_cursor=t.scare_mouse_area=t.scare_mouse=t.show_mouse=t.mouse_sprite=t.mouse_b=t.mouse_w=t.mouse_z=t.mouse_y=t.mouse_x=t.set_mouse_cursor_bitmap=t.select_mouse_cursor=t.disable_hardware_cursor=t.enable_hardware_cursor=t.mouse_needs_poll=t.poll_mouse=t.remove_mouse=t.install_mouse=t.mouse_driver=t.MOUSEDRV_NONE=t.MOUSEDRV_AUTODETECT=t.AL_NUM_MOUSE_CURSORS=t.MOUSE_CURSOR_EDIT=t.MOUSE_CURSOR_QUESTION=t.MOUSE_CURSOR_BUSY=t.MOUSE_CURSOR_ARROW=t.MOUSE_CURSOR_ALLEGRO=t.MOUSE_CURSOR_NONE=void 0,t._mousewheel=t._mousemove=t._mousedown=void 0;var o=n(559),i=n(512),_=n(281);t.MOUSE_CURSOR_NONE=0,t.MOUSE_CURSOR_ALLEGRO=1,t.MOUSE_CURSOR_ARROW=2,t.MOUSE_CURSOR_BUSY=3,t.MOUSE_CURSOR_QUESTION=4,t.MOUSE_CURSOR_EDIT=5,t.AL_NUM_MOUSE_CURSORS=6,t.MOUSEDRV_AUTODETECT=-1,t.MOUSEDRV_NONE=0,t.mouse_driver={id:t.MOUSEDRV_NONE,name:"",desc:"",ascii_name:"No mouse"};var a=0,c=0,s=!1,u=t.MOUSE_CURSOR_ALLEGRO,l=((r={})[t.MOUSE_CURSOR_ALLEGRO]=null,r[t.MOUSE_CURSOR_ARROW]=null,r[t.MOUSE_CURSOR_BUSY]=null,r[t.MOUSE_CURSOR_EDIT]=null,r[t.MOUSE_CURSOR_NONE]=null,r[t.MOUSE_CURSOR_QUESTION]=null,r);function f(e){switch(e){case t.MOUSE_CURSOR_ALLEGRO:i.screen.canvas.style.cursor="auto";break;case t.MOUSE_CURSOR_ARROW:i.screen.canvas.style.cursor="move";break;case t.MOUSE_CURSOR_BUSY:i.screen.canvas.style.cursor="wait";break;case t.MOUSE_CURSOR_EDIT:i.screen.canvas.style.cursor="crosshair";break;case t.MOUSE_CURSOR_NONE:i.screen.canvas.style.cursor="auto";break;case t.MOUSE_CURSOR_QUESTION:i.screen.canvas.style.cursor="help";break;default:i.screen.canvas.style.cursor="auto"}}function d(){t._mouse_installed&&(t.mouse_mx=t.mouse_x-t._last_mouse_x,t.mouse_my=t.mouse_y-t._last_mouse_y,t.mouse_mz=t.mouse_z-t._last_mouse_z)}function p(e){e.preventDefault()}function m(e){t.mouse_b&=~(1<<e.button),e.preventDefault()}function E(e){t.mouse_b|=1<<e.button,e.preventDefault()}function v(e){t.mouse_x=e.offsetX,t.mouse_y=e.offsetY,e.preventDefault()}function g(e){t.mouse_z+=e.deltaY,e.preventDefault()}t.install_mouse=function(e){return void 0===e&&(e=!1),t._mouse_installed?(o._allog("Mouse already installed"),-1):(t.mouse_driver.id=t.MOUSEDRV_AUTODETECT,t.mouse_driver.name="Browser Mouse",t.mouse_driver.desc="Allegro Browser Handler",t.mouse_driver.ascii_name="Browser Mouse",i.screen.canvas.addEventListener("mouseup",m),i.screen.canvas.addEventListener("mousedown",E),i.screen.canvas.addEventListener("mousemove",v),i.screen.canvas.addEventListener("wheel",g),e?t._menu_supress=!0:(i.screen.canvas.addEventListener("contextmenu",p),t._menu_supress=!1),t._mouse_installed=!0,o.log("Mouse installed!"),0)},t.remove_mouse=function(){return t._mouse_installed?(i.screen.canvas.removeEventListener("mouseup",m),i.screen.canvas.removeEventListener("mousedown",E),i.screen.canvas.removeEventListener("mousemove",v),i.screen.canvas.removeEventListener("wheel",g),t._menu_supress&&i.screen.canvas.removeEventListener("contextmenu",p),t._mouse_installed=!1,o.log("Mouse removed!"),0):(o._error("You must call install_mouse before remove_mouse"),-1)},t.poll_mouse=function(){d()},t.mouse_needs_poll=function(){return!1},t.enable_hardware_cursor=function(){s=!0},t.disable_hardware_cursor=function(){s=!1},t.select_mouse_cursor=function(e){u=e,s&&f(e)},t.set_mouse_cursor_bitmap=function(e,t){l[e]=t},t.mouse_x=-1,t.mouse_y=-1,t.mouse_z=-1,t.mouse_w=-1,t.mouse_b=0,t.mouse_sprite=null,t.show_mouse=function(e){return t._mouse_installed?(i.screen.canvas.style.cursor=e?"auto":"none",0):(o._error("You must call install_mouse before show_mouse"),-1)},t.scare_mouse=function(){return t._mouse_installed?(i.screen.canvas.style.cursor="none",0):(o._error("You must call install_mouse before hide_mouse"),-1)},t.scare_mouse_area=function(e,t,n,r){},t.show_os_cursor=f,t.freeze_mouse_flag=!1,t.position_mouse=function(e,n){t.mouse_x=e,t.mouse_y=n},t.position_mouse_z=function(e){t.mouse_z=e},t.set_mouse_range=function(e,t,n,r){},t.set_mouse_speed=function(e,t){},t.set_mouse_sprite=function(e){l[t.MOUSE_CURSOR_ALLEGRO]=e},t.set_mouse_sprite_focus=function(e,t){a=e,c=t},t.get_mouse_mickeys=function(e,t){},t.mouse_callback=function(e){},t.mouse_mx=0,t.mouse_my=0,t.mouse_mz=0,t._mouse_installed=!1,t._last_mouse_x=-1,t._last_mouse_y=-1,t._last_mouse_z=-1,t._menu=!1,t._menu_supress=!1,t._mouse_loop=d,t._mouse_loop_reset=function(){if(t._mouse_installed){t.mouse_mx=0,t.mouse_my=0,t.mouse_mz=0,t._last_mouse_x=t.mouse_x,t._last_mouse_y=t.mouse_y,t._last_mouse_z=t.mouse_z;var e=l[u];e&&!s?(_.draw_sprite(i.screen,e,t.mouse_x-a,t.mouse_y-c),i.screen.canvas.style.cursor="none"):f(u)}},t._mousemenu=p,t._mouseup=m,t._mousedown=E,t._mousemove=v,t._mousewheel=g},732:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.desktop_palette=t.set_palette=void 0,t.set_palette=function(e){},t.desktop_palette=[{r:63,g:63,b:63},{r:63,g:0,b:0},{r:0,g:63,b:0},{r:63,g:63,b:0},{r:0,g:0,b:63},{r:63,g:0,b:63},{r:0,g:63,b:63},{r:16,g:16,b:16},{r:31,g:31,b:31},{r:63,g:31,b:31},{r:31,g:63,b:31},{r:63,g:63,b:31},{r:31,g:31,b:63},{r:63,g:31,b:63},{r:31,g:63,b:63},{r:0,g:0,b:0}]},393:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._strokestyle=t._fillstyle=t.floodfill=t.spline=t.calc_spline=t.arc=t.do_arc=t.ellipsefill=t.ellipse=t.do_ellipse=t.circlefill=t.circle=t.do_circle=t.rectfill=t.rect=t.polygon=t.triangle=t.fastline=t.line=t.do_line=t.hline=t.vline=t._getpixel32=t._getpixel24=t._getpixel16=t._getpixel15=t._getpixel=t.getpixel=t._putpixel32=t._putpixel24=t._putpixel16=t._putpixel15=t._putpixel=t.putpixel=t.clear_to_color=t.clear_bitmap=void 0;var r=n(940),o=n(753);function i(e,t){e&&(e.context.clearRect(0,0,e.w,e.h),s(e,t),e.context.fillRect(0,0,e.w,e.h))}function _(e,t,n,r){e&&(s(e,r),e.context.fillRect(t,n,1,1))}function a(e,t,n){var r,o,i,_;if(!e||t<0||n<0||t>=e.w||n>=e.h)return-1;var a=e.context.getImageData(t,n,1,1).data;return(null!==(r=a[3])&&void 0!==r?r:0)<<24|(255&(null!==(o=a[0])&&void 0!==o?o:0))<<16|(255&(null!==(i=a[1])&&void 0!==i?i:0))<<8|255&(null!==(_=a[2])&&void 0!==_?_:0)}function c(e,t,n,r,o,i){e&&(u(e,i),e.context.beginPath(),e.context.moveTo(t,n),e.context.lineTo(r,o),e.context.stroke())}function s(e,t){e&&(e.context.fillStyle="rgba("+r.getr(t)+","+r.getg(t)+","+r.getb(t)+","+(255-r.geta(t))/255+")")}function u(e,t,n){void 0===n&&(n=1),e&&(e.context.lineWidth=n,e.context.strokeStyle="rgba("+r.getr(t)+","+r.getg(t)+","+r.getb(t)+","+(255-r.geta(t))/255+")")}t.clear_bitmap=function(e){i(e,0)},t.clear_to_color=i,t.putpixel=_,t._putpixel=function(e,t,n,r){_(e,t,n,r)},t._putpixel15=function(e,t,n,r){_(e,t,n,r)},t._putpixel16=function(e,t,n,r){_(e,t,n,r)},t._putpixel24=function(e,t,n,r){_(e,t,n,r)},t._putpixel32=function(e,t,n,r){_(e,t,n,r)},t.getpixel=a,t._getpixel=function(e,t,n){return a(e,t,n)},t._getpixel15=function(e,t,n){return a(e,t,n)},t._getpixel16=function(e,t,n){return a(e,t,n)},t._getpixel24=function(e,t,n){return a(e,t,n)},t._getpixel32=function(e,t,n){return a(e,t,n)},t.vline=function(e,t,n,r,o){e&&(s(e,o),e.context.fillRect(t-.5,n,1,r-n))},t.hline=function(e,t,n,r,o){e&&(s(e,o),e.context.fillRect(t,n-.5,r-t,1))},t.do_line=function(e,t,n,r,o,i,_){},t.line=c,t.fastline=function(e,t,n,r,o,i){c(e,t,n,r,o,i)},t.triangle=function(e,t,n,r,o,i,_,a){e&&(s(e,a),e.context.beginPath(),e.context.moveTo(t,n),e.context.lineTo(r,o),e.context.lineTo(i,_),e.context.closePath(),e.context.fill())},t.polygon=function(e,t,n,r){var o,i,_,a;if(e){s(e,r),e.context.beginPath();for(var c=0;c<t;c+=1)c?e.context.lineTo(null!==(o=n[2*c])&&void 0!==o?o:0,null!==(i=n[2*c+1])&&void 0!==i?i:0):e.context.moveTo(null!==(_=n[2*c])&&void 0!==_?_:0,null!==(a=n[2*c+1])&&void 0!==a?a:0);e.context.closePath(),e.context.fill()}},t.rect=function(e,t,n,r,o,i){e&&(u(e,i),e.context.strokeRect(t,n,r-t,o-n))},t.rectfill=function(e,t,n,r,o,i){e&&(s(e,i),e.context.fillRect(t,n,r-t,o-n))},t.do_circle=function(e,t,n,r,o,i){},t.circle=function(e,t,n,r,i){e&&(u(e,i),e.context.beginPath(),e.context.arc(t,n,r,0,o.PI2),e.context.stroke())},t.circlefill=function(e,t,n,r,i){e&&(s(e,i),e.context.beginPath(),e.context.arc(t,n,r,0,o.PI2),e.context.fill())},t.do_ellipse=function(e,t,n,r,o,i,_){},t.ellipse=function(e,t,n,r,i,_){e&&(u(e,_),e.context.save(),e.context.translate(t,n),e.context.scale(r,i),e.context.beginPath(),e.context.arc(0,0,1,0,o.PI2),e.context.restore(),e.context.stroke())},t.ellipsefill=function(e,t,n,r,i,_){e&&(s(e,_),e.context.save(),e.context.translate(t,n),e.context.scale(r,i),e.context.beginPath(),e.context.arc(0,0,1,0,o.PI2),e.context.restore(),e.context.fill())},t.do_arc=function(e,t,n,r,o,i,_,a){},t.arc=function(e,t,n,r,i,_,a){e&&(u(e,a),e.context.beginPath(),e.context.arc(t,n,_,o.RAD(r),o.RAD(i),!0),e.context.stroke())},t.calc_spline=function(e,t,n,r){},t.spline=function(e,t,n){var r,o,i,_,a,c,s,l,f,d;if(e&&8===t.length){u(e,n),e.context.beginPath();for(var p=0;p<t.length-1;p+=2){var m=((null!==(r=t[p])&&void 0!==r?r:0)+(null!==(o=t[p+2])&&void 0!==o?o:0))/2,E=((null!==(i=t[p+1])&&void 0!==i?i:0)+(null!==(_=t[p+3])&&void 0!==_?_:0))/2,v=(m+(null!==(a=t[p])&&void 0!==a?a:0))/2,g=(m+(null!==(c=t[p+2])&&void 0!==c?c:0))/2;e.context.quadraticCurveTo(v,null!==(s=t[p+1])&&void 0!==s?s:0,m,E),e.context.quadraticCurveTo(g,null!==(l=t[p+3])&&void 0!==l?l:0,null!==(f=t[p+2])&&void 0!==f?f:0,null!==(d=t[p+3])&&void 0!==d?d:0)}e.context.stroke()}},t.floodfill=function(e,t,n,r){},t._fillstyle=s,t._strokestyle=u},117:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function _(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(_,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,_={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;_;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return _.label++,{value:i[1],done:!1};case 5:_.label++,r=i[1],i=[0];continue;case 7:i=_.ops.pop(),_.trys.pop();continue;default:if(!((o=(o=_.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){_=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){_.label=i[1];break}if(6===i[0]&&_.label<o[1]){_.label=o[1],o=i;break}if(o&&_.label<o[2]){_.label=o[2],_.ops.push(i);break}o[2]&&_.ops.pop(),_.trys.pop();continue}i=t.call(e,_)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.stop_sample=t.adjust_sample=t.play_sample=t.destroy_sample=t.load_sample=t.get_volume=t.set_volume=t.remove_sound=t.install_sound=t.MIDI_DIGMID=t.MIDI_NONE=t.MIDI_AUTODETECT=t.DIGI_NONE=t.DIGI_AUTODETECT=t.digi_driver=void 0;var i=n(559),_=1,a=1;t.digi_driver={id:0,name:"Browser DIGI",desc:"Browser DIGI",ascii_name:"Browser DIGI"};var c=[],s=null,u=null;function l(e,t,n,r,o){e.pan.pan.value=n/127-1,e.gain.gain.value=t/255,e.source.loop=o,e.source.playbackRate.value=r/1e3}t.DIGI_AUTODETECT=-1,t.DIGI_NONE=0,t.MIDI_AUTODETECT=-1,t.MIDI_NONE=0,t.MIDI_DIGMID=1,t.install_sound=function(e,t,n){return s=new window.AudioContext,(u=s.createGain()).connect(s.destination),0},t.remove_sound=function(){},t.set_volume=function(e,t){e>255?_=255:e>=0&&(_=e),t>255?a=255:t>=0&&(a=t),u&&(u.gain.value=_/255)},t.get_volume=function(){return{digi_volume:_,midi_volume:a}},t.load_sample=function(e){return r(this,void 0,void 0,(function(){var t,n,_=this;return o(this,(function(a){switch(a.label){case 0:if(!s||!u)throw new Error("Can not load audio without audio context");return i.log("Loading sample "+e+"..."),t={file:e,source:s.createBufferSource(),gain:s.createGain(),buffer:null,pan:s.createStereoPanner(),ready:!1,type:"snd"},[4,fetch(e).then((function(e){return r(_,void 0,void 0,(function(){return o(this,(function(t){return[2,e.arrayBuffer()]}))}))})).then((function(e){return r(_,void 0,void 0,(function(){return o(this,(function(t){return[2,null==s?void 0:s.decodeAudioData(e)]}))}))}))];case 1:if(!(n=a.sent()))throw new Error("Could not load sample");return t.buffer=n,t.pan.connect(t.gain),t.gain.connect(u),t.ready=!0,i.log("Sample "+e+" loaded!"),[2,t]}}))}))},t.destroy_sample=function(e){var t=c.findIndex((function(t){return t===e}));-1!==t&&(i.log("Sample destroyed at index "+t),e.source.disconnect(),c.splice(t,1))},t.play_sample=function(e,t,n,r,o){void 0===t&&(t=255),void 0===n&&(n=127),void 0===r&&(r=1e3),void 0===o&&(o=!1),s&&(e.source=s.createBufferSource(),e.source.buffer=e.buffer,e.source.connect(e.pan),l(e,t,n,r,o),e.source.start(0))},t.adjust_sample=l,t.stop_sample=function(e){e.source.stop()}},777:function(e,t){var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),_=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)_.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return _},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.vsprintf=t.sprintf=void 0;var o={not_string:/[^s]/u,not_bool:/[^t]/u,not_type:/[^T]/u,not_primitive:/[^v]/u,number:/[diefg]/u,numeric_arg:/[bcdiefguxX]/u,json:/[j]/u,not_json:/[^j]/u,text:/^[^\x25]+/u,modulo:/^\x25{2}/u,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/u,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/iu,index_access:/^\[(\d+)\]/u,sign:/^[+-]/u};function i(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return function(e,t){var n,r,_,a,c,s,u,l,f,d=1,p=e.length,m="";for(r=0;r<p;r++)if("string"==typeof e[r])m+=e[r];else if("object"==typeof e[r]){if((a=e[r]).keys)for(n=t[d],_=0;_<a.keys.length;_++){if(null==n)throw new Error(i('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[_],a.keys[_-1]));n=n[a.keys[_]]}else n=a.param_no?t[a.param_no]:t[d++];if(o.not_type.test(a.type)&&o.not_primitive.test(a.type)&&n instanceof Function&&(n=n()),o.numeric_arg.test(a.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(i("[sprintf] expecting number but found %T",n));switch(o.number.test(a.type)&&(l=n>=0),a.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,a.width?parseInt(a.width):0);break;case"e":n=a.precision?parseFloat(n).toExponential(a.precision):parseFloat(n).toExponential();break;case"f":n=a.precision?parseFloat(n).toFixed(a.precision):parseFloat(n);break;case"g":n=a.precision?String(Number(n.toPrecision(a.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=a.precision?n.substring(0,a.precision):n;break;case"t":n=String(!!n),n=a.precision?n.substring(0,a.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=a.precision?n.substring(0,a.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=a.precision?n.substring(0,a.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}o.json.test(a.type)?m+=n:(!o.number.test(a.type)||l&&!a.sign?f="":(f=l?"+":"-",n=n.toString().replace(o.sign,"")),s=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",u=a.width-(f+n).length,c=a.width&&u>0?s.repeat(u):"",m+=a.align?f+n+c:"0"===s?f+c+n:c+f+n)}return m}(function(e){var t,n,r,i;if(_[e])return _[e];for(var a,c=e,s=[],u=0;c;){if(null!==(a=o.text.exec(c)))s.push(a[0]);else if(null!==(a=o.modulo.exec(c)))s.push("%");else{if(null===(a=o.placeholder.exec(c)))throw new SyntaxError("[sprintf] unexpected placeholder");if(a[2]){u|=1;var l=[],f=a[2],d=null;if(null===(d=o.key.exec(f)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(l.push(d[1]);""!==(f=f.substring(null!==(n=null===(t=d[0])||void 0===t?void 0:t.length)&&void 0!==n?n:0));)if(null!==(d=o.key_access.exec(f)))l.push(d[1]);else{if(null===(d=o.index_access.exec(f)))throw new SyntaxError("[sprintf] failed to parse named argument key");l.push(d[1])}a[2]=l}else u|=2;if(3===u)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");s.push({placeholder:a[0],param_no:a[1],keys:a[2],sign:a[3],pad_char:a[4],align:a[5],width:a[6],precision:a[7],type:a[8]})}c=c.substring(null!==(i=null===(r=a[0])||void 0===r?void 0:r.length)&&void 0!==i?i:0)}return _[e]=s}(e),r([e],n(t)))}t.sprintf=i,t.vsprintf=function(e,t){return i.apply(null,r([e],n(t)))};var _=Object.create(null)},281:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pivot_scaled_sprite_v_flip=t.pivot_scaled_sprite=t.pivot_sprite_v_flip=t.pivot_sprite=t.rotate_scaled_sprite_v_flip=t.rotate_scaled_sprite=t.rotate_sprite_v_flip=t.rotate_sprite=t.draw_character_ex=t.draw_gouraud_sprite=t.draw_lit_sprite=t.draw_trans_sprite=t.draw_sprite_vh_flip=t.draw_sprite_h_flip=t.draw_sprite_v_flip=t.stretch_sprite=t.draw_sprite=t.masked_stretch_blit=t.masked_blit=t.stretch_blit=t.blit=void 0;var r=n(753);function o(e,t,n,r){t&&e&&e.context.drawImage(t.canvas,n,r)}t.blit=function(e,t,n,r,o,i,_,a){e&&t&&t.context.drawImage(e.canvas,n,r,e.w,e.h,o,i,_,a)},t.stretch_blit=function(e,t,n,r,o,i,_,a,c,s){e&&t&&t.context.drawImage(e.canvas,n,r,o,i,_,a,c,s)},t.masked_blit=function(e,t,n,r,o,i,_,a){},t.masked_stretch_blit=function(e,t,n,r,o,i,_,a,c,s){},t.draw_sprite=o,t.stretch_sprite=function(e,t,n,r,o,i){e&&t&&e.context.drawImage(t.canvas,n,r,o,i)},t.draw_sprite_v_flip=function(e,t,n,r){e&&t&&(e.context.save(),e.context.translate(n,r),e.context.scale(-1,1),e.context.translate(-n-t.w,-r),e.context.drawImage(t.canvas,n,r),e.context.restore())},t.draw_sprite_h_flip=function(e,t,n,r){e&&t&&(e.context.save(),e.context.translate(n,r),e.context.scale(1,-1),e.context.translate(-n,-r-t.h),e.context.drawImage(t.canvas,n,r),e.context.restore())},t.draw_sprite_vh_flip=function(e,t,n,r){e&&t&&(e.context.save(),e.context.translate(n,r),e.context.scale(-1,-1),e.context.translate(-n-t.w,-r-t.h),e.context.drawImage(t.canvas,n,r),e.context.restore())},t.draw_trans_sprite=function(e,t,n,r){o(e,t,n,r)},t.draw_lit_sprite=function(e,t,n,r,i){o(e,t,n,r)},t.draw_gouraud_sprite=function(e,t,n,r,i,_,a,c){o(e,t,n,r)},t.draw_character_ex=function(e,t,n,r,i,_){o(e,t,n,r)},t.rotate_sprite=function(e,t,n,o,i){if(e&&t){var _=t.w/2,a=t.h/2;e.context.save(),e.context.translate(n+_,o+a),e.context.rotate(r.RAD(i)),e.context.translate(-n-_,-o-a),e.context.drawImage(t.canvas,n,o),e.context.restore()}},t.rotate_sprite_v_flip=function(e,t,n,o,i){if(e&&t){var _=t.w/2,a=t.h/2;e.context.save(),e.context.translate(n+_,o+a),e.context.rotate(r.RAD(i)),e.context.translate(-n-_,-o-a),e.context.translate(n,o),e.context.scale(-1,1),e.context.translate(-n-t.w,-o),e.context.drawImage(t.canvas,n,o),e.context.restore()}},t.rotate_scaled_sprite=function(e,t,n,o,i,_){if(e&&t){var a=t.w/2,c=t.h/2;e.context.save(),e.context.translate(n+a,o+c),e.context.rotate(r.RAD(i)),e.context.scale(_,_),e.context.translate(-n-a,-o-c),e.context.drawImage(t.canvas,n,o),e.context.restore()}},t.rotate_scaled_sprite_v_flip=function(e,t,n,o,i,_){if(e&&t){var a=t.w/2,c=t.h/2;e.context.save(),e.context.translate(n+a,o+c),e.context.rotate(r.RAD(i)),e.context.scale(_,_),e.context.translate(-n-a,-o-c),e.context.translate(n,o),e.context.scale(-1,1),e.context.translate(-n-t.w,-o),e.context.drawImage(t.canvas,n,o),e.context.restore()}},t.pivot_sprite=function(e,t,n,o,i,_,a){e&&t&&(e.context.save(),e.context.translate(n,o),e.context.rotate(r.RAD(a)),e.context.translate(-i,-_),e.context.drawImage(t.canvas,0,0),e.context.restore())},t.pivot_sprite_v_flip=function(e,t,n,o,i,_,a){e&&t&&(e.context.save(),e.context.translate(n,o),e.context.rotate(r.RAD(a)),e.context.translate(-i,-_),e.context.translate(n,o),e.context.scale(-1,1),e.context.translate(-n-t.w,-o),e.context.drawImage(t.canvas,0,0),e.context.restore())},t.pivot_scaled_sprite=function(e,t,n,o,i,_,a,c){if(e&&t){var s=c*i,u=c*_;e.context.save(),e.context.translate(n,o),e.context.rotate(r.RAD(a)),e.context.translate(-s,-u),e.context.scale(c,c),e.context.drawImage(t.canvas,0,0),e.context.restore()}},t.pivot_scaled_sprite_v_flip=function(e,t,n,o,i,_,a,c){if(e&&t){var s=c*i,u=c*_;e.context.save(),e.context.translate(n,o),e.context.rotate(r.RAD(a)),e.context.translate(-s,-u),e.context.scale(c,c),e.context.translate(n,o),e.context.scale(-1,1),e.context.translate(-n-t.w,-o),e.context.drawImage(t.canvas,0,0),e.context.restore()}}},498:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function _(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(_,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,_={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;_;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return _.label++,{value:i[1],done:!1};case 5:_.label++,r=i[1],i=[0];continue;case 7:i=_.ops.pop(),_.trys.pop();continue;default:if(!((o=(o=_.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){_=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){_.label=i[1];break}if(6===i[0]&&_.label<o[1]){_.label=o[1],o=i;break}if(o&&_.label<o[2]){_.label=o[2],_.ops.push(i);break}o[2]&&_.ops.pop(),_.trys.pop();continue}i=t.call(e,_)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t._timer_lookup=t.rest_callback=t.rest=t.retrace_count=t.remove_param_int=t.install_param_int_ex=t.install_param_int=t.remove_int=t.END_OF_FUNCTION=t.LOCK_FUNCTION=t.LOCK_VARIABLE=t.install_int_ex=t.BPM_TO_TIMER=t.BPS_TO_TIMER=t.MSEC_TO_TIMER=t.SECS_TO_TIMER=t.install_int=t.remove_timer=t.install_timer=t.timer_driver=void 0;var i=n(559);function _(e,t){a(e,t)}function a(e,t){var n=window.setInterval(e,t);u.push({timer:e,id:n}),i.log("Added insterrupt #"+n+" at "+t+"msec isntervals!")}function c(e,t,n){}function s(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2,new Promise((function(t){setTimeout(t,e)}))]}))}))}t.timer_driver={id:0,name:"Browser Timer",desc:" Browser Timer",ascii_name:"Browser Timer"},t.install_timer=function(){return _((function(){t.retrace_count+=1}),1e3/70),0},t.remove_timer=function(){},t.install_int=_,t.SECS_TO_TIMER=function(e){return 1e3*e},t.MSEC_TO_TIMER=function(e){return e},t.BPS_TO_TIMER=function(e){return 1e3/e},t.BPM_TO_TIMER=function(e){return 6e4/e},t.install_int_ex=a,t.LOCK_VARIABLE=function(e){},t.LOCK_FUNCTION=function(e){},t.END_OF_FUNCTION=function(e){},t.remove_int=function(e){u.forEach((function(t,n){t.timer===e&&(i.log("Removing interrupt "+t.id+"!"),window.clearInterval(t.id),u.splice(n,1))}))},t.install_param_int=function(e,t,n){},t.install_param_int_ex=c,t.remove_param_int=function(e,t){},t.retrace_count=0,t.rest=s,t.rest_callback=function(e,t){return r(this,void 0,void 0,(function(){return o(this,(function(n){return t?[2,new Promise((function(t){setTimeout(t,e)}))]:[2,s(e)]}))}))},t._timer_lookup=function(e){var t;return null!==(t=u.find((function(t){return t.timer===e})))&&void 0!==t?t:-1};var u=[]},644:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._touchmove=t._touchend=t._touchstart=t._get_touch=t._touch_loop=t.remove_touch=t.install_touch=t.touch_released=t.touch_pressed=t.touch=t._touch_installed=void 0;var r=n(559),o=n(512);function i(e){var n;return"number"!=typeof e?null:null!==(n=t.touch.find((function(t){return t.id===e})))&&void 0!==n?n:null}function _(e){if(e.target){for(var n=e.target.getBoundingClientRect(),r=0;r<e.changedTouches.length;r+=1){var o=e.changedTouches.item(r);if(o){var i={sx:o.clientX-n.left,sy:o.clientY-n.top,mx:0,my:0,px:o.clientX-n.left,py:o.clientY-n.top,x:o.clientX-n.left,y:o.clientY-n.top,id:o.identifier,dead:!1,age:0};t.touch.push(i),t.touch_pressed.push(i)}}e.preventDefault()}}function a(e){for(var n=0;n<e.changedTouches.length;n+=1){var r=e.changedTouches.item(n),o=i(null==r?void 0:r.identifier);o&&(t.touch.splice(t.touch.indexOf(o),1),t.touch_released.push(o),o.dead=!0)}e.preventDefault()}function c(e){if(e.target){for(var t=e.target.getBoundingClientRect(),n=0;n<e.changedTouches.length;n+=1){var r=e.changedTouches.item(n),o=i(null==r?void 0:r.identifier);if(o&&r){var _=r.clientX-t.left,a=r.clientY-t.top;o.mx+=o.x-_,o.my+=o.y-a,o.x=_,o.y=a}}e.preventDefault()}}t._touch_installed=!1,t.touch=[],t.touch_pressed=[],t.touch_released=[],t.install_touch=function(){return t._touch_installed?(r._allog("Touch already installed"),-1):(o.screen.canvas.addEventListener("touchstart",_),o.screen.canvas.addEventListener("touchend",a),o.screen.canvas.addEventListener("touchcancel",a),o.screen.canvas.addEventListener("touchmove",c),t._touch_installed=!0,r.log("Touch installed!"),0)},t.remove_touch=function(){return t._touch_installed?(o.screen.canvas.removeEventListener("touchstart",_),o.screen.canvas.removeEventListener("touchend",a),o.screen.canvas.removeEventListener("touchcancel",a),o.screen.canvas.removeEventListener("touchmove",c),t._touch_installed=!1,r.log("Touch removed!"),0):(r._allog("Touch not installed"),-1)},t._touch_loop=function(){t._touch_installed&&(t.touch_released.length=0,t.touch_pressed.length=0,t.touch.forEach((function(e){e.mx=0,e.my=0,e.px=e.x,e.py=e.y,e.age+=1})))},t._get_touch=i,t._touchstart=_,t._touchend=a,t._touchmove=c},842:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PAL_SIZE=void 0,t.PAL_SIZE=256},696:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ustrdup=t.ustricmp=void 0,t.ustricmp=function(e,t){return e.localeCompare(t)},t.ustrdup=function(e){return e}}}]);
//# sourceMappingURL=512.js.map