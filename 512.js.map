{"version":3,"file":"512.js","mappings":"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","sources":["webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/FileParser.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/allegro.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/bitmap.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/color.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/config.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/configuration.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/core.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/debug.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/font.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/graphics.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/keyboard.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/math.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/midi.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/midiParser.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/mouse.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/palette.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/primitives.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/sample.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/sprintf.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/sprites.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/timer.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/touch.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/types.js","webpack://allegro-ts-examples/./node_modules/allegro-ts/lib/unicode.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FileParser = void 0;\r\nvar FileParser = (function () {\r\n    function FileParser(dataView) {\r\n        this.data = dataView;\r\n        this.pointer = 0;\r\n    }\r\n    FileParser.prototype.movePointer = function (bytes) {\r\n        this.pointer += bytes;\r\n        return this.pointer;\r\n    };\r\n    FileParser.prototype.readInt = function (bytes) {\r\n        var clamp_bytes = Math.min(bytes, this.data.byteLength - this.pointer);\r\n        if (clamp_bytes < 1) {\r\n            return -1;\r\n        }\r\n        var value = 0;\r\n        if (clamp_bytes > 1) {\r\n            for (var i = 1; i <= clamp_bytes - 1; i += 1) {\r\n                value += this.data.getUint8(this.pointer) * Math.pow(256, (clamp_bytes - i));\r\n                this.pointer += 1;\r\n            }\r\n        }\r\n        value += this.data.getUint8(this.pointer);\r\n        this.pointer += 1;\r\n        return value;\r\n    };\r\n    FileParser.prototype.readStr = function (bytes) {\r\n        var text = \"\";\r\n        for (var char = 1; char <= bytes; char += 1)\r\n            text += String.fromCharCode(this.readInt(1));\r\n        return text;\r\n    };\r\n    FileParser.prototype.readIntVLV = function () {\r\n        var value = 0;\r\n        if (this.pointer >= this.data.byteLength) {\r\n            return -1;\r\n        }\r\n        else if (this.data.getUint8(this.pointer) < 128) {\r\n            value = this.readInt(1);\r\n        }\r\n        else {\r\n            var FirstBytes = [];\r\n            while (this.data.getUint8(this.pointer) >= 128) {\r\n                FirstBytes.push(this.readInt(1) - 128);\r\n            }\r\n            var lastByte = this.readInt(1);\r\n            for (var dt = 1; dt <= FirstBytes.length; dt += 1) {\r\n                var num = FirstBytes[FirstBytes.length - dt];\r\n                if (typeof num === \"number\") {\r\n                    value += num * Math.pow(128, dt);\r\n                }\r\n            }\r\n            value += lastByte;\r\n        }\r\n        return value;\r\n    };\r\n    return FileParser;\r\n}());\r\nexports.FileParser = FileParser;\r\n//# sourceMappingURL=FileParser.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./bitmap\"), exports);\r\n__exportStar(require(\"./color\"), exports);\r\n__exportStar(require(\"./config\"), exports);\r\n__exportStar(require(\"./configuration\"), exports);\r\n__exportStar(require(\"./core\"), exports);\r\n__exportStar(require(\"./debug\"), exports);\r\n__exportStar(require(\"./font\"), exports);\r\n__exportStar(require(\"./graphics\"), exports);\r\n__exportStar(require(\"./keyboard\"), exports);\r\n__exportStar(require(\"./math\"), exports);\r\n__exportStar(require(\"./midi\"), exports);\r\n__exportStar(require(\"./mouse\"), exports);\r\n__exportStar(require(\"./palette\"), exports);\r\n__exportStar(require(\"./primitives\"), exports);\r\n__exportStar(require(\"./sample\"), exports);\r\n__exportStar(require(\"./sprites\"), exports);\r\n__exportStar(require(\"./timer\"), exports);\r\n__exportStar(require(\"./touch\"), exports);\r\n__exportStar(require(\"./types\"), exports);\r\n__exportStar(require(\"./unicode\"), exports);\r\n//# sourceMappingURL=allegro.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.loadpng_init = exports.set_color_conversion = exports.register_bitmap_file_type = exports.save_tga_pf = exports.save_tga = exports.save_pcx_pf = exports.save_pcx = exports.save_bmp_pf = exports.save_bmp = exports.save_bitmap = exports.load_tga_pf = exports.load_tga = exports.load_pcx_pf = exports.load_pcx = exports.load_lbm = exports.load_bmp_pf = exports.load_bmp = exports.load_bitmap = exports.is_inside_bitmap = exports.get_clip_state = exports.set_clip_state = exports.add_clip_rect = exports.get_clip_rect = exports.set_clip_rect = exports.release_screen = exports.acquire_screen = exports.release_bitmap = exports.acquire_bitmap = exports.is_sub_bitmap = exports.is_system_bitmap = exports.is_video_bitmap = exports.is_screen_bitmap = exports.is_memory_bitmap = exports.is_linear_bitmap = exports.is_planar_bitmap = exports.is_same_bitmap = exports.bitmap_mask_color = exports.bitmap_color_depth = exports.lock_bitmap = exports.destroy_bitmap = exports.create_system_bitmap = exports.create_video_bitmap = exports.create_sub_bitmap = exports.create_bitmap_ex = exports.create_bitmap = exports.screen = void 0;\r\nvar color_1 = require(\"./color\");\r\nvar core_1 = require(\"./core\");\r\nvar debug_1 = require(\"./debug\");\r\nvar sprites_1 = require(\"./sprites\");\r\nexports.screen = {\r\n    w: 0,\r\n    h: 0,\r\n    canvas: null,\r\n    context: null,\r\n    ready: false,\r\n    type: \"bmp\",\r\n    clipping: false,\r\n    clipping_rect: { x1: 0, y1: 0, x2: 0, y2: 0 },\r\n    is_screen: true,\r\n    mem_type: \"video\",\r\n    parent: null,\r\n};\r\nfunction create_bitmap(width, height) {\r\n    debug_1.log(\"Creating bitmap at \" + width + \" x \" + height + \"!\");\r\n    var cv = document.createElement(\"canvas\");\r\n    cv.width = width;\r\n    cv.height = height;\r\n    var ctx = cv.getContext(\"2d\");\r\n    if (!ctx) {\r\n        throw new Error(\"Could not get context\");\r\n    }\r\n    ctx.imageSmoothingEnabled = false;\r\n    return {\r\n        w: width,\r\n        h: height,\r\n        canvas: cv,\r\n        context: ctx,\r\n        ready: true,\r\n        type: \"bmp\",\r\n        clipping: true,\r\n        clipping_rect: {\r\n            x1: 0,\r\n            y1: 0,\r\n            x2: width,\r\n            y2: height,\r\n        },\r\n        is_screen: false,\r\n        mem_type: \"memory\",\r\n        parent: null,\r\n    };\r\n}\r\nexports.create_bitmap = create_bitmap;\r\nfunction create_bitmap_ex(color_depth, width, height) {\r\n    void color_depth;\r\n    return create_bitmap(width, height);\r\n}\r\nexports.create_bitmap_ex = create_bitmap_ex;\r\nfunction create_sub_bitmap(parent, x, y, width, height) {\r\n    if (!parent) {\r\n        return null;\r\n    }\r\n    var new_bmp = create_bitmap(width, height);\r\n    sprites_1.blit(new_bmp, parent, x, y, 0, 0, width, height);\r\n    new_bmp.parent = parent;\r\n    return new_bmp;\r\n}\r\nexports.create_sub_bitmap = create_sub_bitmap;\r\nfunction create_video_bitmap(width, height) {\r\n    var bmp = create_bitmap(width, height);\r\n    bmp.mem_type = \"video\";\r\n    return bmp;\r\n}\r\nexports.create_video_bitmap = create_video_bitmap;\r\nfunction create_system_bitmap(width, height) {\r\n    var bmp = create_bitmap(width, height);\r\n    bmp.mem_type = \"system\";\r\n    return bmp;\r\n}\r\nexports.create_system_bitmap = create_system_bitmap;\r\nfunction destroy_bitmap(bitmap) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    bitmap.canvas.remove();\r\n    bitmap.ready = false;\r\n}\r\nexports.destroy_bitmap = destroy_bitmap;\r\nfunction lock_bitmap(bitmap) {\r\n    void bitmap;\r\n}\r\nexports.lock_bitmap = lock_bitmap;\r\nfunction bitmap_color_depth(bmp) {\r\n    void bmp;\r\n    return 32;\r\n}\r\nexports.bitmap_color_depth = bitmap_color_depth;\r\nfunction bitmap_mask_color(bmp) {\r\n    void bmp;\r\n    return color_1.makecol(255, 0, 255);\r\n}\r\nexports.bitmap_mask_color = bitmap_mask_color;\r\nfunction is_same_bitmap(bmp1, bmp2) {\r\n    if (!bmp1 || !bmp2) {\r\n        return false;\r\n    }\r\n    return (bmp1 === bmp2 ||\r\n        (typeof bmp1.parent !== \"undefined\" && bmp1.parent === bmp2.parent));\r\n}\r\nexports.is_same_bitmap = is_same_bitmap;\r\nfunction is_planar_bitmap(bmp) {\r\n    void bmp;\r\n    return false;\r\n}\r\nexports.is_planar_bitmap = is_planar_bitmap;\r\nfunction is_linear_bitmap(bmp) {\r\n    void bmp;\r\n    return true;\r\n}\r\nexports.is_linear_bitmap = is_linear_bitmap;\r\nfunction is_memory_bitmap(bmp) {\r\n    if (!bmp) {\r\n        return false;\r\n    }\r\n    return !bmp.is_screen;\r\n}\r\nexports.is_memory_bitmap = is_memory_bitmap;\r\nfunction is_screen_bitmap(bmp) {\r\n    if (!bmp) {\r\n        return false;\r\n    }\r\n    return bmp.is_screen;\r\n}\r\nexports.is_screen_bitmap = is_screen_bitmap;\r\nfunction is_video_bitmap(bmp) {\r\n    if (!bmp) {\r\n        return false;\r\n    }\r\n    return bmp.mem_type === \"video\";\r\n}\r\nexports.is_video_bitmap = is_video_bitmap;\r\nfunction is_system_bitmap(bmp) {\r\n    if (!bmp) {\r\n        return false;\r\n    }\r\n    return bmp.mem_type === \"system\";\r\n}\r\nexports.is_system_bitmap = is_system_bitmap;\r\nfunction is_sub_bitmap(bmp) {\r\n    if (!bmp) {\r\n        return false;\r\n    }\r\n    return Boolean(bmp.parent);\r\n}\r\nexports.is_sub_bitmap = is_sub_bitmap;\r\nfunction acquire_bitmap(bmp) {\r\n    void bmp;\r\n}\r\nexports.acquire_bitmap = acquire_bitmap;\r\nfunction release_bitmap(bmp) {\r\n    void bmp;\r\n}\r\nexports.release_bitmap = release_bitmap;\r\nfunction acquire_screen() {\r\n    acquire_bitmap(exports.screen);\r\n}\r\nexports.acquire_screen = acquire_screen;\r\nfunction release_screen() {\r\n    release_bitmap(exports.screen);\r\n}\r\nexports.release_screen = release_screen;\r\nfunction set_clip_rect(bitmap, x1, y1, x2, y2) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    bitmap.clipping_rect = {\r\n        x1: x1,\r\n        y1: y1,\r\n        x2: x2,\r\n        y2: y2,\r\n    };\r\n}\r\nexports.set_clip_rect = set_clip_rect;\r\nfunction get_clip_rect(bitmap) {\r\n    if (!bitmap) {\r\n        return null;\r\n    }\r\n    return bitmap.clipping_rect;\r\n}\r\nexports.get_clip_rect = get_clip_rect;\r\nfunction add_clip_rect(bitmap, x1, y1, x2, y2) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    bitmap.clipping_rect = {\r\n        x1: x1,\r\n        y1: y1,\r\n        x2: x2,\r\n        y2: y2,\r\n    };\r\n}\r\nexports.add_clip_rect = add_clip_rect;\r\nfunction set_clip_state(bitmap, state) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    bitmap.clipping = state;\r\n}\r\nexports.set_clip_state = set_clip_state;\r\nfunction get_clip_state(bitmap) {\r\n    if (!bitmap) {\r\n        return 0;\r\n    }\r\n    return bitmap.clipping ? 1 : 0;\r\n}\r\nexports.get_clip_state = get_clip_state;\r\nfunction is_inside_bitmap(bmp, x, y, clip) {\r\n    if (!bmp) {\r\n        return false;\r\n    }\r\n    if (clip === 0) {\r\n        return x >= 0 && y >= 0 && x < bmp.w && y < bmp.h;\r\n    }\r\n    return (!bmp.clipping ||\r\n        (x >= bmp.clipping_rect.x1 &&\r\n            y >= bmp.clipping_rect.y1 &&\r\n            x < bmp.clipping_rect.x2 &&\r\n            y < bmp.clipping_rect.x2));\r\n}\r\nexports.is_inside_bitmap = is_inside_bitmap;\r\nfunction load_bitmap(filename, pal) {\r\n    void pal;\r\n    debug_1.log(\"Loading bitmap \" + filename + \"...\");\r\n    var img = new Image();\r\n    img.src = filename;\r\n    var cv = document.createElement(\"canvas\");\r\n    var ctx = cv.getContext(\"2d\");\r\n    if (!ctx) {\r\n        throw new Error(\"Context not defined\");\r\n    }\r\n    ctx.imageSmoothingEnabled = false;\r\n    var bmp = {\r\n        canvas: cv,\r\n        context: ctx,\r\n        w: -1,\r\n        h: -1,\r\n        ready: false,\r\n        type: \"bmp\",\r\n        clipping: true,\r\n        clipping_rect: { x1: 0, y1: 0, x2: 0, y2: 0 },\r\n        is_screen: false,\r\n        mem_type: \"memory\",\r\n        parent: null,\r\n    };\r\n    core_1._downloadables.push(bmp);\r\n    img.onload = function () {\r\n        debug_1.log(\"Bitmap \" + filename + \" loaded, size: \" + img.width + \" x \" + img.height + \"!\");\r\n        bmp.canvas.width = img.width;\r\n        bmp.canvas.height = img.height;\r\n        bmp.context.drawImage(img, 0, 0);\r\n        bmp.w = img.width;\r\n        bmp.h = img.height;\r\n        bmp.clipping_rect = {\r\n            x1: 0,\r\n            y1: 0,\r\n            x2: bmp.w,\r\n            y2: bmp.h,\r\n        };\r\n        var imageData = bmp.context.getImageData(0, 0, bmp.canvas.width, bmp.canvas.height);\r\n        for (var i = 0; i < imageData.data.length; i += 4) {\r\n            if (imageData.data[i] === 255 &&\r\n                imageData.data[i + 1] === 0 &&\r\n                imageData.data[i + 2] === 255 &&\r\n                imageData.data[i + 3] === 255) {\r\n                imageData.data[i + 3] = 0;\r\n            }\r\n        }\r\n        ctx.putImageData(imageData, 0, 0);\r\n        bmp.ready = true;\r\n    };\r\n    return bmp;\r\n}\r\nexports.load_bitmap = load_bitmap;\r\nfunction load_bmp(filename) {\r\n    return load_bitmap(filename);\r\n}\r\nexports.load_bmp = load_bmp;\r\nfunction load_bmp_pf(f, pal) {\r\n    void f;\r\n    void pal;\r\n}\r\nexports.load_bmp_pf = load_bmp_pf;\r\nfunction load_lbm(filename, pal) {\r\n    return load_bitmap(filename, pal);\r\n}\r\nexports.load_lbm = load_lbm;\r\nfunction load_pcx(filename, pal) {\r\n    return load_bitmap(filename, pal);\r\n}\r\nexports.load_pcx = load_pcx;\r\nfunction load_pcx_pf(f, pal) {\r\n    void f;\r\n    void pal;\r\n}\r\nexports.load_pcx_pf = load_pcx_pf;\r\nfunction load_tga(filename, pal) {\r\n    return load_bitmap(filename, pal);\r\n}\r\nexports.load_tga = load_tga;\r\nfunction load_tga_pf(f, pal) {\r\n    void f;\r\n    void pal;\r\n}\r\nexports.load_tga_pf = load_tga_pf;\r\nfunction save_bitmap(filename, bmp, pal) {\r\n    if (!bmp) {\r\n        return;\r\n    }\r\n    void pal;\r\n    var image = bmp.canvas.toDataURL(\"image/png\", 1.0);\r\n    var a = document.createElement(\"a\");\r\n    a.href = image;\r\n    a.download = filename;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n}\r\nexports.save_bitmap = save_bitmap;\r\nfunction save_bmp(filename, bmp, pal) {\r\n    save_bitmap(filename, bmp, pal);\r\n}\r\nexports.save_bmp = save_bmp;\r\nfunction save_bmp_pf(f, bmp, pal) {\r\n    void f;\r\n    void bmp;\r\n    void pal;\r\n}\r\nexports.save_bmp_pf = save_bmp_pf;\r\nfunction save_pcx(filename, bmp, pal) {\r\n    save_bitmap(filename, bmp, pal);\r\n}\r\nexports.save_pcx = save_pcx;\r\nfunction save_pcx_pf(f, bmp, pal) {\r\n    void f;\r\n    void bmp;\r\n    void pal;\r\n}\r\nexports.save_pcx_pf = save_pcx_pf;\r\nfunction save_tga(filename, bmp, pal) {\r\n    save_bitmap(filename, bmp, pal);\r\n}\r\nexports.save_tga = save_tga;\r\nfunction save_tga_pf(f, bmp, pal) {\r\n    void f;\r\n    void bmp;\r\n    void pal;\r\n}\r\nexports.save_tga_pf = save_tga_pf;\r\nfunction register_bitmap_file_type(ext, load, save) {\r\n    void ext;\r\n    void load;\r\n    void save;\r\n}\r\nexports.register_bitmap_file_type = register_bitmap_file_type;\r\nfunction set_color_conversion(mode) {\r\n    void mode;\r\n}\r\nexports.set_color_conversion = set_color_conversion;\r\nfunction loadpng_init() {\r\n    return 1;\r\n}\r\nexports.loadpng_init = loadpng_init;\r\n//# sourceMappingURL=bitmap.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.palette_color = exports.geta_depth = exports.getb_depth = exports.getg_depth = exports.getr_depth = exports.geta = exports.getb = exports.getg = exports.getr = exports.geta32 = exports.getb32 = exports.getb24 = exports.getb16 = exports.getb15 = exports.getb8 = exports.getg32 = exports.getg24 = exports.getg16 = exports.getg15 = exports.getg8 = exports.getr32 = exports.getr24 = exports.getr16 = exports.getr15 = exports.getr8 = exports.makecol15_dither = exports.makeacol = exports.makeacol_depth = exports.makecol_depth = exports.makecol = exports.makeacol32 = exports.makecol32 = exports.makecol24 = exports.makecol16 = exports.makecol15 = exports.makecol8 = void 0;\r\nvar _color_depth = 32;\r\nfunction makecol8(r, g, b) {\r\n    return makecol32(r, g, b);\r\n}\r\nexports.makecol8 = makecol8;\r\nfunction makecol15(r, g, b) {\r\n    return makecol32(r, g, b);\r\n}\r\nexports.makecol15 = makecol15;\r\nfunction makecol16(r, g, b) {\r\n    return makecol32(r, g, b);\r\n}\r\nexports.makecol16 = makecol16;\r\nfunction makecol24(r, g, b) {\r\n    return makecol32(r, g, b);\r\n}\r\nexports.makecol24 = makecol24;\r\nfunction makecol32(r, g, b) {\r\n    return (r << 0) | (g << 8) | (b << 16);\r\n}\r\nexports.makecol32 = makecol32;\r\nfunction makeacol32(r, g, b, a) {\r\n    return (r << 0) | (g << 8) | (b << 16) | (a << 24);\r\n}\r\nexports.makeacol32 = makeacol32;\r\nfunction makecol(r, g, b) {\r\n    return makecol_depth(_color_depth, r, g, b);\r\n}\r\nexports.makecol = makecol;\r\nfunction makecol_depth(color_depth, r, g, b) {\r\n    switch (color_depth) {\r\n        case 8:\r\n            return makecol8(r, g, b);\r\n        case 15:\r\n            return makecol15(r, g, b);\r\n        case 16:\r\n            return makecol16(r, g, b);\r\n        case 24:\r\n            return makecol24(r, g, b);\r\n        case 32:\r\n            return makecol32(r, g, b);\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nexports.makecol_depth = makecol_depth;\r\nfunction makeacol_depth(color_depth, r, g, b, a) {\r\n    switch (color_depth) {\r\n        case 8:\r\n            return makecol8(r, g, b);\r\n        case 15:\r\n            return makecol15(r, g, b);\r\n        case 16:\r\n            return makecol16(r, g, b);\r\n        case 24:\r\n            return makecol24(r, g, b);\r\n        case 32:\r\n            return makeacol32(r, g, b, a);\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nexports.makeacol_depth = makeacol_depth;\r\nfunction makeacol(r, g, b, a) {\r\n    return makeacol_depth(_color_depth, r, g, b, a);\r\n}\r\nexports.makeacol = makeacol;\r\nfunction makecol15_dither(r, g, b, x, y) {\r\n    void x;\r\n    void y;\r\n    return makecol32(r, g, b);\r\n}\r\nexports.makecol15_dither = makecol15_dither;\r\nfunction getr8(c) {\r\n    return getr32(c);\r\n}\r\nexports.getr8 = getr8;\r\nfunction getr15(c) {\r\n    return getr32(c);\r\n}\r\nexports.getr15 = getr15;\r\nfunction getr16(c) {\r\n    return getr32(c);\r\n}\r\nexports.getr16 = getr16;\r\nfunction getr24(c) {\r\n    return getr32(c);\r\n}\r\nexports.getr24 = getr24;\r\nfunction getr32(c) {\r\n    return (c >> 0) & 0xff;\r\n}\r\nexports.getr32 = getr32;\r\nfunction getg8(c) {\r\n    return getg32(c);\r\n}\r\nexports.getg8 = getg8;\r\nfunction getg15(c) {\r\n    return getg32(c);\r\n}\r\nexports.getg15 = getg15;\r\nfunction getg16(c) {\r\n    return getg32(c);\r\n}\r\nexports.getg16 = getg16;\r\nfunction getg24(c) {\r\n    return getg32(c);\r\n}\r\nexports.getg24 = getg24;\r\nfunction getg32(c) {\r\n    return (c >> 8) & 0xff;\r\n}\r\nexports.getg32 = getg32;\r\nfunction getb8(c) {\r\n    return getb32(c);\r\n}\r\nexports.getb8 = getb8;\r\nfunction getb15(c) {\r\n    return getb32(c);\r\n}\r\nexports.getb15 = getb15;\r\nfunction getb16(c) {\r\n    return getb32(c);\r\n}\r\nexports.getb16 = getb16;\r\nfunction getb24(c) {\r\n    return getb32(c);\r\n}\r\nexports.getb24 = getb24;\r\nfunction getb32(c) {\r\n    return (c >> 16) & 0xff;\r\n}\r\nexports.getb32 = getb32;\r\nfunction geta32(c) {\r\n    return (c >> 24) & 0xff;\r\n}\r\nexports.geta32 = geta32;\r\nfunction getr(c) {\r\n    return getr_depth(_color_depth, c);\r\n}\r\nexports.getr = getr;\r\nfunction getg(c) {\r\n    return getg_depth(_color_depth, c);\r\n}\r\nexports.getg = getg;\r\nfunction getb(c) {\r\n    return getb_depth(_color_depth, c);\r\n}\r\nexports.getb = getb;\r\nfunction geta(c) {\r\n    return geta_depth(_color_depth, c);\r\n}\r\nexports.geta = geta;\r\nfunction getr_depth(color_depth, c) {\r\n    switch (color_depth) {\r\n        case 8:\r\n            return getr8(c);\r\n        case 15:\r\n            return getr15(c);\r\n        case 16:\r\n            return getr16(c);\r\n        case 24:\r\n            return getr24(c);\r\n        case 32:\r\n            return getr32(c);\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nexports.getr_depth = getr_depth;\r\nfunction getg_depth(color_depth, c) {\r\n    switch (color_depth) {\r\n        case 8:\r\n            return getg8(c);\r\n        case 15:\r\n            return getg15(c);\r\n        case 16:\r\n            return getg16(c);\r\n        case 24:\r\n            return getg24(c);\r\n        case 32:\r\n            return getg32(c);\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nexports.getg_depth = getg_depth;\r\nfunction getb_depth(color_depth, c) {\r\n    switch (color_depth) {\r\n        case 8:\r\n            return getb8(c);\r\n        case 15:\r\n            return getb15(c);\r\n        case 16:\r\n            return getb16(c);\r\n        case 24:\r\n            return getb24(c);\r\n        case 32:\r\n            return getb32(c);\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nexports.getb_depth = getb_depth;\r\nfunction geta_depth(color_depth, c) {\r\n    if (color_depth === 32)\r\n        return geta32(c);\r\n    return 0;\r\n}\r\nexports.geta_depth = geta_depth;\r\nexports.palette_color = [0, 1, 2, 3, 4, 5, 6, 7];\r\n//# sourceMappingURL=color.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.cpu_capabilities = exports.cpu_model = exports.cpu_family = exports.cpu_vendor = exports.check_cpu = exports.get_desktop_resolution = exports.desktop_color_depth = exports.set_close_button_callback = exports.set_window_title = exports.allegro_message = exports.os_multitasking = exports.os_version = exports.os_type = exports.MAKE_VERSION = exports.AL_ID = exports.ALLEGRO_DATE = exports.ALLEGRO_DATE_STR = exports.ALLEGRO_VERSION_STR = exports.ALLEGRO_WIP_VERSION = exports.ALLEGRO_SUB_VERSION = exports.ALLEGRO_VERSION = exports.allegro_error = exports.allegro_id = exports.END_OF_MAIN = exports.allegro_exit = exports.atexit = exports.allegro_init = exports.SYSTEM_NONE = exports.SYSTEM_AUTODETECT = exports.install_allegro = exports._set_loop_interval = void 0;\r\nvar graphics_1 = require(\"./graphics\");\r\nvar core_1 = require(\"./core\");\r\nvar debug_1 = require(\"./debug\");\r\nvar sprintf_1 = require(\"./sprintf\");\r\nvar _loop_interval = -1;\r\nfunction _set_loop_interval(interval) {\r\n    if (_loop_interval !== -1) {\r\n        window.clearInterval(_loop_interval);\r\n    }\r\n    if (interval !== -1) {\r\n        _loop_interval = interval;\r\n    }\r\n}\r\nexports._set_loop_interval = _set_loop_interval;\r\nfunction install_allegro(system_id, errno_ptr, atexit_ptr) {\r\n    void system_id;\r\n    void errno_ptr;\r\n    void atexit_ptr;\r\n    check_cpu();\r\n    debug_1.log(\"Allegro installed!\");\r\n    _set_loop_interval(window.setInterval(core_1._uberloop, 16.6));\r\n    debug_1.log(\"Game loop initialised!\");\r\n    return 0;\r\n}\r\nexports.install_allegro = install_allegro;\r\nexports.SYSTEM_AUTODETECT = 0;\r\nexports.SYSTEM_NONE = AL_ID(\"N\", \"O\", \"N\", \"E\");\r\nfunction allegro_init() {\r\n    return install_allegro(exports.SYSTEM_AUTODETECT, 0, atexit);\r\n}\r\nexports.allegro_init = allegro_init;\r\nfunction atexit() {\r\n    debug_1.log(\"Allegro destroyed\");\r\n}\r\nexports.atexit = atexit;\r\nfunction allegro_exit() {\r\n    debug_1.log(\"Allegro exited.\");\r\n}\r\nexports.allegro_exit = allegro_exit;\r\nfunction END_OF_MAIN() {\r\n}\r\nexports.END_OF_MAIN = END_OF_MAIN;\r\nexports.allegro_id = \"Allegro TS\";\r\nexports.allegro_error = \"\";\r\nexports.ALLEGRO_VERSION = 4;\r\nexports.ALLEGRO_SUB_VERSION = 1;\r\nexports.ALLEGRO_WIP_VERSION = 16;\r\nexports.ALLEGRO_VERSION_STR = \"4.1.16\";\r\nexports.ALLEGRO_DATE_STR = \"2021\";\r\nexports.ALLEGRO_DATE = 0;\r\nfunction AL_ID(a, b, c, d) {\r\n    return ((a.charCodeAt(0) << 24) +\r\n        (b.charCodeAt(0) << 16) +\r\n        (c.charCodeAt(0) << 8) +\r\n        d.charCodeAt(0));\r\n}\r\nexports.AL_ID = AL_ID;\r\nfunction MAKE_VERSION(a, b, c) {\r\n    return (a.charCodeAt(0) << 16) + (b.charCodeAt(0) << 8) + c.charCodeAt(0);\r\n}\r\nexports.MAKE_VERSION = MAKE_VERSION;\r\nexports.os_type = \"OSTYPE_BROWSER\";\r\nexports.os_version = 0;\r\nexports.os_multitasking = true;\r\nfunction allegro_message(text_format) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    alert(sprintf_1.vsprintf(text_format, args));\r\n}\r\nexports.allegro_message = allegro_message;\r\nfunction set_window_title(name) {\r\n    document.title = name;\r\n}\r\nexports.set_window_title = set_window_title;\r\nfunction set_close_button_callback(proc) {\r\n    window.onbeforeunload = proc;\r\n}\r\nexports.set_close_button_callback = set_close_button_callback;\r\nfunction desktop_color_depth() {\r\n    return 32;\r\n}\r\nexports.desktop_color_depth = desktop_color_depth;\r\nfunction get_desktop_resolution() {\r\n    return { width: graphics_1.gfx_driver.w, height: graphics_1.gfx_driver.h };\r\n}\r\nexports.get_desktop_resolution = get_desktop_resolution;\r\nfunction check_cpu() {\r\n    exports.cpu_vendor = \"Browser CPU\";\r\n    exports.cpu_family = \"Browser CPU Family\";\r\n    exports.cpu_model = \"Browser CPU Model\";\r\n    exports.cpu_capabilities = 0;\r\n}\r\nexports.check_cpu = check_cpu;\r\nexports.cpu_vendor = \"\";\r\nexports.cpu_family = \"\";\r\nexports.cpu_model = \"\";\r\nexports.cpu_capabilities = 0;\r\n//# sourceMappingURL=config.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.free_config_entries = exports.list_config_sections = exports.list_config_entries = exports.set_config_id = exports.set_config_float = exports.set_config_hex = exports.set_config_int = exports.set_config_string = exports.get_config_text = exports.get_config_argv = exports.get_config_id = exports.get_config_float = exports.get_config_hex = exports.get_config_int = exports.get_config_string = exports.config_is_hooked = exports.hook_config_section = exports.reload_config_texts = exports.flush_config_state = exports.pop_config_state = exports.push_config_state = exports.override_config_data = exports.set_config_data = exports.set_config_file = void 0;\r\nvar core_1 = require(\"./core\");\r\nvar debug_1 = require(\"./debug\");\r\nvar configs = [];\r\nvar config = {\r\n    file: \"\",\r\n    data: {},\r\n    ready: false,\r\n    type: \"config\",\r\n};\r\nfunction _parse_config_file(data) {\r\n    var conf = {};\r\n    var lines = data\r\n        .split(\"\\n\")\r\n        .filter(function (line) { return !/^#/u.exec(line) && line.length > 0; });\r\n    var section = \"\";\r\n    lines.forEach(function (line) {\r\n        var _a;\r\n        if (/\\[[a-zA-Z]*\\]/u.exec(line)) {\r\n            section = line.replace(\"[\", \"\").replace(\"]\", \"\");\r\n        }\r\n        else if (line.includes(\"=\")) {\r\n            var _b = __read(line.split(\"=\"), 2), key = _b[0], val = _b[1];\r\n            var k = key === null || key === void 0 ? void 0 : key.trim();\r\n            var v = val === null || val === void 0 ? void 0 : val.trim();\r\n            if (typeof k === \"string\" && typeof v === \"string\") {\r\n                conf[section] = __assign(__assign({}, conf[section]), (_a = {}, _a[k] = v, _a));\r\n            }\r\n        }\r\n    });\r\n    return conf;\r\n}\r\nfunction set_config_file(filename) {\r\n    debug_1.log(\"Loading config \" + filename + \"...\");\r\n    config.file = filename;\r\n    core_1._downloadables.push(config);\r\n    var request = new XMLHttpRequest();\r\n    request.open(\"GET\", filename, true);\r\n    request.send(null);\r\n    request.onreadystatechange = function () {\r\n        if (request.readyState === 4 && request.status === 200) {\r\n            var type = request.getResponseHeader(\"Content-Type\");\r\n            if ((type === null || type === void 0 ? void 0 : type.indexOf(\"text\")) !== 1) {\r\n                config.data = _parse_config_file(request.responseText);\r\n                config.ready = true;\r\n            }\r\n        }\r\n    };\r\n}\r\nexports.set_config_file = set_config_file;\r\nfunction set_config_data(data, length) {\r\n    config.data = data;\r\n    void length;\r\n}\r\nexports.set_config_data = set_config_data;\r\nfunction override_config_data(data, length) {\r\n    config.data = data;\r\n    void length;\r\n}\r\nexports.override_config_data = override_config_data;\r\nfunction push_config_state() {\r\n    configs.push(config);\r\n    config = {\r\n        file: \"\",\r\n        data: {},\r\n        ready: false,\r\n        type: \"config\",\r\n    };\r\n}\r\nexports.push_config_state = push_config_state;\r\nfunction pop_config_state() {\r\n    var top = configs.pop();\r\n    if (top) {\r\n        config = top;\r\n    }\r\n}\r\nexports.pop_config_state = pop_config_state;\r\nfunction flush_config_state() {\r\n}\r\nexports.flush_config_state = flush_config_state;\r\nfunction reload_config_texts(new_language) {\r\n    void new_language;\r\n}\r\nexports.reload_config_texts = reload_config_texts;\r\nfunction hook_config_section(section, intgetter, stringgetter, stringsetter) {\r\n    void section;\r\n    void intgetter;\r\n    void stringgetter;\r\n    void stringsetter;\r\n}\r\nexports.hook_config_section = hook_config_section;\r\nfunction config_is_hooked(section) {\r\n    void section;\r\n    return false;\r\n}\r\nexports.config_is_hooked = config_is_hooked;\r\nfunction get_config_string(section, name, def) {\r\n    var _a, _b;\r\n    return (_b = (_a = config.data[section]) === null || _a === void 0 ? void 0 : _a[name]) !== null && _b !== void 0 ? _b : def;\r\n}\r\nexports.get_config_string = get_config_string;\r\nfunction get_config_int(section, name, def) {\r\n    var _a;\r\n    var data = (_a = config.data[section]) === null || _a === void 0 ? void 0 : _a[name];\r\n    return typeof data === \"string\" ? parseInt(data, 10) : def;\r\n}\r\nexports.get_config_int = get_config_int;\r\nfunction get_config_hex(section, name, def) {\r\n    var _a;\r\n    var data = (_a = config.data[section]) === null || _a === void 0 ? void 0 : _a[name];\r\n    return typeof data === \"string\" ? parseInt(data, 10) : def;\r\n}\r\nexports.get_config_hex = get_config_hex;\r\nfunction get_config_float(section, name, def) {\r\n    var _a;\r\n    var data = (_a = config.data[section]) === null || _a === void 0 ? void 0 : _a[name];\r\n    return typeof data === \"string\" ? parseFloat(data) : def;\r\n}\r\nexports.get_config_float = get_config_float;\r\nfunction get_config_id(section, name, def) {\r\n    var _a, _b;\r\n    return (_b = (_a = config.data[section]) === null || _a === void 0 ? void 0 : _a[name]) !== null && _b !== void 0 ? _b : def;\r\n}\r\nexports.get_config_id = get_config_id;\r\nfunction get_config_argv(section, name) {\r\n    var _a, _b;\r\n    return ((_b = (_a = config.data[section]) === null || _a === void 0 ? void 0 : _a[name]) !== null && _b !== void 0 ? _b : \"\").split(\" \");\r\n}\r\nexports.get_config_argv = get_config_argv;\r\nfunction get_config_text(msg) {\r\n    return msg;\r\n}\r\nexports.get_config_text = get_config_text;\r\nfunction set_config_string(section, name, val) {\r\n    var _a;\r\n    if (!section) {\r\n        config.data[section] = {};\r\n    }\r\n    config.data[section] = __assign(__assign({}, config.data[section]), (_a = {}, _a[name] = val, _a));\r\n}\r\nexports.set_config_string = set_config_string;\r\nfunction set_config_int(section, name, val) {\r\n    var _a;\r\n    if (!section) {\r\n        config.data[section] = {};\r\n    }\r\n    config.data[section] = __assign(__assign({}, config.data[section]), (_a = {}, _a[name] = val.toString(), _a));\r\n}\r\nexports.set_config_int = set_config_int;\r\nfunction set_config_hex(section, name, val) {\r\n    var _a;\r\n    if (!section) {\r\n        config.data[section] = {};\r\n    }\r\n    config.data[section] = __assign(__assign({}, config.data[section]), (_a = {}, _a[name] = val.toString(), _a));\r\n}\r\nexports.set_config_hex = set_config_hex;\r\nfunction set_config_float(section, name, val) {\r\n    var _a;\r\n    if (!section) {\r\n        config.data[section] = {};\r\n    }\r\n    config.data[section] = __assign(__assign({}, config.data[section]), (_a = {}, _a[name] = val.toString(), _a));\r\n}\r\nexports.set_config_float = set_config_float;\r\nfunction set_config_id(section, name, val) {\r\n    var _a;\r\n    if (!section) {\r\n        config.data[section] = {};\r\n    }\r\n    config.data[section] = __assign(__assign({}, config.data[section]), (_a = {}, _a[name] = val.toString(), _a));\r\n}\r\nexports.set_config_id = set_config_id;\r\nfunction list_config_entries(section) {\r\n    var _a;\r\n    return Object.keys((_a = config.data[section]) !== null && _a !== void 0 ? _a : {});\r\n}\r\nexports.list_config_entries = list_config_entries;\r\nfunction list_config_sections(names) {\r\n    void names;\r\n    return Object.keys(config.data);\r\n}\r\nexports.list_config_sections = list_config_sections;\r\nfunction free_config_entries(names) {\r\n    names.forEach(function (name) { return delete config.data[name]; });\r\n}\r\nexports.free_config_entries = free_config_entries;\r\n//# sourceMappingURL=configuration.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.allegro_ready = exports.init_allegro_ts = exports.loading_bar = exports._progress_check = exports._uberloop = exports._downloadables = void 0;\r\nvar bitmap_1 = require(\"./bitmap\");\r\nvar color_1 = require(\"./color\");\r\nvar debug_1 = require(\"./debug\");\r\nvar font_1 = require(\"./font\");\r\nvar graphics_1 = require(\"./graphics\");\r\nvar keyboard_1 = require(\"./keyboard\");\r\nvar math_1 = require(\"./math\");\r\nvar mouse_1 = require(\"./mouse\");\r\nvar primitives_1 = require(\"./primitives\");\r\nvar touch_1 = require(\"./touch\");\r\nvar timer_1 = require(\"./timer\");\r\nexports._downloadables = [];\r\nfunction _uberloop() {\r\n    mouse_1._mouse_loop();\r\n    keyboard_1._keyboard_loop();\r\n    mouse_1._mouse_loop_reset();\r\n    touch_1._touch_loop();\r\n}\r\nexports._uberloop = _uberloop;\r\nvar _loader_init_time = 0;\r\nvar _bar_proc = loading_bar;\r\nfunction _progress_check() {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var loaded, num_assets, num_loaded;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    loaded = false;\r\n                    _a.label = 1;\r\n                case 1:\r\n                    if (!!loaded) return [3, 3];\r\n                    num_assets = exports._downloadables.length;\r\n                    num_loaded = exports._downloadables.filter(function (down) { return down.ready; }).length;\r\n                    _bar_proc(num_assets / num_loaded);\r\n                    if (num_loaded >= num_assets) {\r\n                        debug_1.log(\"Loading complete! Took \" + ((Date.now() - _loader_init_time) /\r\n                            1000).toFixed(1) + \" seconds!\");\r\n                        primitives_1.clear_bitmap(bitmap_1.screen);\r\n                        loaded = true;\r\n                    }\r\n                    return [4, timer_1.rest(100)];\r\n                case 2:\r\n                    _a.sent();\r\n                    return [3, 1];\r\n                case 3: return [2];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports._progress_check = _progress_check;\r\nfunction loading_bar(progress) {\r\n    primitives_1.rectfill(bitmap_1.screen, 5, graphics_1.SCREEN_H - 55, graphics_1.SCREEN_W - 10, 50, color_1.makecol(0, 0, 0));\r\n    primitives_1.rectfill(bitmap_1.screen, 10, graphics_1.SCREEN_H - 50, graphics_1.SCREEN_W - 10, graphics_1.SCREEN_H - 10, color_1.makecol(255, 255, 255));\r\n    primitives_1.rectfill(bitmap_1.screen, 15, graphics_1.SCREEN_H - 45, graphics_1.SCREEN_W - 15, graphics_1.SCREEN_H - 15, color_1.makecol(0, 0, 0));\r\n    primitives_1.rectfill(bitmap_1.screen, 20, graphics_1.SCREEN_H - 40, math_1.scaleclamp(progress, 0, 1, 20, graphics_1.SCREEN_W - 20), graphics_1.SCREEN_H - 20, color_1.makecol(255, 255, 255));\r\n}\r\nexports.loading_bar = loading_bar;\r\nfunction init_allegro_ts(canvas_id, main) {\r\n    var cv = document.getElementById(canvas_id);\r\n    if (!cv) {\r\n        debug_1._error(\"Can't find canvas with id \" + canvas_id);\r\n        return;\r\n    }\r\n    var ctx = cv.getContext(\"2d\");\r\n    if (!ctx) {\r\n        throw new Error(\"Context not defined\");\r\n    }\r\n    bitmap_1.screen.canvas = cv;\r\n    bitmap_1.screen.context = ctx;\r\n    if (main) {\r\n        window.addEventListener(\"load\", function () {\r\n            void boot(main);\r\n        });\r\n    }\r\n}\r\nexports.init_allegro_ts = init_allegro_ts;\r\nfunction boot(main) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var code;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, main()];\r\n                case 1:\r\n                    code = _a.sent();\r\n                    graphics_1.set_gfx_mode(graphics_1.GFX_AUTODETECT_WINDOWED, 320, 200, 0, 0);\r\n                    primitives_1.clear_to_color(bitmap_1.screen, color_1.makecol(100, 100, 100));\r\n                    font_1.textprintf_centre_ex(bitmap_1.screen, graphics_1.font, graphics_1.SCREEN_W / 2, graphics_1.SCREEN_H / 2, color_1.makecol(255, 255, 255), -1, \"Program ended with code %i\", code);\r\n                    return [2];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction allegro_ready() {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            _loader_init_time = Date.now();\r\n            debug_1.log(\"Loader initialised!\");\r\n            return [2, _progress_check()];\r\n        });\r\n    });\r\n}\r\nexports.allegro_ready = allegro_ready;\r\n//# sourceMappingURL=core.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.wipe_log = exports._allog = exports.log = exports.enable_debug = exports._onerror = exports._error = void 0;\r\nvar _debug_enabled = false;\r\nvar _debug_element = null;\r\nvar ALLEGRO_CONSOLE = true;\r\nfunction _error(string) {\r\n    log(\"[ERROR] \" + string);\r\n    alert(string);\r\n}\r\nexports._error = _error;\r\nfunction _onerror(e) {\r\n    var _a;\r\n    var fa = e.filename.split(\"/\");\r\n    fa.reverse();\r\n    log(\"[\" + ((_a = fa[0]) !== null && _a !== void 0 ? _a : \"\") + \":\" + e.lineno + \":\" + e.colno + \"] \" + e.message);\r\n}\r\nexports._onerror = _onerror;\r\nfunction enable_debug(id) {\r\n    _debug_element = document.getElementById(id);\r\n    window.addEventListener(\"error\", _onerror);\r\n    if (_debug_element)\r\n        _debug_enabled = true;\r\n}\r\nexports.enable_debug = enable_debug;\r\nfunction log(string) {\r\n    if (ALLEGRO_CONSOLE)\r\n        console.log(string);\r\n    if (!_debug_enabled || !_debug_element)\r\n        return;\r\n    _debug_element.innerHTML = _debug_element.innerHTML + string + \"<br/>\";\r\n}\r\nexports.log = log;\r\nfunction _allog(string) {\r\n    if (ALLEGRO_CONSOLE)\r\n        console.log(string);\r\n    if (!_debug_enabled || !_debug_element)\r\n        return;\r\n    _debug_element.innerHTML = _debug_element.innerHTML + string + \"<br/>\";\r\n}\r\nexports._allog = _allog;\r\nfunction wipe_log() {\r\n    if (!_debug_enabled || !_debug_element)\r\n        return;\r\n    _debug_element.innerHTML = \"\";\r\n}\r\nexports.wipe_log = wipe_log;\r\n//# sourceMappingURL=debug.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.textprintf_justify_ex = exports.textprintf_right_ex = exports.textprintf_centre_ex = exports.textprintf_ex = exports.textout_justify_ex = exports.textout_right_ex = exports.textout_centre_ex = exports.textout_ex = exports.text_height = exports.text_length = exports.allegro_404_char = exports.merge_fonts = exports.transpose_font = exports.extract_font_range = exports.get_font_range_end = exports.get_font_range_begin = exports.get_font_ranges = exports.is_compatible_font = exports.is_mono_font = exports.is_color_font = exports.make_trans_font = exports.destroy_font = exports.load_font = exports.register_font_file_type = void 0;\r\nvar primitives_1 = require(\"./primitives\");\r\nvar sprintf_1 = require(\"./sprintf\");\r\nvar bitmap_1 = require(\"./bitmap\");\r\nvar _text_len_canvas = null;\r\nvar _num_fonts = 0;\r\nfunction register_font_file_type(ext, load) {\r\n    void ext;\r\n    void load;\r\n}\r\nexports.register_font_file_type = register_font_file_type;\r\nfunction load_font(filename, size) {\r\n    if (size === void 0) { size = 12; }\r\n    var s = document.createElement(\"style\");\r\n    _num_fonts += 1;\r\n    var fontname = \"font\" + _num_fonts;\r\n    s.id = fontname;\r\n    s.type = \"text/css\";\r\n    document.head.appendChild(s);\r\n    s.textContent = \"@font-face { font-family: \" + fontname + \"; src:url('\" + filename + \"');}\";\r\n    return { element: s, file: filename, name: fontname, size: size, type: \"fnt\" };\r\n}\r\nexports.load_font = load_font;\r\nfunction destroy_font(f) {\r\n    void f;\r\n}\r\nexports.destroy_font = destroy_font;\r\nfunction make_trans_font(f) {\r\n    void f;\r\n}\r\nexports.make_trans_font = make_trans_font;\r\nfunction is_color_font(f) {\r\n    void f;\r\n    return true;\r\n}\r\nexports.is_color_font = is_color_font;\r\nfunction is_mono_font(f) {\r\n    void f;\r\n    return false;\r\n}\r\nexports.is_mono_font = is_mono_font;\r\nfunction is_compatible_font(f) {\r\n    void f;\r\n    return true;\r\n}\r\nexports.is_compatible_font = is_compatible_font;\r\nfunction get_font_ranges(f) {\r\n    void f;\r\n    return 1;\r\n}\r\nexports.get_font_ranges = get_font_ranges;\r\nfunction get_font_range_begin(f, range) {\r\n    void f;\r\n    void range;\r\n    return 1;\r\n}\r\nexports.get_font_range_begin = get_font_range_begin;\r\nfunction get_font_range_end(f, range) {\r\n    void f;\r\n    void range;\r\n    return 1;\r\n}\r\nexports.get_font_range_end = get_font_range_end;\r\nfunction extract_font_range(f, begin, end) {\r\n    void begin;\r\n    void end;\r\n    return f;\r\n}\r\nexports.extract_font_range = extract_font_range;\r\nfunction transpose_font(f, drange) {\r\n    void drange;\r\n    return f;\r\n}\r\nexports.transpose_font = transpose_font;\r\nfunction merge_fonts(f1, f2) {\r\n    void f2;\r\n    return f1;\r\n}\r\nexports.merge_fonts = merge_fonts;\r\nexports.allegro_404_char = \"^\";\r\nfunction text_length(f, str) {\r\n    if (!_text_len_canvas) {\r\n        _text_len_canvas = bitmap_1.create_bitmap(0, 0);\r\n    }\r\n    _text_len_canvas.context.font = f.size + \"px \" + f.name;\r\n    var metrics = _text_len_canvas.context.measureText(str);\r\n    return metrics.width;\r\n}\r\nexports.text_length = text_length;\r\nfunction text_height(f) {\r\n    return f.size;\r\n}\r\nexports.text_height = text_height;\r\nfunction textout_ex(bitmap, f, s, x, y, colour, bg) {\r\n    _textout(bitmap, f, s, x, y, colour, bg, \"left\");\r\n}\r\nexports.textout_ex = textout_ex;\r\nfunction textout_centre_ex(bitmap, f, s, x, y, colour, bg) {\r\n    _textout(bitmap, f, s, x, y, colour, bg, \"center\");\r\n}\r\nexports.textout_centre_ex = textout_centre_ex;\r\nfunction textout_right_ex(bitmap, f, s, x, y, colour, bg) {\r\n    _textout(bitmap, f, s, x, y, colour, bg, \"right\");\r\n}\r\nexports.textout_right_ex = textout_right_ex;\r\nfunction textout_justify_ex(bitmap, f, s, x, y, colour, bg) {\r\n    _textout(bitmap, f, s, x, y, colour, bg, \"center\");\r\n}\r\nexports.textout_justify_ex = textout_justify_ex;\r\nfunction textprintf_ex(bitmap, f, x, y, colour, bg, s) {\r\n    var args = [];\r\n    for (var _i = 7; _i < arguments.length; _i++) {\r\n        args[_i - 7] = arguments[_i];\r\n    }\r\n    _textout(bitmap, f, sprintf_1.vsprintf(s, args), x, y, colour, bg, \"left\");\r\n}\r\nexports.textprintf_ex = textprintf_ex;\r\nfunction textprintf_centre_ex(bitmap, f, x, y, colour, bg, s) {\r\n    var args = [];\r\n    for (var _i = 7; _i < arguments.length; _i++) {\r\n        args[_i - 7] = arguments[_i];\r\n    }\r\n    _textout(bitmap, f, sprintf_1.vsprintf(s, args), x, y, colour, bg, \"center\");\r\n}\r\nexports.textprintf_centre_ex = textprintf_centre_ex;\r\nfunction textprintf_right_ex(bitmap, f, x, y, colour, bg, s) {\r\n    var args = [];\r\n    for (var _i = 7; _i < arguments.length; _i++) {\r\n        args[_i - 7] = arguments[_i];\r\n    }\r\n    _textout(bitmap, f, sprintf_1.vsprintf(s, args), x, y, colour, bg, \"right\");\r\n}\r\nexports.textprintf_right_ex = textprintf_right_ex;\r\nfunction textprintf_justify_ex(bitmap, f, x, y, colour, bg, s) {\r\n    var args = [];\r\n    for (var _i = 7; _i < arguments.length; _i++) {\r\n        args[_i - 7] = arguments[_i];\r\n    }\r\n    _textout(bitmap, f, sprintf_1.vsprintf(s, args), x, y, colour, bg, \"center\");\r\n}\r\nexports.textprintf_justify_ex = textprintf_justify_ex;\r\nfunction _textout(bitmap, f, s, x, y, colour, bg, text_align) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    bitmap.context.font = f.size + \"px \" + f.name;\r\n    bitmap.context.textAlign = text_align;\r\n    primitives_1._fillstyle(bitmap, colour);\r\n    if (bg !== -1) {\r\n        var length_1 = text_length(f, s);\r\n        var height = text_height(f);\r\n        switch (text_align) {\r\n            case \"center\":\r\n                primitives_1.rectfill(bitmap, x - length_1 / 2, y, x - length_1 / 2 + length_1, y + height * 1.2, bg);\r\n                break;\r\n            case \"right\":\r\n                primitives_1.rectfill(bitmap, x - length_1, y, x - length_1 + length_1, y + height * 1.2, bg);\r\n                break;\r\n            case \"left\":\r\n            default:\r\n                primitives_1.rectfill(bitmap, x, y, x + length_1, y + height * 1.2, bg);\r\n                break;\r\n        }\r\n    }\r\n    primitives_1._fillstyle(bitmap, colour);\r\n    bitmap.context.fillText(s, x, y + f.size);\r\n}\r\n//# sourceMappingURL=font.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GFX_SYSTEM_CURSOR = exports.GFX_HW_SYS_TO_VRAM_BLIT_MASKED = exports.GFX_HW_SYS_TO_VRAM_BLIT = exports.GFX_HW_MEM_BLIT_MASKED = exports.GFX_HW_MEM_BLIT = exports.GFX_HW_VRAM_BLIT_MASKED = exports.GFX_HW_VRAM_BLIT = exports.GFX_HW_GLYPH = exports.GFX_HW_TRIANGLE_XOR = exports.GFX_HW_TRIANGLE = exports.GFX_HW_LINE_XOR = exports.GFX_HW_LINE = exports.GFX_HW_FILL_COPY_PATTERN = exports.GFX_HW_FILL_SOLID_PATTERN = exports.GFX_HW_FILL_XOR = exports.GFX_HW_FILL = exports.GFX_HW_HLINE_COPY_PATTERN = exports.GFX_HW_HLINE_SOLID_PATTERN = exports.GFX_HW_HLINE_XOR = exports.GFX_HW_HLINE = exports.GFX_HW_CURSOR = exports.GFX_CAN_TRIPLE_BUFFER = exports.GFX_CAN_SCROLL = exports.is_windowed_mode = exports.get_display_switch_mode = exports.remove_display_switch_callback = exports.SWITCH_OUT = exports.SWITCH_IN = exports.set_display_switch_callback = exports.SWITCH_BACKAMNESIA = exports.SWITCH_BACKGROUND = exports.SWITCH_AMNESIA = exports.SWITCH_PAUSE = exports.SWITCH_NONE = exports.set_display_switch_mode = exports.GFX_SAFE = exports.GFX_AUTODETECT_WINDOWED = exports.GFX_AUTODETECT_FULLSCREEN = exports.GFX_AUTODETECT = exports.GFX_TEXT = exports.set_gfx_mode = exports.destroy_gfx_mode_list = exports.get_gfx_mode_list = exports.get_refresh_rate = exports.request_refresh_rate = exports.get_color_depth = exports.set_color_depth = exports.SCREEN_H = exports.SCREEN_W = exports.gfx_driver = void 0;\r\nexports.font = exports._gfx_installed = exports.vsync = exports.request_video_bitmap = exports.show_video_bitmap = exports.poll_scroll = exports.request_scroll = exports.scroll_screen = exports.enable_triple_buffer = exports.gfx_capabilities = exports.GFX_HW_SYS_STRETCH_BLIT_MASKED = exports.GFX_HW_SYS_STRETCH_BLIT = exports.GFX_HW_VRAM_STRETCH_BLIT_MASKED = exports.GFX_HW_VRAM_STRETCH_BLIT = void 0;\r\nvar allegro_1 = require(\"./allegro\");\r\nvar debug_1 = require(\"./debug\");\r\nvar primitives_1 = require(\"./primitives\");\r\nvar sprites_1 = require(\"./sprites\");\r\nvar bitmap_1 = require(\"./bitmap\");\r\nvar config_1 = require(\"./config\");\r\nexports.gfx_driver = {\r\n    id: 0,\r\n    name: \"No Graphics\",\r\n    desc: \"No Graphics\",\r\n    ascii_name: \"No Graphics\",\r\n    w: 0,\r\n    h: 0,\r\n    linear: false,\r\n    bank_size: 0,\r\n    vid_mem: 0,\r\n    vid_phys_base: 0,\r\n    windowed: true,\r\n};\r\nexports.SCREEN_W = 0;\r\nexports.SCREEN_H = 0;\r\nfunction set_color_depth(depth) {\r\n    void depth;\r\n    return 0;\r\n}\r\nexports.set_color_depth = set_color_depth;\r\nfunction get_color_depth() {\r\n    return 32;\r\n}\r\nexports.get_color_depth = get_color_depth;\r\nfunction request_refresh_rate(rate) {\r\n    void rate;\r\n}\r\nexports.request_refresh_rate = request_refresh_rate;\r\nfunction get_refresh_rate() {\r\n    return 60;\r\n}\r\nexports.get_refresh_rate = get_refresh_rate;\r\nfunction get_gfx_mode_list(card) {\r\n    void card;\r\n    return [[0, 0, 0]];\r\n}\r\nexports.get_gfx_mode_list = get_gfx_mode_list;\r\nfunction destroy_gfx_mode_list(mode_list) {\r\n    void mode_list;\r\n}\r\nexports.destroy_gfx_mode_list = destroy_gfx_mode_list;\r\nfunction set_gfx_mode(card, w, h, v_w, v_h) {\r\n    if (v_w === void 0) { v_w = 0; }\r\n    if (v_h === void 0) { v_h = 0; }\r\n    void v_w;\r\n    void v_h;\r\n    bitmap_1.screen.context.imageSmoothingEnabled = false;\r\n    exports.SCREEN_W = w;\r\n    exports.SCREEN_H = h;\r\n    bitmap_1.screen.canvas.width = w;\r\n    bitmap_1.screen.canvas.height = h;\r\n    bitmap_1.screen.w = w;\r\n    bitmap_1.screen.h = h;\r\n    bitmap_1.screen.ready = true;\r\n    primitives_1.clear_to_color(bitmap_1.screen, allegro_1.makecol(0, 0, 0));\r\n    exports.gfx_driver.name = \"Browser Graphics\";\r\n    exports.gfx_driver.desc = \"Browser Graphics\";\r\n    exports.gfx_driver.ascii_name = \"Browser Graphics\";\r\n    exports.gfx_driver.w = window.outerWidth;\r\n    exports.gfx_driver.h = window.outerHeight;\r\n    exports.font = { element: null, file: \"\", name: \"Monospace\", size: 12, type: \"fnt\" };\r\n    exports._gfx_installed = true;\r\n    debug_1.log(\"Graphics mode set to \" + w + \" x \" + h);\r\n    if (card === exports.GFX_AUTODETECT_FULLSCREEN) {\r\n        var requestFullscreen_1 = function () {\r\n            void bitmap_1.screen.canvas.requestFullscreen();\r\n            bitmap_1.screen.canvas.removeEventListener(\"click\", requestFullscreen_1);\r\n        };\r\n        bitmap_1.screen.canvas.addEventListener(\"click\", requestFullscreen_1);\r\n    }\r\n    else if (card === exports.GFX_TEXT) {\r\n        bitmap_1.screen.canvas.width = 0;\r\n        bitmap_1.screen.canvas.height = 0;\r\n        bitmap_1.screen.w = 0;\r\n        bitmap_1.screen.h = 0;\r\n    }\r\n    return 0;\r\n}\r\nexports.set_gfx_mode = set_gfx_mode;\r\nexports.GFX_TEXT = -1;\r\nexports.GFX_AUTODETECT = 0;\r\nexports.GFX_AUTODETECT_FULLSCREEN = 1;\r\nexports.GFX_AUTODETECT_WINDOWED = 2;\r\nexports.GFX_SAFE = 3;\r\nfunction set_display_switch_mode(mode) {\r\n    _switch_in_callbacks.length = 0;\r\n    _switch_out_callbacks.length = 0;\r\n    _switch_mode = mode;\r\n    switch (mode) {\r\n        case exports.SWITCH_AMNESIA:\r\n        case exports.SWITCH_PAUSE:\r\n            bitmap_1.screen.canvas.addEventListener(\"pointerleave\", function () {\r\n                config_1._set_loop_interval(-1);\r\n            });\r\n            bitmap_1.screen.canvas.addEventListener(\"pointerenter\", function () {\r\n                config_1._set_loop_interval(window.setInterval(allegro_1._uberloop, 16.6));\r\n            });\r\n            return 0;\r\n        case exports.SWITCH_NONE:\r\n            return -1;\r\n        case exports.SWITCH_BACKAMNESIA:\r\n        case exports.SWITCH_BACKGROUND:\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nexports.set_display_switch_mode = set_display_switch_mode;\r\nexports.SWITCH_NONE = 0;\r\nexports.SWITCH_PAUSE = 1;\r\nexports.SWITCH_AMNESIA = 2;\r\nexports.SWITCH_BACKGROUND = 3;\r\nexports.SWITCH_BACKAMNESIA = 4;\r\nvar _switch_mode = exports.SWITCH_PAUSE;\r\nfunction set_display_switch_callback(dir, cb) {\r\n    if (_switch_in_callbacks.length + _switch_out_callbacks.length >= 8) {\r\n        return -1;\r\n    }\r\n    if (dir === exports.SWITCH_IN) {\r\n        _switch_in_callbacks.push(cb);\r\n    }\r\n    else if (dir === exports.SWITCH_OUT) {\r\n        _switch_out_callbacks.push(cb);\r\n    }\r\n    return 0;\r\n}\r\nexports.set_display_switch_callback = set_display_switch_callback;\r\nvar _switch_in_callbacks = [];\r\nvar _switch_out_callbacks = [];\r\nexports.SWITCH_IN = 0;\r\nexports.SWITCH_OUT = 1;\r\nfunction remove_display_switch_callback(cb) {\r\n    var in_index = _switch_in_callbacks.findIndex(function (proc) { return proc === cb; });\r\n    var out_index = _switch_out_callbacks.findIndex(function (proc) { return proc === cb; });\r\n    if (in_index !== -1) {\r\n        _switch_in_callbacks.splice(in_index, 1);\r\n    }\r\n    if (out_index !== -1) {\r\n        _switch_in_callbacks.splice(out_index, 1);\r\n    }\r\n}\r\nexports.remove_display_switch_callback = remove_display_switch_callback;\r\nfunction get_display_switch_mode() {\r\n    return _switch_mode;\r\n}\r\nexports.get_display_switch_mode = get_display_switch_mode;\r\nfunction is_windowed_mode() {\r\n    return !document.fullscreenElement;\r\n}\r\nexports.is_windowed_mode = is_windowed_mode;\r\nexports.GFX_CAN_SCROLL = 0x00000001;\r\nexports.GFX_CAN_TRIPLE_BUFFER = 0x00000002;\r\nexports.GFX_HW_CURSOR = 0x00000004;\r\nexports.GFX_HW_HLINE = 0x00000008;\r\nexports.GFX_HW_HLINE_XOR = 0x00000010;\r\nexports.GFX_HW_HLINE_SOLID_PATTERN = 0x00000020;\r\nexports.GFX_HW_HLINE_COPY_PATTERN = 0x00000040;\r\nexports.GFX_HW_FILL = 0x00000080;\r\nexports.GFX_HW_FILL_XOR = 0x00000100;\r\nexports.GFX_HW_FILL_SOLID_PATTERN = 0x00000200;\r\nexports.GFX_HW_FILL_COPY_PATTERN = 0x00000400;\r\nexports.GFX_HW_LINE = 0x00000800;\r\nexports.GFX_HW_LINE_XOR = 0x00001000;\r\nexports.GFX_HW_TRIANGLE = 0x00002000;\r\nexports.GFX_HW_TRIANGLE_XOR = 0x00004000;\r\nexports.GFX_HW_GLYPH = 0x00008000;\r\nexports.GFX_HW_VRAM_BLIT = 0x00010000;\r\nexports.GFX_HW_VRAM_BLIT_MASKED = 0x00020000;\r\nexports.GFX_HW_MEM_BLIT = 0x00040000;\r\nexports.GFX_HW_MEM_BLIT_MASKED = 0x00080000;\r\nexports.GFX_HW_SYS_TO_VRAM_BLIT = 0x00100000;\r\nexports.GFX_HW_SYS_TO_VRAM_BLIT_MASKED = 0x00200000;\r\nexports.GFX_SYSTEM_CURSOR = 0x00400000;\r\nexports.GFX_HW_VRAM_STRETCH_BLIT = 0x00800000;\r\nexports.GFX_HW_VRAM_STRETCH_BLIT_MASKED = 0x01000000;\r\nexports.GFX_HW_SYS_STRETCH_BLIT = 0x02000000;\r\nexports.GFX_HW_SYS_STRETCH_BLIT_MASKED = 0x04000000;\r\nexports.gfx_capabilities = exports.GFX_HW_CURSOR |\r\n    exports.GFX_HW_HLINE |\r\n    exports.GFX_HW_FILL |\r\n    exports.GFX_HW_LINE |\r\n    exports.GFX_HW_TRIANGLE |\r\n    exports.GFX_HW_VRAM_BLIT |\r\n    exports.GFX_HW_VRAM_BLIT |\r\n    exports.GFX_HW_MEM_BLIT |\r\n    exports.GFX_SYSTEM_CURSOR |\r\n    exports.GFX_HW_SYS_STRETCH_BLIT;\r\nfunction enable_triple_buffer() {\r\n    return 0;\r\n}\r\nexports.enable_triple_buffer = enable_triple_buffer;\r\nfunction scroll_screen(x, y) {\r\n    void x;\r\n    void y;\r\n}\r\nexports.scroll_screen = scroll_screen;\r\nfunction request_scroll(x, y) {\r\n    void x;\r\n    void y;\r\n}\r\nexports.request_scroll = request_scroll;\r\nfunction poll_scroll() {\r\n}\r\nexports.poll_scroll = poll_scroll;\r\nfunction show_video_bitmap(bmp) {\r\n    if (!bmp || bmp.w !== bitmap_1.screen.w || bmp.h !== bitmap_1.screen.h) {\r\n        return;\r\n    }\r\n    sprites_1.draw_sprite(bitmap_1.screen, bmp, 0, 0);\r\n}\r\nexports.show_video_bitmap = show_video_bitmap;\r\nfunction request_video_bitmap(bmp) {\r\n    return bmp;\r\n}\r\nexports.request_video_bitmap = request_video_bitmap;\r\nfunction vsync() {\r\n}\r\nexports.vsync = vsync;\r\nexports._gfx_installed = false;\r\n//# sourceMappingURL=graphics.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.KEY_BACKSLASH = exports.KEY_B = exports.KEY_ASTERISK = exports.KEY_ALTGR = exports.KEY_ALT = exports.KEY_A = exports.KEY_9_PAD = exports.KEY_9 = exports.KEY_8_PAD = exports.KEY_8 = exports.KEY_7_PAD = exports.KEY_7 = exports.KEY_6_PAD = exports.KEY_6 = exports.KEY_5_PAD = exports.KEY_5 = exports.KEY_4_PAD = exports.KEY_4 = exports.KEY_3_PAD = exports.KEY_3 = exports.KEY_2_PAD = exports.KEY_2 = exports.KEY_1_PAD = exports.KEY_1 = exports.KEY_0_PAD = exports.KEY_0 = exports.key_led_flag = exports.three_finger_flag = exports.clear_keybuf = exports.set_keyboard_rate = exports.set_leds = exports.keyboard_lowlevel_callback = exports.keyboard_ucallback = exports.keyboard_callback = exports.simulate_ukeypress = exports.simulate_keypress = exports.scancode_to_name = exports.scancode_to_ascii = exports.ureadkey = exports.readkey = exports.keypressed = exports.key_shifts = exports.key_buffer = exports.key = exports.keyboard_needs_poll = exports.poll_keyboard = exports.install_keyboard_hooks = exports.remove_keyboard = exports.install_keyboard = exports.keyboard_driver = void 0;\r\nexports.KEY_OPENBRACE = exports.KEY_O = exports.KEY_NUMLOCK = exports.KEY_N = exports.KEY_MINUS_PAD = exports.KEY_MINUS = exports.KEY_MENU = exports.KEY_MAX = exports.KEY_M = exports.KEY_LWIN = exports.KEY_LSHIFT = exports.KEY_LEFT = exports.KEY_LCONTROL = exports.KEY_L = exports.KEY_K = exports.KEY_J = exports.KEY_INSERT = exports.KEY_I = exports.KEY_HOME = exports.KEY_H = exports.KEY_G = exports.KEY_F9 = exports.KEY_F8 = exports.KEY_F7 = exports.KEY_F6 = exports.KEY_F5 = exports.KEY_F4 = exports.KEY_F3 = exports.KEY_F2 = exports.KEY_F12 = exports.KEY_F11 = exports.KEY_F10 = exports.KEY_F1 = exports.KEY_F = exports.KEY_ESC = exports.KEY_EQUALS_PAD = exports.KEY_EQUALS = exports.KEY_ENTER_PAD = exports.KEY_ENTER = exports.KEY_END = exports.KEY_E = exports.KEY_DOWN = exports.KEY_DEL = exports.KEY_D = exports.KEY_COMMA = exports.KEY_COLON = exports.KEY_CLOSEBRACE = exports.KEY_CAPSLOCK = exports.KEY_C = exports.KEY_BACKSPACE = void 0;\r\nexports._keyboard_loop = exports._default_enabled_keys = exports._keyboard_installed = exports.KB_SHIFT_FLAG = exports.KB_SCROLOCK_FLAG = exports.KB_RWIN_FLAG = exports.KB_NUMLOCK_FLAG = exports.KB_MENU_FLAG = exports.KB_LWIN_FLAG = exports.KB_INALTSEQ_FLAG = exports.KB_CTRL_FLAG = exports.KB_COMMAND_FLAG = exports.KB_CAPSLOCK_FLAG = exports.KB_ALT_FLAG = exports.KB_ACCENT4_FLAG = exports.KB_ACCENT3_FLAG = exports.KB_ACCENT2_FLAG = exports.KB_ACCENT1_FLAG = exports.KEY_Z = exports.KEY_Y = exports.KEY_X = exports.KEY_W = exports.KEY_V = exports.KEY_UP = exports.KEY_U = exports.KEY_TILDE = exports.KEY_TAB = exports.KEY_T = exports.KEY_STOP = exports.KEY_SPACE = exports.KEY_SLASH_PAD = exports.KEY_SLASH = exports.KEY_SCRLOCK = exports.KEY_S = exports.KEY_RWIN = exports.KEY_RSHIFT = exports.KEY_RIGHT = exports.KEY_RCONTROL = exports.KEY_R = exports.KEY_QUOTE = exports.KEY_Q = exports.KEY_PRTSCR = exports.KEY_PLUS_PAD = exports.KEY_PGUP = exports.KEY_PGDN = exports.KEY_PAUSE = exports.KEY_P = void 0;\r\nvar debug_1 = require(\"./debug\");\r\nvar timer_1 = require(\"./timer\");\r\nexports.keyboard_driver = {\r\n    id: 0,\r\n    name: \"Browser Keyboard\",\r\n    desc: \" Browser Keyboard\",\r\n    ascii_name: \"Browser Keyboard\",\r\n};\r\nfunction install_keyboard(enable_keys) {\r\n    if (exports._keyboard_installed) {\r\n        debug_1._allog(\"Keyboard already installed\");\r\n        return -1;\r\n    }\r\n    if (enable_keys) {\r\n        _enabled_keys = enable_keys;\r\n    }\r\n    else {\r\n        _enabled_keys = exports._default_enabled_keys;\r\n    }\r\n    for (var c = 0; c < 0x80; c += 1) {\r\n        exports.key[c] = false;\r\n    }\r\n    document.addEventListener(\"keyup\", _keyup);\r\n    document.addEventListener(\"keydown\", _keydown);\r\n    exports._keyboard_installed = true;\r\n    debug_1.log(\"Keyboard installed!\");\r\n    return 0;\r\n}\r\nexports.install_keyboard = install_keyboard;\r\nfunction remove_keyboard() {\r\n    if (!exports._keyboard_installed) {\r\n        debug_1._allog(\"Keyboard not installed\");\r\n        return -1;\r\n    }\r\n    document.removeEventListener(\"keyup\", _keyup);\r\n    document.removeEventListener(\"keydown\", _keydown);\r\n    exports._keyboard_installed = false;\r\n    debug_1.log(\"Keyboard removed!\");\r\n    return 0;\r\n}\r\nexports.remove_keyboard = remove_keyboard;\r\nfunction install_keyboard_hooks(keypressed, readkey) {\r\n    void keypressed;\r\n    void readkey;\r\n}\r\nexports.install_keyboard_hooks = install_keyboard_hooks;\r\nfunction poll_keyboard() {\r\n    return 0;\r\n}\r\nexports.poll_keyboard = poll_keyboard;\r\nfunction keyboard_needs_poll() {\r\n    return false;\r\n}\r\nexports.keyboard_needs_poll = keyboard_needs_poll;\r\nexports.key = [];\r\nexports.key_buffer = [];\r\nexports.key_shifts = 0;\r\nfunction keypressed() {\r\n    return exports.key_buffer.length > 0;\r\n}\r\nexports.keypressed = keypressed;\r\nfunction readkey() {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var top;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!(exports.key_buffer.length === 0)) return [3, 2];\r\n                    return [4, timer_1.rest(5)];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [3, 0];\r\n                case 2:\r\n                    top = exports.key_buffer.pop();\r\n                    if (typeof top === \"number\") {\r\n                        return [2, top];\r\n                    }\r\n                    return [2, -1];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.readkey = readkey;\r\nfunction ureadkey(scancode) {\r\n    void scancode;\r\n    return 0;\r\n}\r\nexports.ureadkey = ureadkey;\r\nfunction scancode_to_ascii(scancode) {\r\n    return scancode;\r\n}\r\nexports.scancode_to_ascii = scancode_to_ascii;\r\nfunction scancode_to_name(scancode) {\r\n    return scancode;\r\n}\r\nexports.scancode_to_name = scancode_to_name;\r\nfunction simulate_keypress(key) {\r\n    _keydown_handler(key);\r\n}\r\nexports.simulate_keypress = simulate_keypress;\r\nfunction simulate_ukeypress(key, scancode) {\r\n    void scancode;\r\n    _keydown_handler(key);\r\n}\r\nexports.simulate_ukeypress = simulate_ukeypress;\r\nfunction keyboard_callback(key) {\r\n    void key;\r\n}\r\nexports.keyboard_callback = keyboard_callback;\r\nfunction keyboard_ucallback(key, scancode) {\r\n    void key;\r\n    void scancode;\r\n}\r\nexports.keyboard_ucallback = keyboard_ucallback;\r\nfunction keyboard_lowlevel_callback(key) {\r\n    void key;\r\n}\r\nexports.keyboard_lowlevel_callback = keyboard_lowlevel_callback;\r\nfunction set_leds(leds) {\r\n    void leds;\r\n}\r\nexports.set_leds = set_leds;\r\nfunction set_keyboard_rate(delay, repeat) {\r\n    void delay;\r\n    void repeat;\r\n}\r\nexports.set_keyboard_rate = set_keyboard_rate;\r\nfunction clear_keybuf() {\r\n    exports.key_buffer.length = 0;\r\n}\r\nexports.clear_keybuf = clear_keybuf;\r\nexports.three_finger_flag = false;\r\nexports.key_led_flag = false;\r\nexports.KEY_0 = 0x30, exports.KEY_0_PAD = 0x60, exports.KEY_1 = 0x31, exports.KEY_1_PAD = 0x61, exports.KEY_2 = 0x32, exports.KEY_2_PAD = 0x62, exports.KEY_3 = 0x33, exports.KEY_3_PAD = 0x63, exports.KEY_4 = 0x34, exports.KEY_4_PAD = 0x64, exports.KEY_5 = 0x35, exports.KEY_5_PAD = 0x65, exports.KEY_6 = 0x36, exports.KEY_6_PAD = 0x66, exports.KEY_7 = 0x37, exports.KEY_7_PAD = 0x67, exports.KEY_8 = 0x38, exports.KEY_8_PAD = 0x68, exports.KEY_9 = 0x39, exports.KEY_9_PAD = 0x69, exports.KEY_A = 0x41, exports.KEY_ALT = 0x12, exports.KEY_ALTGR = 0x12, exports.KEY_ASTERISK = 0x6a, exports.KEY_B = 0x42, exports.KEY_BACKSLASH = 0xdc, exports.KEY_BACKSPACE = 0x08, exports.KEY_C = 0x43, exports.KEY_CAPSLOCK = 0x14, exports.KEY_CLOSEBRACE = 0xdd, exports.KEY_COLON = 0xba, exports.KEY_COMMA = 0xbc, exports.KEY_D = 0x44, exports.KEY_DEL = 0x2e, exports.KEY_DOWN = 0x28, exports.KEY_E = 0x45, exports.KEY_END = 0x23, exports.KEY_ENTER = 0x0d, exports.KEY_ENTER_PAD = 0x0d, exports.KEY_EQUALS = 0xbb, exports.KEY_EQUALS_PAD = 0x0c, exports.KEY_ESC = 0x1b, exports.KEY_F = 0x46, exports.KEY_F1 = 0x70, exports.KEY_F10 = 0x79, exports.KEY_F11 = 0x7a, exports.KEY_F12 = 0x7b, exports.KEY_F2 = 0x71, exports.KEY_F3 = 0x72, exports.KEY_F4 = 0x73, exports.KEY_F5 = 0x74, exports.KEY_F6 = 0x75, exports.KEY_F7 = 0x76, exports.KEY_F8 = 0x77, exports.KEY_F9 = 0x78, exports.KEY_G = 0x47, exports.KEY_H = 0x48, exports.KEY_HOME = 0x24, exports.KEY_I = 0x49, exports.KEY_INSERT = 0x2d, exports.KEY_J = 0x4a, exports.KEY_K = 0x4b, exports.KEY_L = 0x4c, exports.KEY_LCONTROL = 0x11, exports.KEY_LEFT = 0x25, exports.KEY_LSHIFT = 0x10, exports.KEY_LWIN = 0x5b, exports.KEY_M = 0x4d, exports.KEY_MAX = 0xdf, exports.KEY_MENU = 0x5d, exports.KEY_MINUS = 0xbd, exports.KEY_MINUS_PAD = 0x6d, exports.KEY_N = 0x4e, exports.KEY_NUMLOCK = 0x90, exports.KEY_O = 0x4f, exports.KEY_OPENBRACE = 0xdb, exports.KEY_P = 0x50, exports.KEY_PAUSE = 0x13, exports.KEY_PGDN = 0x22, exports.KEY_PGUP = 0x21, exports.KEY_PLUS_PAD = 0x6b, exports.KEY_PRTSCR = 0x2c, exports.KEY_Q = 0x51, exports.KEY_QUOTE = 0xde, exports.KEY_R = 0x52, exports.KEY_RCONTROL = 0x11, exports.KEY_RIGHT = 0x27, exports.KEY_RSHIFT = 0x10, exports.KEY_RWIN = 0x5c, exports.KEY_S = 0x53, exports.KEY_SCRLOCK = 0x9d, exports.KEY_SLASH = 0xbf, exports.KEY_SLASH_PAD = 0x6f, exports.KEY_SPACE = 0x20, exports.KEY_STOP = 0xbe, exports.KEY_T = 0x54, exports.KEY_TAB = 0x09, exports.KEY_TILDE = 0xc0, exports.KEY_U = 0x55, exports.KEY_UP = 0x26, exports.KEY_V = 0x56, exports.KEY_W = 0x57, exports.KEY_X = 0x58, exports.KEY_Y = 0x59, exports.KEY_Z = 0x5a;\r\nexports.KB_ACCENT1_FLAG = 0x1000, exports.KB_ACCENT2_FLAG = 0x2000, exports.KB_ACCENT3_FLAG = 0x4000, exports.KB_ACCENT4_FLAG = 0x8000, exports.KB_ALT_FLAG = 0x0004, exports.KB_CAPSLOCK_FLAG = 0x0400, exports.KB_COMMAND_FLAG = 0x0040, exports.KB_CTRL_FLAG = 0x0002, exports.KB_INALTSEQ_FLAG = 0x0800, exports.KB_LWIN_FLAG = 0x0008, exports.KB_MENU_FLAG = 0x0020, exports.KB_NUMLOCK_FLAG = 0x0200, exports.KB_RWIN_FLAG = 0x0010, exports.KB_SCROLOCK_FLAG = 0x0100, exports.KB_SHIFT_FLAG = 0x0001;\r\nexports._keyboard_installed = false;\r\nexports._default_enabled_keys = [\r\n    exports.KEY_F1,\r\n    exports.KEY_F2,\r\n    exports.KEY_F3,\r\n    exports.KEY_F4,\r\n    exports.KEY_F5,\r\n    exports.KEY_F6,\r\n    exports.KEY_F7,\r\n    exports.KEY_F8,\r\n    exports.KEY_F9,\r\n    exports.KEY_F10,\r\n    exports.KEY_F11,\r\n    exports.KEY_F12,\r\n    exports.KEY_ESC,\r\n];\r\nvar _enabled_keys = [];\r\nfunction _keyboard_loop() {\r\n    if (exports._keyboard_installed) {\r\n    }\r\n}\r\nexports._keyboard_loop = _keyboard_loop;\r\nfunction _keydown(e) {\r\n    _keydown_handler(e.keyCode);\r\n    if (!_enabled_keys.includes(e.keyCode))\r\n        e.preventDefault();\r\n}\r\nfunction _keydown_handler(keyCode) {\r\n    exports.key[keyCode] = true;\r\n    exports.key_buffer.push(keyCode << 8);\r\n    switch (keyCode) {\r\n        case exports.KEY_LSHIFT:\r\n        case exports.KEY_RSHIFT:\r\n            exports.key_shifts |= exports.KB_SHIFT_FLAG;\r\n            break;\r\n        case exports.KEY_LCONTROL:\r\n        case exports.KEY_RCONTROL:\r\n            exports.key_shifts |= exports.KB_CTRL_FLAG;\r\n            break;\r\n        case exports.KEY_ALT:\r\n            exports.key_shifts |= exports.KB_ALT_FLAG;\r\n            break;\r\n        case exports.KEY_LWIN:\r\n            exports.key_shifts |= exports.KB_LWIN_FLAG;\r\n            break;\r\n        case exports.KEY_RWIN:\r\n            exports.key_shifts |= exports.KB_RWIN_FLAG;\r\n            break;\r\n        case exports.KEY_MENU:\r\n            exports.key_shifts |= exports.KB_MENU_FLAG;\r\n            break;\r\n        case exports.KEY_SCRLOCK:\r\n            exports.key_shifts |= exports.KB_SCROLOCK_FLAG;\r\n            break;\r\n        case exports.KEY_NUMLOCK:\r\n            exports.key_shifts |= exports.KB_NUMLOCK_FLAG;\r\n            break;\r\n        case exports.KEY_CAPSLOCK:\r\n            exports.key_shifts |= exports.KB_CAPSLOCK_FLAG;\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\nfunction _keyup(e) {\r\n    _keyup_handler(e.keyCode);\r\n    if (!_enabled_keys.includes(e.keyCode))\r\n        e.preventDefault();\r\n}\r\nfunction _keyup_handler(keyCode) {\r\n    exports.key[keyCode] = false;\r\n    switch (keyCode) {\r\n        case exports.KEY_LSHIFT:\r\n        case exports.KEY_RSHIFT:\r\n            exports.key_shifts ^= exports.KB_SHIFT_FLAG;\r\n            break;\r\n        case exports.KEY_LCONTROL:\r\n        case exports.KEY_RCONTROL:\r\n            exports.key_shifts ^= exports.KB_CTRL_FLAG;\r\n            break;\r\n        case exports.KEY_ALT:\r\n            exports.key_shifts ^= exports.KB_ALT_FLAG;\r\n            break;\r\n        case exports.KEY_LWIN:\r\n            exports.key_shifts ^= exports.KB_LWIN_FLAG;\r\n            break;\r\n        case exports.KEY_RWIN:\r\n            exports.key_shifts ^= exports.KB_RWIN_FLAG;\r\n            break;\r\n        case exports.KEY_MENU:\r\n            exports.key_shifts ^= exports.KB_MENU_FLAG;\r\n            break;\r\n        case exports.KEY_SCRLOCK:\r\n            exports.key_shifts ^= exports.KB_SCROLOCK_FLAG;\r\n            break;\r\n        case exports.KEY_NUMLOCK:\r\n            exports.key_shifts ^= exports.KB_NUMLOCK_FLAG;\r\n            break;\r\n        case exports.KEY_CAPSLOCK:\r\n            exports.key_shifts ^= exports.KB_CAPSLOCK_FLAG;\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n//# sourceMappingURL=keyboard.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.scaleclamp = exports.scale = exports.clamp = exports.anglediff = exports.angle = exports.sgn = exports.dot = exports.lerp = exports.linedist = exports.distance2 = exports.distance = exports.length_ = exports.abs = exports.frand = exports.rand32 = exports.AL_RAND = exports.rand = exports.floor = exports.DEG = exports.RAD = exports.PI_4 = exports.PI_3 = exports.PI_2 = exports.PI2 = exports.PI = void 0;\r\nexports.PI = 3.14159265;\r\nexports.PI2 = 2 * 3.14159265;\r\nexports.PI_2 = 3.14159265 / 2;\r\nexports.PI_3 = 3.14159265 / 3;\r\nexports.PI_4 = 3.14159265 / 4;\r\nfunction RAD(d) {\r\n    return (-d * exports.PI) / 180.0;\r\n}\r\nexports.RAD = RAD;\r\nfunction DEG(r) {\r\n    return (-r * 180.0) / exports.PI;\r\n}\r\nexports.DEG = DEG;\r\nfunction floor(num) {\r\n    return Math.floor(num);\r\n}\r\nexports.floor = floor;\r\nfunction rand() {\r\n    return Math.floor(65536 * Math.random());\r\n}\r\nexports.rand = rand;\r\nfunction AL_RAND() {\r\n    return rand();\r\n}\r\nexports.AL_RAND = AL_RAND;\r\nfunction rand32() {\r\n    return rand() | (rand() << 16);\r\n}\r\nexports.rand32 = rand32;\r\nfunction frand() {\r\n    return Math.random();\r\n}\r\nexports.frand = frand;\r\nfunction abs(a) {\r\n    return a < 0 ? -a : a;\r\n}\r\nexports.abs = abs;\r\nfunction length_(x, y) {\r\n    return Math.sqrt(x * x + y * y);\r\n}\r\nexports.length_ = length_;\r\nfunction distance(x1, y1, x2, y2) {\r\n    return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\r\n}\r\nexports.distance = distance;\r\nfunction distance2(x1, y1, x2, y2) {\r\n    return (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\r\n}\r\nexports.distance2 = distance2;\r\nfunction linedist(ex1, ey1, ex2, ey2, x, y) {\r\n    var px = ex2 - ex1;\r\n    var py = ey2 - ey1;\r\n    var u = ((x - ex1) * px + (y - ey1) * py) / (px * px + py * py);\r\n    if (u > 1)\r\n        u = 1;\r\n    else if (u < 0)\r\n        u = 0;\r\n    var dx = ex1 + u * px - x;\r\n    var dy = ey1 + u * py - y;\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n}\r\nexports.linedist = linedist;\r\nfunction lerp(from, to, progress) {\r\n    return from + (to - from) * progress;\r\n}\r\nexports.lerp = lerp;\r\nfunction dot(x1, y1, x2, y2) {\r\n    return x1 * x2 + y1 * y2;\r\n}\r\nexports.dot = dot;\r\nfunction sgn(a) {\r\n    if (a < 0) {\r\n        return -1;\r\n    }\r\n    if (a > 0) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\nexports.sgn = sgn;\r\nfunction angle(x1, y1, x2, y2) {\r\n    var a = DEG(Math.atan2(y2 - y1, x2 - x1));\r\n    return a < 0 ? a + 360 : a;\r\n}\r\nexports.angle = angle;\r\nfunction anglediff(a, b) {\r\n    var diff = b - a;\r\n    diff /= 360;\r\n    diff = (diff - floor(diff)) * 360;\r\n    if (diff > 180) {\r\n        diff -= 360;\r\n    }\r\n    return diff;\r\n}\r\nexports.anglediff = anglediff;\r\nfunction clamp(value, min, max) {\r\n    if (max > min) {\r\n        if (value < min)\r\n            return min;\r\n        else if (value > max)\r\n            return max;\r\n        return value;\r\n    }\r\n    if (value < max)\r\n        return max;\r\n    else if (value > min)\r\n        return min;\r\n    return value;\r\n}\r\nexports.clamp = clamp;\r\nfunction scale(value, min, max, min2, max2) {\r\n    return min2 + ((value - min) / (max - min)) * (max2 - min2);\r\n}\r\nexports.scale = scale;\r\nfunction scaleclamp(value, min, max, min2, max2) {\r\n    var cmp_val = min2 + ((value - min) / (max - min)) * (max2 - min2);\r\n    if (max2 > min2) {\r\n        cmp_val = cmp_val < max2 ? cmp_val : max2;\r\n        return cmp_val > min2 ? cmp_val : min2;\r\n    }\r\n    cmp_val = cmp_val < min2 ? cmp_val : min2;\r\n    return cmp_val > max2 ? cmp_val : max2;\r\n}\r\nexports.scaleclamp = scaleclamp;\r\n//# sourceMappingURL=math.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.load_ibk = exports.midi_msg_callback = exports.midi_loop_end = exports.midi_loop_start = exports.midi_time = exports.midi_pos = exports.load_midi_patches = exports.midi_out = exports.get_midi_length = exports.midi_seek = exports.midi_resume = exports.midi_pause = exports.stop_midi = exports.play_looped_midi = exports.play_midi = exports.lock_midi = exports.destroy_midi = exports.load_midi = exports.midi_driver = void 0;\r\nvar debug_1 = require(\"./debug\");\r\nvar midiParser_1 = require(\"./midiParser\");\r\nvar _current_midi = null;\r\nexports.midi_driver = {\r\n    id: 0,\r\n    name: \"Browser MIDI\",\r\n    description: \"Browser MIDI\",\r\n    ascii_name: \"Browser MIDI\",\r\n};\r\nfunction load_midi(filename) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var fileData, data, midi;\r\n        var _this = this;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    debug_1.log(\"Loading midi \" + filename + \"...\");\r\n                    return [4, fetch(filename)\r\n                            .then(function (response) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\r\n                            return [2, response.arrayBuffer()];\r\n                        }); }); })\r\n                            .then(function (buffer) { return buffer; })];\r\n                case 1:\r\n                    fileData = _a.sent();\r\n                    data = midiParser_1.parseMidi(fileData);\r\n                    if (!data) {\r\n                        return [2, null];\r\n                    }\r\n                    debug_1.log(\"MIDI \" + filename + \" loaded!\");\r\n                    midi = {\r\n                        file: filename,\r\n                        ready: true,\r\n                        type: \"midi\",\r\n                        data: data,\r\n                    };\r\n                    return [2, midi];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.load_midi = load_midi;\r\nfunction destroy_midi(midi) {\r\n    void midi;\r\n}\r\nexports.destroy_midi = destroy_midi;\r\nfunction lock_midi(midi) {\r\n    void midi;\r\n}\r\nexports.lock_midi = lock_midi;\r\nfunction play_midi(midi, loop) {\r\n    void loop;\r\n    if (_current_midi) {\r\n    }\r\n    if (midi) {\r\n        _current_midi = midi;\r\n    }\r\n}\r\nexports.play_midi = play_midi;\r\nfunction play_looped_midi(midi, loop_start, loop_end) {\r\n    void midi;\r\n    exports.midi_loop_start = loop_start;\r\n    exports.midi_loop_end = loop_end;\r\n    return 0;\r\n}\r\nexports.play_looped_midi = play_looped_midi;\r\nfunction stop_midi() {\r\n    play_midi(null, false);\r\n}\r\nexports.stop_midi = stop_midi;\r\nfunction midi_pause() {\r\n    if (_current_midi) {\r\n    }\r\n}\r\nexports.midi_pause = midi_pause;\r\nfunction midi_resume() {\r\n    if (_current_midi) {\r\n    }\r\n}\r\nexports.midi_resume = midi_resume;\r\nfunction midi_seek(target) {\r\n    if (_current_midi) {\r\n        void target;\r\n    }\r\n}\r\nexports.midi_seek = midi_seek;\r\nfunction get_midi_length(midi) {\r\n    void midi;\r\n    return 0;\r\n}\r\nexports.get_midi_length = get_midi_length;\r\nfunction midi_out(data, length) {\r\n    void data;\r\n    void length;\r\n}\r\nexports.midi_out = midi_out;\r\nfunction load_midi_patches() {\r\n}\r\nexports.load_midi_patches = load_midi_patches;\r\nexports.midi_pos = 0;\r\nexports.midi_time = 0;\r\nexports.midi_loop_start = 0;\r\nexports.midi_loop_end = 0;\r\nfunction midi_msg_callback(msg, byte1, byte2) {\r\n    void msg;\r\n    void byte1;\r\n    void byte2;\r\n}\r\nexports.midi_msg_callback = midi_msg_callback;\r\nfunction load_ibk(filename, drums) {\r\n    void filename;\r\n    void drums;\r\n}\r\nexports.load_ibk = load_ibk;\r\n//# sourceMappingURL=midi.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.parseMidi = void 0;\r\nvar debug_1 = require(\"./debug\");\r\nvar FileParser_1 = require(\"./FileParser\");\r\nvar parseMidi = function (buffer) {\r\n    var uint8Data = new Uint8Array(buffer);\r\n    var file = new FileParser_1.FileParser(new DataView(uint8Data.buffer, uint8Data.byteOffset, uint8Data.byteLength));\r\n    var headerValidation = file.readInt(4);\r\n    if (headerValidation !== 0x4d546864) {\r\n        debug_1.log(\"Header validation failed (not MIDI standard or file corrupt), code: 0x\" + headerValidation.toString(16));\r\n        return null;\r\n    }\r\n    file.movePointer(4);\r\n    var parsedMidi = {\r\n        formatType: file.readInt(2),\r\n        tracks: file.readInt(2),\r\n        track: [],\r\n        timeDivision: [],\r\n    };\r\n    var timeDivisionByte1 = file.readInt(1);\r\n    var timeDivisionByte2 = file.readInt(1);\r\n    if (timeDivisionByte1 >= 128) {\r\n        parsedMidi.timeDivision = [timeDivisionByte1 - 128, timeDivisionByte2];\r\n    }\r\n    else {\r\n        parsedMidi.timeDivision = timeDivisionByte1 * 256 + timeDivisionByte2;\r\n    }\r\n    for (var t = 1; t <= parsedMidi.tracks; t += 1) {\r\n        var track = {\r\n            events: [],\r\n            text: [],\r\n            copyright: [],\r\n            trackName: [],\r\n            instrumentName: [],\r\n            programName: [],\r\n            lyric: [],\r\n            marker: [],\r\n            cuePoint: [],\r\n            tempo: [],\r\n            smpteOffset: [],\r\n            timeSignature: [],\r\n            keySignature: [],\r\n            notes: [],\r\n            programChange: [],\r\n        };\r\n        parsedMidi.track.push(track);\r\n        var headerValidation_1 = file.readInt(4);\r\n        if (headerValidation_1 === -1) {\r\n            break;\r\n        }\r\n        if (headerValidation_1 !== 0x4d54726b) {\r\n            debug_1.log(\"Header validation failed (not MIDI standard or file corrupt), code: 0x\" + headerValidation_1.toString(16));\r\n            return null;\r\n        }\r\n        file.movePointer(4);\r\n        var endOfTrack = false;\r\n        var lastStatusByte = -1;\r\n        while (!endOfTrack) {\r\n            var time = file.readIntVLV();\r\n            var statusByte = file.readInt(1);\r\n            if (statusByte === -1) {\r\n                break;\r\n            }\r\n            else if (statusByte >= 128) {\r\n                lastStatusByte = statusByte;\r\n            }\r\n            else {\r\n                statusByte = lastStatusByte;\r\n                file.movePointer(-1);\r\n            }\r\n            if (statusByte === 0xff) {\r\n                var type = file.readInt(1);\r\n                if (type === 0x2f) {\r\n                    endOfTrack = true;\r\n                    file.movePointer(1);\r\n                }\r\n                else {\r\n                    getMetaData(type, time, track, file);\r\n                }\r\n            }\r\n            else {\r\n                var type = statusByte >> 4;\r\n                var channel = statusByte & 0xf;\r\n                if (!getRegularData(type, channel, time, track, file)) {\r\n                    debug_1.log(\"Unknown event 0x\" + type.toString(16) + \" detected! Reading cancelled!\");\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return parsedMidi;\r\n};\r\nexports.parseMidi = parseMidi;\r\nfunction getRegularData(type, channel, time, track, file) {\r\n    switch (type) {\r\n        case 0xf: {\r\n            var event_length = file.readIntVLV();\r\n            file.movePointer(event_length);\r\n            debug_1.log(\"Unimplemented 0xF exclusive events! Skipped.\");\r\n            break;\r\n        }\r\n        case 0x8:\r\n            track.notes.push({\r\n                time: time,\r\n                on: false,\r\n                note: file.readInt(1),\r\n                velocity: file.readInt(1),\r\n                channel: channel,\r\n            });\r\n            break;\r\n        case 0x9:\r\n            track.notes.push({\r\n                time: time,\r\n                on: false,\r\n                note: file.readInt(1),\r\n                velocity: file.readInt(1),\r\n                channel: channel,\r\n            });\r\n            break;\r\n        case 0xc:\r\n            track.programChange.push({\r\n                time: time,\r\n                program: file.readInt(1),\r\n                channel: channel,\r\n            });\r\n            break;\r\n        case 0xd:\r\n            track.events.push({\r\n                channel: channel,\r\n                time: time,\r\n                type: type,\r\n                data: [file.readInt(1)],\r\n            });\r\n            break;\r\n        case 0xa:\r\n        case 0xb:\r\n        case 0xe:\r\n            track.events.push({\r\n                channel: channel,\r\n                time: time,\r\n                type: type,\r\n                data: [file.readInt(1), file.readInt(1)],\r\n            });\r\n            break;\r\n        default:\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\nfunction getMetaData(type, time, track, file) {\r\n    var metaEventLength = file.readIntVLV();\r\n    switch (type) {\r\n        case 0x01:\r\n            track.text.push({ time: time, text: file.readStr(metaEventLength) });\r\n            break;\r\n        case 0x02:\r\n            track.copyright.push({\r\n                time: time,\r\n                text: file.readStr(metaEventLength),\r\n            });\r\n            break;\r\n        case 0x03:\r\n            track.trackName.push({\r\n                time: time,\r\n                text: file.readStr(metaEventLength),\r\n            });\r\n            break;\r\n        case 0x04:\r\n            track.instrumentName.push({\r\n                time: time,\r\n                text: file.readStr(metaEventLength),\r\n            });\r\n            break;\r\n        case 0x05:\r\n            track.lyric.push({\r\n                time: time,\r\n                text: file.readStr(metaEventLength),\r\n            });\r\n            break;\r\n        case 0x06:\r\n            track.marker.push({\r\n                time: time,\r\n                text: file.readStr(metaEventLength),\r\n            });\r\n            break;\r\n        case 0x07:\r\n            track.cuePoint.push({\r\n                time: time,\r\n                text: file.readStr(metaEventLength),\r\n            });\r\n            break;\r\n        case 0x08:\r\n            track.programName.push({\r\n                time: time,\r\n                text: file.readStr(metaEventLength),\r\n            });\r\n            break;\r\n        case 0x51:\r\n            track.tempo.push({\r\n                tempo: file.readInt(metaEventLength),\r\n                time: time,\r\n            });\r\n            break;\r\n        case 0x54:\r\n            track.smpteOffset.push({\r\n                time: time,\r\n                hr: file.readInt(1),\r\n                mn: file.readInt(1),\r\n                se: file.readInt(1),\r\n                fr: file.readInt(1),\r\n                ff: file.readInt(1),\r\n            });\r\n            break;\r\n        case 0x58:\r\n            track.timeSignature.push({\r\n                time: time,\r\n                nn: file.readInt(1),\r\n                dd: file.readInt(1),\r\n                cc: file.readInt(1),\r\n                bb: file.readInt(1),\r\n            });\r\n            break;\r\n        case 0x59:\r\n            track.keySignature.push({\r\n                time: time,\r\n                sf: file.readInt(1),\r\n                mi: file.readInt(1),\r\n            });\r\n            break;\r\n        default:\r\n            debug_1.log(\"Unimplemented meta event, 0x\" + type.toString(16) + \" detected! Skipped.\");\r\n            file.movePointer(metaEventLength);\r\n    }\r\n}\r\n//# sourceMappingURL=midiParser.js.map","\"use strict\";\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports._mouseup = exports._mousemenu = exports._mouse_loop_reset = exports._mouse_loop = exports._menu_supress = exports._menu = exports._last_mouse_z = exports._last_mouse_y = exports._last_mouse_x = exports._mouse_installed = exports.mouse_mz = exports.mouse_my = exports.mouse_mx = exports.mouse_callback = exports.get_mouse_mickeys = exports.set_mouse_sprite_focus = exports.set_mouse_sprite = exports.set_mouse_speed = exports.set_mouse_range = exports.position_mouse_z = exports.position_mouse = exports.freeze_mouse_flag = exports.show_os_cursor = exports.scare_mouse_area = exports.scare_mouse = exports.show_mouse = exports.mouse_sprite = exports.mouse_b = exports.mouse_w = exports.mouse_z = exports.mouse_y = exports.mouse_x = exports.set_mouse_cursor_bitmap = exports.select_mouse_cursor = exports.disable_hardware_cursor = exports.enable_hardware_cursor = exports.mouse_needs_poll = exports.poll_mouse = exports.remove_mouse = exports.install_mouse = exports.mouse_driver = exports.MOUSEDRV_NONE = exports.MOUSEDRV_AUTODETECT = exports.AL_NUM_MOUSE_CURSORS = exports.MOUSE_CURSOR_EDIT = exports.MOUSE_CURSOR_QUESTION = exports.MOUSE_CURSOR_BUSY = exports.MOUSE_CURSOR_ARROW = exports.MOUSE_CURSOR_ALLEGRO = exports.MOUSE_CURSOR_NONE = void 0;\r\nexports._mousewheel = exports._mousemove = exports._mousedown = void 0;\r\nvar debug_1 = require(\"./debug\");\r\nvar bitmap_1 = require(\"./bitmap\");\r\nvar sprites_1 = require(\"./sprites\");\r\nexports.MOUSE_CURSOR_NONE = 0;\r\nexports.MOUSE_CURSOR_ALLEGRO = 1;\r\nexports.MOUSE_CURSOR_ARROW = 2;\r\nexports.MOUSE_CURSOR_BUSY = 3;\r\nexports.MOUSE_CURSOR_QUESTION = 4;\r\nexports.MOUSE_CURSOR_EDIT = 5;\r\nexports.AL_NUM_MOUSE_CURSORS = 6;\r\nexports.MOUSEDRV_AUTODETECT = -1;\r\nexports.MOUSEDRV_NONE = 0;\r\nexports.mouse_driver = {\r\n    id: exports.MOUSEDRV_NONE,\r\n    name: \"\",\r\n    desc: \"\",\r\n    ascii_name: \"No mouse\",\r\n};\r\nvar _mouse_focus_x = 0;\r\nvar _mouse_focus_y = 0;\r\nvar _hardware_cursor = false;\r\nvar _selected_cursor = exports.MOUSE_CURSOR_ALLEGRO;\r\nvar _cursors = (_a = {},\r\n    _a[exports.MOUSE_CURSOR_ALLEGRO] = null,\r\n    _a[exports.MOUSE_CURSOR_ARROW] = null,\r\n    _a[exports.MOUSE_CURSOR_BUSY] = null,\r\n    _a[exports.MOUSE_CURSOR_EDIT] = null,\r\n    _a[exports.MOUSE_CURSOR_NONE] = null,\r\n    _a[exports.MOUSE_CURSOR_QUESTION] = null,\r\n    _a);\r\nfunction install_mouse(menu) {\r\n    if (menu === void 0) { menu = false; }\r\n    if (exports._mouse_installed) {\r\n        debug_1._allog(\"Mouse already installed\");\r\n        return -1;\r\n    }\r\n    exports.mouse_driver.id = exports.MOUSEDRV_AUTODETECT;\r\n    exports.mouse_driver.name = \"Browser Mouse\";\r\n    exports.mouse_driver.desc = \"Allegro Browser Handler\";\r\n    exports.mouse_driver.ascii_name = \"Browser Mouse\";\r\n    bitmap_1.screen.canvas.addEventListener(\"mouseup\", _mouseup);\r\n    bitmap_1.screen.canvas.addEventListener(\"mousedown\", _mousedown);\r\n    bitmap_1.screen.canvas.addEventListener(\"mousemove\", _mousemove);\r\n    bitmap_1.screen.canvas.addEventListener(\"wheel\", _mousewheel);\r\n    if (menu) {\r\n        exports._menu_supress = true;\r\n    }\r\n    else {\r\n        bitmap_1.screen.canvas.addEventListener(\"contextmenu\", _mousemenu);\r\n        exports._menu_supress = false;\r\n    }\r\n    exports._mouse_installed = true;\r\n    debug_1.log(\"Mouse installed!\");\r\n    return 0;\r\n}\r\nexports.install_mouse = install_mouse;\r\nfunction remove_mouse() {\r\n    if (!exports._mouse_installed) {\r\n        debug_1._error(\"You must call install_mouse before remove_mouse\");\r\n        return -1;\r\n    }\r\n    bitmap_1.screen.canvas.removeEventListener(\"mouseup\", _mouseup);\r\n    bitmap_1.screen.canvas.removeEventListener(\"mousedown\", _mousedown);\r\n    bitmap_1.screen.canvas.removeEventListener(\"mousemove\", _mousemove);\r\n    bitmap_1.screen.canvas.removeEventListener(\"wheel\", _mousewheel);\r\n    if (exports._menu_supress)\r\n        bitmap_1.screen.canvas.removeEventListener(\"contextmenu\", _mousemenu);\r\n    exports._mouse_installed = false;\r\n    debug_1.log(\"Mouse removed!\");\r\n    return 0;\r\n}\r\nexports.remove_mouse = remove_mouse;\r\nfunction poll_mouse() {\r\n    _mouse_loop();\r\n}\r\nexports.poll_mouse = poll_mouse;\r\nfunction mouse_needs_poll() {\r\n    return false;\r\n}\r\nexports.mouse_needs_poll = mouse_needs_poll;\r\nfunction enable_hardware_cursor() {\r\n    _hardware_cursor = true;\r\n}\r\nexports.enable_hardware_cursor = enable_hardware_cursor;\r\nfunction disable_hardware_cursor() {\r\n    _hardware_cursor = false;\r\n}\r\nexports.disable_hardware_cursor = disable_hardware_cursor;\r\nfunction select_mouse_cursor(cursor) {\r\n    _selected_cursor = cursor;\r\n    if (_hardware_cursor) {\r\n        show_os_cursor(cursor);\r\n    }\r\n}\r\nexports.select_mouse_cursor = select_mouse_cursor;\r\nfunction set_mouse_cursor_bitmap(cursor, bmp) {\r\n    _cursors[cursor] = bmp;\r\n}\r\nexports.set_mouse_cursor_bitmap = set_mouse_cursor_bitmap;\r\nexports.mouse_x = -1;\r\nexports.mouse_y = -1;\r\nexports.mouse_z = -1;\r\nexports.mouse_w = -1;\r\nexports.mouse_b = 0;\r\nexports.mouse_sprite = null;\r\nfunction show_mouse(bmp) {\r\n    if (!exports._mouse_installed) {\r\n        debug_1._error(\"You must call install_mouse before show_mouse\");\r\n        return -1;\r\n    }\r\n    if (bmp) {\r\n        bitmap_1.screen.canvas.style.cursor = \"auto\";\r\n    }\r\n    else {\r\n        bitmap_1.screen.canvas.style.cursor = \"none\";\r\n    }\r\n    return 0;\r\n}\r\nexports.show_mouse = show_mouse;\r\nfunction scare_mouse() {\r\n    if (!exports._mouse_installed) {\r\n        debug_1._error(\"You must call install_mouse before hide_mouse\");\r\n        return -1;\r\n    }\r\n    bitmap_1.screen.canvas.style.cursor = \"none\";\r\n    return 0;\r\n}\r\nexports.scare_mouse = scare_mouse;\r\nfunction scare_mouse_area(x, y, w, h) {\r\n    void x;\r\n    void y;\r\n    void w;\r\n    void h;\r\n}\r\nexports.scare_mouse_area = scare_mouse_area;\r\nfunction show_os_cursor(cursor) {\r\n    switch (cursor) {\r\n        case exports.MOUSE_CURSOR_ALLEGRO:\r\n            bitmap_1.screen.canvas.style.cursor = \"auto\";\r\n            break;\r\n        case exports.MOUSE_CURSOR_ARROW:\r\n            bitmap_1.screen.canvas.style.cursor = \"move\";\r\n            break;\r\n        case exports.MOUSE_CURSOR_BUSY:\r\n            bitmap_1.screen.canvas.style.cursor = \"wait\";\r\n            break;\r\n        case exports.MOUSE_CURSOR_EDIT:\r\n            bitmap_1.screen.canvas.style.cursor = \"crosshair\";\r\n            break;\r\n        case exports.MOUSE_CURSOR_NONE:\r\n            bitmap_1.screen.canvas.style.cursor = \"auto\";\r\n            break;\r\n        case exports.MOUSE_CURSOR_QUESTION:\r\n            bitmap_1.screen.canvas.style.cursor = \"help\";\r\n            break;\r\n        default:\r\n            bitmap_1.screen.canvas.style.cursor = \"auto\";\r\n            break;\r\n    }\r\n}\r\nexports.show_os_cursor = show_os_cursor;\r\nexports.freeze_mouse_flag = false;\r\nfunction position_mouse(x, y) {\r\n    exports.mouse_x = x;\r\n    exports.mouse_y = y;\r\n}\r\nexports.position_mouse = position_mouse;\r\nfunction position_mouse_z(z) {\r\n    exports.mouse_z = z;\r\n}\r\nexports.position_mouse_z = position_mouse_z;\r\nfunction set_mouse_range(x1, y1, x2, y2) {\r\n    void x1;\r\n    void y1;\r\n    void x2;\r\n    void y2;\r\n}\r\nexports.set_mouse_range = set_mouse_range;\r\nfunction set_mouse_speed(xspeed, yspeed) {\r\n    void xspeed;\r\n    void yspeed;\r\n}\r\nexports.set_mouse_speed = set_mouse_speed;\r\nfunction set_mouse_sprite(sprite) {\r\n    _cursors[exports.MOUSE_CURSOR_ALLEGRO] = sprite;\r\n}\r\nexports.set_mouse_sprite = set_mouse_sprite;\r\nfunction set_mouse_sprite_focus(x, y) {\r\n    _mouse_focus_x = x;\r\n    _mouse_focus_y = y;\r\n}\r\nexports.set_mouse_sprite_focus = set_mouse_sprite_focus;\r\nfunction get_mouse_mickeys(mickeyx, mickeyy) {\r\n    void mickeyx;\r\n    void mickeyy;\r\n}\r\nexports.get_mouse_mickeys = get_mouse_mickeys;\r\nfunction mouse_callback(flags) {\r\n    void flags;\r\n}\r\nexports.mouse_callback = mouse_callback;\r\nexports.mouse_mx = 0;\r\nexports.mouse_my = 0;\r\nexports.mouse_mz = 0;\r\nexports._mouse_installed = false;\r\nexports._last_mouse_x = -1;\r\nexports._last_mouse_y = -1;\r\nexports._last_mouse_z = -1;\r\nexports._menu = false;\r\nexports._menu_supress = false;\r\nfunction _mouse_loop() {\r\n    if (exports._mouse_installed) {\r\n        exports.mouse_mx = exports.mouse_x - exports._last_mouse_x;\r\n        exports.mouse_my = exports.mouse_y - exports._last_mouse_y;\r\n        exports.mouse_mz = exports.mouse_z - exports._last_mouse_z;\r\n    }\r\n}\r\nexports._mouse_loop = _mouse_loop;\r\nfunction _mouse_loop_reset() {\r\n    if (exports._mouse_installed) {\r\n        exports.mouse_mx = 0;\r\n        exports.mouse_my = 0;\r\n        exports.mouse_mz = 0;\r\n        exports._last_mouse_x = exports.mouse_x;\r\n        exports._last_mouse_y = exports.mouse_y;\r\n        exports._last_mouse_z = exports.mouse_z;\r\n        var cursor = _cursors[_selected_cursor];\r\n        if (cursor && !_hardware_cursor) {\r\n            sprites_1.draw_sprite(bitmap_1.screen, cursor, exports.mouse_x - _mouse_focus_x, exports.mouse_y - _mouse_focus_y);\r\n            bitmap_1.screen.canvas.style.cursor = \"none\";\r\n        }\r\n        else {\r\n            show_os_cursor(_selected_cursor);\r\n        }\r\n    }\r\n}\r\nexports._mouse_loop_reset = _mouse_loop_reset;\r\nfunction _mousemenu(e) {\r\n    e.preventDefault();\r\n}\r\nexports._mousemenu = _mousemenu;\r\nfunction _mouseup(e) {\r\n    exports.mouse_b &= ~(1 << e.button);\r\n    e.preventDefault();\r\n}\r\nexports._mouseup = _mouseup;\r\nfunction _mousedown(e) {\r\n    exports.mouse_b |= 1 << e.button;\r\n    e.preventDefault();\r\n}\r\nexports._mousedown = _mousedown;\r\nfunction _mousemove(e) {\r\n    exports.mouse_x = e.offsetX;\r\n    exports.mouse_y = e.offsetY;\r\n    e.preventDefault();\r\n}\r\nexports._mousemove = _mousemove;\r\nfunction _mousewheel(e) {\r\n    exports.mouse_z += e.deltaY;\r\n    e.preventDefault();\r\n}\r\nexports._mousewheel = _mousewheel;\r\n//# sourceMappingURL=mouse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.desktop_palette = exports.set_palette = void 0;\r\nfunction set_palette(pal) {\r\n    void pal;\r\n}\r\nexports.set_palette = set_palette;\r\nexports.desktop_palette = [\r\n    { r: 63, g: 63, b: 63 },\r\n    { r: 63, g: 0, b: 0 },\r\n    { r: 0, g: 63, b: 0 },\r\n    { r: 63, g: 63, b: 0 },\r\n    { r: 0, g: 0, b: 63 },\r\n    { r: 63, g: 0, b: 63 },\r\n    { r: 0, g: 63, b: 63 },\r\n    { r: 16, g: 16, b: 16 },\r\n    { r: 31, g: 31, b: 31 },\r\n    { r: 63, g: 31, b: 31 },\r\n    { r: 31, g: 63, b: 31 },\r\n    { r: 63, g: 63, b: 31 },\r\n    { r: 31, g: 31, b: 63 },\r\n    { r: 63, g: 31, b: 63 },\r\n    { r: 31, g: 63, b: 63 },\r\n    { r: 0, g: 0, b: 0 },\r\n];\r\n//# sourceMappingURL=palette.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports._strokestyle = exports._fillstyle = exports.floodfill = exports.spline = exports.calc_spline = exports.arc = exports.do_arc = exports.ellipsefill = exports.ellipse = exports.do_ellipse = exports.circlefill = exports.circle = exports.do_circle = exports.rectfill = exports.rect = exports.polygon = exports.triangle = exports.fastline = exports.line = exports.do_line = exports.hline = exports.vline = exports._getpixel32 = exports._getpixel24 = exports._getpixel16 = exports._getpixel15 = exports._getpixel = exports.getpixel = exports._putpixel32 = exports._putpixel24 = exports._putpixel16 = exports._putpixel15 = exports._putpixel = exports.putpixel = exports.clear_to_color = exports.clear_bitmap = void 0;\r\nvar color_1 = require(\"./color\");\r\nvar math_1 = require(\"./math\");\r\nfunction clear_bitmap(bitmap) {\r\n    clear_to_color(bitmap, 0x000000);\r\n}\r\nexports.clear_bitmap = clear_bitmap;\r\nfunction clear_to_color(bitmap, colour) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    bitmap.context.clearRect(0, 0, bitmap.w, bitmap.h);\r\n    _fillstyle(bitmap, colour);\r\n    bitmap.context.fillRect(0, 0, bitmap.w, bitmap.h);\r\n}\r\nexports.clear_to_color = clear_to_color;\r\nfunction putpixel(bmp, x, y, c) {\r\n    if (!bmp) {\r\n        return;\r\n    }\r\n    _fillstyle(bmp, c);\r\n    bmp.context.fillRect(x, y, 1, 1);\r\n}\r\nexports.putpixel = putpixel;\r\nfunction _putpixel(bmp, x, y, c) {\r\n    putpixel(bmp, x, y, c);\r\n}\r\nexports._putpixel = _putpixel;\r\nfunction _putpixel15(bmp, x, y, c) {\r\n    putpixel(bmp, x, y, c);\r\n}\r\nexports._putpixel15 = _putpixel15;\r\nfunction _putpixel16(bmp, x, y, c) {\r\n    putpixel(bmp, x, y, c);\r\n}\r\nexports._putpixel16 = _putpixel16;\r\nfunction _putpixel24(bmp, x, y, c) {\r\n    putpixel(bmp, x, y, c);\r\n}\r\nexports._putpixel24 = _putpixel24;\r\nfunction _putpixel32(bmp, x, y, c) {\r\n    putpixel(bmp, x, y, c);\r\n}\r\nexports._putpixel32 = _putpixel32;\r\nfunction getpixel(bmp, x, y) {\r\n    var _a, _b, _c, _d;\r\n    if (!bmp || x < 0 || y < 0 || x >= bmp.w || y >= bmp.h) {\r\n        return -1;\r\n    }\r\n    var data = bmp.context.getImageData(x, y, 1, 1).data;\r\n    return ((((_a = data[3]) !== null && _a !== void 0 ? _a : 0) << 24) |\r\n        ((((_b = data[0]) !== null && _b !== void 0 ? _b : 0) & 0xff) << 16) |\r\n        ((((_c = data[1]) !== null && _c !== void 0 ? _c : 0) & 0xff) << 8) |\r\n        (((_d = data[2]) !== null && _d !== void 0 ? _d : 0) & 0xff));\r\n}\r\nexports.getpixel = getpixel;\r\nfunction _getpixel(bmp, x, y) {\r\n    return getpixel(bmp, x, y);\r\n}\r\nexports._getpixel = _getpixel;\r\nfunction _getpixel15(bmp, x, y) {\r\n    return getpixel(bmp, x, y);\r\n}\r\nexports._getpixel15 = _getpixel15;\r\nfunction _getpixel16(bmp, x, y) {\r\n    return getpixel(bmp, x, y);\r\n}\r\nexports._getpixel16 = _getpixel16;\r\nfunction _getpixel24(bmp, x, y) {\r\n    return getpixel(bmp, x, y);\r\n}\r\nexports._getpixel24 = _getpixel24;\r\nfunction _getpixel32(bmp, x, y) {\r\n    return getpixel(bmp, x, y);\r\n}\r\nexports._getpixel32 = _getpixel32;\r\nfunction vline(bitmap, x, y1, y2, colour) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    _fillstyle(bitmap, colour);\r\n    bitmap.context.fillRect(x - 1 / 2, y1, 1, y2 - y1);\r\n}\r\nexports.vline = vline;\r\nfunction hline(bitmap, x1, y, x2, colour) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    _fillstyle(bitmap, colour);\r\n    bitmap.context.fillRect(x1, y - 1 / 2, x2 - x1, 1);\r\n}\r\nexports.hline = hline;\r\nfunction do_line(bitmap, x1, y1, x2, y2, d, proc) {\r\n    void bitmap;\r\n    void x1;\r\n    void y1;\r\n    void x2;\r\n    void y2;\r\n    void d;\r\n    void proc;\r\n}\r\nexports.do_line = do_line;\r\nfunction line(bitmap, x1, y1, x2, y2, colour) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    _strokestyle(bitmap, colour);\r\n    bitmap.context.beginPath();\r\n    bitmap.context.moveTo(x1, y1);\r\n    bitmap.context.lineTo(x2, y2);\r\n    bitmap.context.stroke();\r\n}\r\nexports.line = line;\r\nfunction fastline(bitmap, x1, y1, x2, y2, colour) {\r\n    line(bitmap, x1, y1, x2, y2, colour);\r\n}\r\nexports.fastline = fastline;\r\nfunction triangle(bitmap, x1, y1, x2, y2, x3, y3, colour) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    _fillstyle(bitmap, colour);\r\n    bitmap.context.beginPath();\r\n    bitmap.context.moveTo(x1, y1);\r\n    bitmap.context.lineTo(x2, y2);\r\n    bitmap.context.lineTo(x3, y3);\r\n    bitmap.context.closePath();\r\n    bitmap.context.fill();\r\n}\r\nexports.triangle = triangle;\r\nfunction polygon(bitmap, vertices, points, colour) {\r\n    var _a, _b, _c, _d;\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    _fillstyle(bitmap, colour);\r\n    bitmap.context.beginPath();\r\n    for (var c = 0; c < vertices; c += 1) {\r\n        if (c)\r\n            bitmap.context.lineTo((_a = points[c * 2]) !== null && _a !== void 0 ? _a : 0, (_b = points[c * 2 + 1]) !== null && _b !== void 0 ? _b : 0);\r\n        else\r\n            bitmap.context.moveTo((_c = points[c * 2]) !== null && _c !== void 0 ? _c : 0, (_d = points[c * 2 + 1]) !== null && _d !== void 0 ? _d : 0);\r\n    }\r\n    bitmap.context.closePath();\r\n    bitmap.context.fill();\r\n}\r\nexports.polygon = polygon;\r\nfunction rect(bitmap, x1, y1, x2, y2, colour) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    _strokestyle(bitmap, colour);\r\n    bitmap.context.strokeRect(x1, y1, x2 - x1, y2 - y1);\r\n}\r\nexports.rect = rect;\r\nfunction rectfill(bitmap, x1, y1, x2, y2, colour) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    _fillstyle(bitmap, colour);\r\n    bitmap.context.fillRect(x1, y1, x2 - x1, y2 - y1);\r\n}\r\nexports.rectfill = rectfill;\r\nfunction do_circle(bmp, x, y, radius, d, proc) {\r\n    void bmp;\r\n    void x;\r\n    void y;\r\n    void radius;\r\n    void d;\r\n    void proc;\r\n}\r\nexports.do_circle = do_circle;\r\nfunction circle(bitmap, x, y, radius, colour) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    _strokestyle(bitmap, colour);\r\n    bitmap.context.beginPath();\r\n    bitmap.context.arc(x, y, radius, 0, math_1.PI2);\r\n    bitmap.context.stroke();\r\n}\r\nexports.circle = circle;\r\nfunction circlefill(bitmap, x, y, radius, colour) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    _fillstyle(bitmap, colour);\r\n    bitmap.context.beginPath();\r\n    bitmap.context.arc(x, y, radius, 0, math_1.PI2);\r\n    bitmap.context.fill();\r\n}\r\nexports.circlefill = circlefill;\r\nfunction do_ellipse(bitmap, x, y, rx, ry, d, proc) {\r\n    void bitmap;\r\n    void x;\r\n    void y;\r\n    void rx;\r\n    void ry;\r\n    void d;\r\n    void proc;\r\n}\r\nexports.do_ellipse = do_ellipse;\r\nfunction ellipse(bitmap, x, y, rx, ry, colour) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    _strokestyle(bitmap, colour);\r\n    bitmap.context.save();\r\n    bitmap.context.translate(x, y);\r\n    bitmap.context.scale(rx, ry);\r\n    bitmap.context.beginPath();\r\n    bitmap.context.arc(0, 0, 1, 0, math_1.PI2);\r\n    bitmap.context.restore();\r\n    bitmap.context.stroke();\r\n}\r\nexports.ellipse = ellipse;\r\nfunction ellipsefill(bitmap, x, y, rx, ry, colour) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    _fillstyle(bitmap, colour);\r\n    bitmap.context.save();\r\n    bitmap.context.translate(x, y);\r\n    bitmap.context.scale(rx, ry);\r\n    bitmap.context.beginPath();\r\n    bitmap.context.arc(0, 0, 1, 0, math_1.PI2);\r\n    bitmap.context.restore();\r\n    bitmap.context.fill();\r\n}\r\nexports.ellipsefill = ellipsefill;\r\nfunction do_arc(bitmap, x, y, a1, a2, r, d, proc) {\r\n    void bitmap;\r\n    void x;\r\n    void y;\r\n    void a1;\r\n    void a2;\r\n    void r;\r\n    void d;\r\n    void proc;\r\n}\r\nexports.do_arc = do_arc;\r\nfunction arc(bitmap, x, y, ang1, ang2, r, colour) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    _strokestyle(bitmap, colour);\r\n    bitmap.context.beginPath();\r\n    if (ang1 > ang2) {\r\n        bitmap.context.arc(x, y, r, math_1.RAD(ang1), math_1.RAD(ang2), true);\r\n    }\r\n    else {\r\n        bitmap.context.arc(x, y, r, math_1.RAD(ang1), math_1.RAD(ang2), true);\r\n    }\r\n    bitmap.context.stroke();\r\n}\r\nexports.arc = arc;\r\nfunction calc_spline(points, npts, x, y) {\r\n    void points;\r\n    void npts;\r\n    void x;\r\n    void y;\r\n}\r\nexports.calc_spline = calc_spline;\r\nfunction spline(bmp, points, color) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n    if (!bmp || points.length !== 8) {\r\n        return;\r\n    }\r\n    _strokestyle(bmp, color);\r\n    bmp.context.beginPath();\r\n    for (var i = 0; i < points.length - 1; i += 2) {\r\n        var x_mid = (((_a = points[i]) !== null && _a !== void 0 ? _a : 0) + ((_b = points[i + 2]) !== null && _b !== void 0 ? _b : 0)) / 2;\r\n        var y_mid = (((_c = points[i + 1]) !== null && _c !== void 0 ? _c : 0) + ((_d = points[i + 3]) !== null && _d !== void 0 ? _d : 0)) / 2;\r\n        var cp_x1 = (x_mid + ((_e = points[i]) !== null && _e !== void 0 ? _e : 0)) / 2;\r\n        var cp_x2 = (x_mid + ((_f = points[i + 2]) !== null && _f !== void 0 ? _f : 0)) / 2;\r\n        bmp.context.quadraticCurveTo(cp_x1, (_g = points[i + 1]) !== null && _g !== void 0 ? _g : 0, x_mid, y_mid);\r\n        bmp.context.quadraticCurveTo(cp_x2, (_h = points[i + 3]) !== null && _h !== void 0 ? _h : 0, (_j = points[i + 2]) !== null && _j !== void 0 ? _j : 0, (_k = points[i + 3]) !== null && _k !== void 0 ? _k : 0);\r\n    }\r\n    bmp.context.stroke();\r\n}\r\nexports.spline = spline;\r\nfunction floodfill(bmp, x, y, color) {\r\n    void bmp;\r\n    void x;\r\n    void y;\r\n    void color;\r\n}\r\nexports.floodfill = floodfill;\r\nfunction _fillstyle(bitmap, colour) {\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    bitmap.context.fillStyle = \"rgba(\" + color_1.getr(colour) + \",\" + color_1.getg(colour) + \",\" + color_1.getb(colour) + \",\" + (255 - color_1.geta(colour)) / 255 + \")\";\r\n}\r\nexports._fillstyle = _fillstyle;\r\nfunction _strokestyle(bitmap, colour, width) {\r\n    if (width === void 0) { width = 1; }\r\n    if (!bitmap) {\r\n        return;\r\n    }\r\n    bitmap.context.lineWidth = width;\r\n    bitmap.context.strokeStyle = \"rgba(\" + color_1.getr(colour) + \",\" + color_1.getg(colour) + \",\" + color_1.getb(colour) + \",\" + (255 - color_1.geta(colour)) / 255 + \")\";\r\n}\r\nexports._strokestyle = _strokestyle;\r\n//# sourceMappingURL=primitives.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.stop_sample = exports.adjust_sample = exports.play_sample = exports.destroy_sample = exports.load_sample = exports.get_volume = exports.set_volume = exports.remove_sound = exports.install_sound = exports.MIDI_DIGMID = exports.MIDI_NONE = exports.MIDI_AUTODETECT = exports.DIGI_NONE = exports.DIGI_AUTODETECT = exports.digi_driver = void 0;\r\nvar debug_1 = require(\"./debug\");\r\nvar _volume = 1.0;\r\nvar _midi_volume = 1.0;\r\nexports.digi_driver = {\r\n    id: 0,\r\n    name: \"Browser DIGI\",\r\n    desc: \"Browser DIGI\",\r\n    ascii_name: \"Browser DIGI\",\r\n};\r\nvar _samples = [];\r\nvar _context = null;\r\nvar _context_gain = null;\r\nexports.DIGI_AUTODETECT = -1;\r\nexports.DIGI_NONE = 0;\r\nexports.MIDI_AUTODETECT = -1;\r\nexports.MIDI_NONE = 0;\r\nexports.MIDI_DIGMID = 1;\r\nfunction install_sound(digi, midi, cfg_path) {\r\n    void digi;\r\n    void midi;\r\n    void cfg_path;\r\n    _context = new window.AudioContext();\r\n    _context_gain = _context.createGain();\r\n    _context_gain.connect(_context.destination);\r\n    return 0;\r\n}\r\nexports.install_sound = install_sound;\r\nfunction remove_sound() {\r\n}\r\nexports.remove_sound = remove_sound;\r\nfunction set_volume(digi_volume, midi_volume) {\r\n    if (digi_volume > 255) {\r\n        _volume = 255;\r\n    }\r\n    else if (digi_volume >= 0) {\r\n        _volume = digi_volume;\r\n    }\r\n    if (midi_volume > 255) {\r\n        _midi_volume = 255;\r\n    }\r\n    else if (midi_volume >= 0) {\r\n        _midi_volume = midi_volume;\r\n    }\r\n    if (_context_gain) {\r\n        _context_gain.gain.value = _volume / 255;\r\n    }\r\n}\r\nexports.set_volume = set_volume;\r\nfunction get_volume() {\r\n    return { digi_volume: _volume, midi_volume: _midi_volume };\r\n}\r\nexports.get_volume = get_volume;\r\nfunction load_sample(filename) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var sample, buffer;\r\n        var _this = this;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!_context || !_context_gain) {\r\n                        throw new Error(\"Can not load audio without audio context\");\r\n                    }\r\n                    debug_1.log(\"Loading sample \" + filename + \"...\");\r\n                    sample = {\r\n                        file: filename,\r\n                        source: _context.createBufferSource(),\r\n                        gain: _context.createGain(),\r\n                        buffer: null,\r\n                        pan: _context.createStereoPanner(),\r\n                        ready: false,\r\n                        type: \"snd\",\r\n                    };\r\n                    return [4, fetch(filename)\r\n                            .then(function (response) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\r\n                            return [2, response.arrayBuffer()];\r\n                        }); }); })\r\n                            .then(function (buffer) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\r\n                            return [2, _context === null || _context === void 0 ? void 0 : _context.decodeAudioData(buffer)];\r\n                        }); }); })];\r\n                case 1:\r\n                    buffer = _a.sent();\r\n                    if (!buffer) {\r\n                        throw new Error(\"Could not load sample\");\r\n                    }\r\n                    sample.buffer = buffer;\r\n                    sample.pan.connect(sample.gain);\r\n                    sample.gain.connect(_context_gain);\r\n                    sample.ready = true;\r\n                    debug_1.log(\"Sample \" + filename + \" loaded!\");\r\n                    return [2, sample];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.load_sample = load_sample;\r\nfunction destroy_sample(spl) {\r\n    var index = _samples.findIndex(function (s) { return s === spl; });\r\n    if (index !== -1) {\r\n        debug_1.log(\"Sample destroyed at index \" + index);\r\n        spl.source.disconnect();\r\n        _samples.splice(index, 1);\r\n    }\r\n}\r\nexports.destroy_sample = destroy_sample;\r\nfunction play_sample(sample, vol, pan, freq, loop) {\r\n    if (vol === void 0) { vol = 255; }\r\n    if (pan === void 0) { pan = 127; }\r\n    if (freq === void 0) { freq = 1000; }\r\n    if (loop === void 0) { loop = false; }\r\n    if (!_context) {\r\n        return;\r\n    }\r\n    sample.source = _context.createBufferSource();\r\n    sample.source.buffer = sample.buffer;\r\n    sample.source.connect(sample.pan);\r\n    adjust_sample(sample, vol, pan, freq, loop);\r\n    sample.source.start(0);\r\n}\r\nexports.play_sample = play_sample;\r\nfunction adjust_sample(sample, vol, pan, freq, loop) {\r\n    sample.pan.pan.value = pan / 127.0 - 1.0;\r\n    sample.gain.gain.value = vol / 255.0;\r\n    sample.source.loop = loop;\r\n    sample.source.playbackRate.value = freq / 1000.0;\r\n}\r\nexports.adjust_sample = adjust_sample;\r\nfunction stop_sample(sample) {\r\n    sample.source.stop();\r\n}\r\nexports.stop_sample = stop_sample;\r\n//# sourceMappingURL=sample.js.map","\"use strict\";\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.vsprintf = exports.sprintf = void 0;\r\nvar re = {\r\n    not_string: /[^s]/u,\r\n    not_bool: /[^t]/u,\r\n    not_type: /[^T]/u,\r\n    not_primitive: /[^v]/u,\r\n    number: /[diefg]/u,\r\n    numeric_arg: /[bcdiefguxX]/u,\r\n    json: /[j]/u,\r\n    not_json: /[^j]/u,\r\n    text: /^[^\\x25]+/u,\r\n    modulo: /^\\x25{2}/u,\r\n    placeholder: /^\\x25(?:([1-9]\\d*)\\$|\\(([^)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-gijostTuvxX])/u,\r\n    key: /^([a-z_][a-z_\\d]*)/i,\r\n    key_access: /^\\.([a-z_][a-z_\\d]*)/iu,\r\n    index_access: /^\\[(\\d+)\\]/u,\r\n    sign: /^[+-]/u,\r\n};\r\nfunction sprintf(key) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    return sprintf_format(sprintf_parse(key), __spreadArray([key], __read(args)));\r\n}\r\nexports.sprintf = sprintf;\r\nfunction vsprintf(fmt, argv) {\r\n    return sprintf.apply(null, __spreadArray([fmt], __read(argv)));\r\n}\r\nexports.vsprintf = vsprintf;\r\nfunction sprintf_format(parse_tree, argv) {\r\n    var cursor = 1;\r\n    var tree_length = parse_tree.length;\r\n    var arg;\r\n    var output = \"\";\r\n    var i;\r\n    var k;\r\n    var ph;\r\n    var pad;\r\n    var pad_character;\r\n    var pad_length;\r\n    var is_positive;\r\n    var sign;\r\n    for (i = 0; i < tree_length; i++) {\r\n        if (typeof parse_tree[i] === \"string\") {\r\n            output += parse_tree[i];\r\n        }\r\n        else if (typeof parse_tree[i] === \"object\") {\r\n            ph = parse_tree[i];\r\n            if (ph.keys) {\r\n                arg = argv[cursor];\r\n                for (k = 0; k < ph.keys.length; k++) {\r\n                    if (arg == undefined) {\r\n                        throw new Error(sprintf('[sprintf] Cannot access property \"%s\" of undefined value \"%s\"', ph.keys[k], ph.keys[k - 1]));\r\n                    }\r\n                    arg = arg[ph.keys[k]];\r\n                }\r\n            }\r\n            else if (ph.param_no) {\r\n                arg = argv[ph.param_no];\r\n            }\r\n            else {\r\n                arg = argv[cursor++];\r\n            }\r\n            if (re.not_type.test(ph.type) &&\r\n                re.not_primitive.test(ph.type) &&\r\n                arg instanceof Function) {\r\n                arg = arg();\r\n            }\r\n            if (re.numeric_arg.test(ph.type) &&\r\n                typeof arg !== \"number\" &&\r\n                isNaN(arg)) {\r\n                throw new TypeError(sprintf(\"[sprintf] expecting number but found %T\", arg));\r\n            }\r\n            if (re.number.test(ph.type)) {\r\n                is_positive = arg >= 0;\r\n            }\r\n            switch (ph.type) {\r\n                case \"b\":\r\n                    arg = parseInt(arg, 10).toString(2);\r\n                    break;\r\n                case \"c\":\r\n                    arg = String.fromCharCode(parseInt(arg, 10));\r\n                    break;\r\n                case \"d\":\r\n                case \"i\":\r\n                    arg = parseInt(arg, 10);\r\n                    break;\r\n                case \"j\":\r\n                    arg = JSON.stringify(arg, null, ph.width ? parseInt(ph.width) : 0);\r\n                    break;\r\n                case \"e\":\r\n                    arg = ph.precision\r\n                        ? parseFloat(arg).toExponential(ph.precision)\r\n                        : parseFloat(arg).toExponential();\r\n                    break;\r\n                case \"f\":\r\n                    arg = ph.precision\r\n                        ? parseFloat(arg).toFixed(ph.precision)\r\n                        : parseFloat(arg);\r\n                    break;\r\n                case \"g\":\r\n                    arg = ph.precision\r\n                        ? String(Number(arg.toPrecision(ph.precision)))\r\n                        : parseFloat(arg);\r\n                    break;\r\n                case \"o\":\r\n                    arg = (parseInt(arg, 10) >>> 0).toString(8);\r\n                    break;\r\n                case \"s\":\r\n                    arg = String(arg);\r\n                    arg = ph.precision ? arg.substring(0, ph.precision) : arg;\r\n                    break;\r\n                case \"t\":\r\n                    arg = String(!!arg);\r\n                    arg = ph.precision ? arg.substring(0, ph.precision) : arg;\r\n                    break;\r\n                case \"T\":\r\n                    arg = Object.prototype.toString.call(arg).slice(8, -1).toLowerCase();\r\n                    arg = ph.precision ? arg.substring(0, ph.precision) : arg;\r\n                    break;\r\n                case \"u\":\r\n                    arg = parseInt(arg, 10) >>> 0;\r\n                    break;\r\n                case \"v\":\r\n                    arg = arg.valueOf();\r\n                    arg = ph.precision ? arg.substring(0, ph.precision) : arg;\r\n                    break;\r\n                case \"x\":\r\n                    arg = (parseInt(arg, 10) >>> 0).toString(16);\r\n                    break;\r\n                case \"X\":\r\n                    arg = (parseInt(arg, 10) >>> 0).toString(16).toUpperCase();\r\n                    break;\r\n            }\r\n            if (re.json.test(ph.type)) {\r\n                output += arg;\r\n            }\r\n            else {\r\n                if (re.number.test(ph.type) && (!is_positive || ph.sign)) {\r\n                    sign = is_positive ? \"+\" : \"-\";\r\n                    arg = arg.toString().replace(re.sign, \"\");\r\n                }\r\n                else {\r\n                    sign = \"\";\r\n                }\r\n                pad_character = ph.pad_char\r\n                    ? ph.pad_char === \"0\"\r\n                        ? \"0\"\r\n                        : ph.pad_char.charAt(1)\r\n                    : \" \";\r\n                pad_length = ph.width - (sign + arg).length;\r\n                pad = ph.width\r\n                    ? pad_length > 0\r\n                        ? pad_character.repeat(pad_length)\r\n                        : \"\"\r\n                    : \"\";\r\n                output += ph.align\r\n                    ? sign + arg + pad\r\n                    : pad_character === \"0\"\r\n                        ? sign + pad + arg\r\n                        : pad + sign + arg;\r\n            }\r\n        }\r\n    }\r\n    return output;\r\n}\r\nvar sprintf_cache = Object.create(null);\r\nfunction sprintf_parse(fmt) {\r\n    var _a, _b, _c, _d;\r\n    if (sprintf_cache[fmt]) {\r\n        return sprintf_cache[fmt];\r\n    }\r\n    var _fmt = fmt;\r\n    var match;\r\n    var parse_tree = [];\r\n    var arg_names = 0;\r\n    while (_fmt) {\r\n        if ((match = re.text.exec(_fmt)) !== null) {\r\n            parse_tree.push(match[0]);\r\n        }\r\n        else if ((match = re.modulo.exec(_fmt)) !== null) {\r\n            parse_tree.push(\"%\");\r\n        }\r\n        else if ((match = re.placeholder.exec(_fmt)) !== null) {\r\n            if (match[2]) {\r\n                arg_names |= 1;\r\n                var field_list = [];\r\n                var replacement_field = match[2];\r\n                var field_match = null;\r\n                if ((field_match = re.key.exec(replacement_field)) !== null) {\r\n                    field_list.push(field_match[1]);\r\n                    while ((replacement_field = replacement_field.substring((_b = (_a = field_match[0]) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0)) !== \"\") {\r\n                        if ((field_match = re.key_access.exec(replacement_field)) !== null) {\r\n                            field_list.push(field_match[1]);\r\n                        }\r\n                        else if ((field_match = re.index_access.exec(replacement_field)) !== null) {\r\n                            field_list.push(field_match[1]);\r\n                        }\r\n                        else {\r\n                            throw new SyntaxError(\"[sprintf] failed to parse named argument key\");\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    throw new SyntaxError(\"[sprintf] failed to parse named argument key\");\r\n                }\r\n                match[2] = field_list;\r\n            }\r\n            else {\r\n                arg_names |= 2;\r\n            }\r\n            if (arg_names === 3) {\r\n                throw new Error(\"[sprintf] mixing positional and named placeholders is not (yet) supported\");\r\n            }\r\n            parse_tree.push({\r\n                placeholder: match[0],\r\n                param_no: match[1],\r\n                keys: match[2],\r\n                sign: match[3],\r\n                pad_char: match[4],\r\n                align: match[5],\r\n                width: match[6],\r\n                precision: match[7],\r\n                type: match[8],\r\n            });\r\n        }\r\n        else {\r\n            throw new SyntaxError(\"[sprintf] unexpected placeholder\");\r\n        }\r\n        _fmt = _fmt.substring((_d = (_c = match[0]) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0);\r\n    }\r\n    return (sprintf_cache[fmt] = parse_tree);\r\n}\r\n//# sourceMappingURL=sprintf.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.pivot_scaled_sprite_v_flip = exports.pivot_scaled_sprite = exports.pivot_sprite_v_flip = exports.pivot_sprite = exports.rotate_scaled_sprite_v_flip = exports.rotate_scaled_sprite = exports.rotate_sprite_v_flip = exports.rotate_sprite = exports.draw_character_ex = exports.draw_gouraud_sprite = exports.draw_lit_sprite = exports.draw_trans_sprite = exports.draw_sprite_vh_flip = exports.draw_sprite_h_flip = exports.draw_sprite_v_flip = exports.stretch_sprite = exports.draw_sprite = exports.masked_stretch_blit = exports.masked_blit = exports.stretch_blit = exports.blit = void 0;\r\nvar math_1 = require(\"./math\");\r\nfunction blit(source, dest, source_x, source_y, dest_x, dest_y, width, height) {\r\n    if (!source || !dest) {\r\n        return;\r\n    }\r\n    dest.context.drawImage(source.canvas, source_x, source_y, source.w, source.h, dest_x, dest_y, width, height);\r\n}\r\nexports.blit = blit;\r\nfunction stretch_blit(source, dest, source_x, source_y, source_width, source_height, dest_x, dest_y, dest_width, dest_height) {\r\n    if (!source || !dest) {\r\n        return;\r\n    }\r\n    dest.context.drawImage(source.canvas, source_x, source_y, source_width, source_height, dest_x, dest_y, dest_width, dest_height);\r\n}\r\nexports.stretch_blit = stretch_blit;\r\nfunction masked_blit(sprite, dest, source_x, source_y, dest_x, dest_y, width, height) {\r\n    void sprite;\r\n    void dest;\r\n    void source_x;\r\n    void source_y;\r\n    void dest_x;\r\n    void dest_y;\r\n    void width;\r\n    void height;\r\n}\r\nexports.masked_blit = masked_blit;\r\nfunction masked_stretch_blit(sprite, dest, source_x, source_y, source_w, source_h, dest_x, dest_y, dest_w, dest_h) {\r\n    void sprite;\r\n    void dest;\r\n    void source_x;\r\n    void source_y;\r\n    void source_w;\r\n    void source_h;\r\n    void dest_x;\r\n    void dest_y;\r\n    void dest_w;\r\n    void dest_h;\r\n}\r\nexports.masked_stretch_blit = masked_stretch_blit;\r\nfunction draw_sprite(bmp, sprite, x, y) {\r\n    if (!sprite || !bmp) {\r\n        return;\r\n    }\r\n    bmp.context.drawImage(sprite.canvas, x, y);\r\n}\r\nexports.draw_sprite = draw_sprite;\r\nfunction stretch_sprite(bmp, sprite, x, y, w, h) {\r\n    if (!bmp || !sprite) {\r\n        return;\r\n    }\r\n    bmp.context.drawImage(sprite.canvas, x, y, w, h);\r\n}\r\nexports.stretch_sprite = stretch_sprite;\r\nfunction draw_sprite_v_flip(bmp, sprite, x, y) {\r\n    if (!bmp || !sprite) {\r\n        return;\r\n    }\r\n    bmp.context.save();\r\n    bmp.context.translate(x, y);\r\n    bmp.context.scale(-1, 1);\r\n    bmp.context.translate(-x - sprite.w, -y);\r\n    bmp.context.drawImage(sprite.canvas, x, y);\r\n    bmp.context.restore();\r\n}\r\nexports.draw_sprite_v_flip = draw_sprite_v_flip;\r\nfunction draw_sprite_h_flip(bmp, sprite, x, y) {\r\n    if (!bmp || !sprite) {\r\n        return;\r\n    }\r\n    bmp.context.save();\r\n    bmp.context.translate(x, y);\r\n    bmp.context.scale(1, -1);\r\n    bmp.context.translate(-x, -y - sprite.h);\r\n    bmp.context.drawImage(sprite.canvas, x, y);\r\n    bmp.context.restore();\r\n}\r\nexports.draw_sprite_h_flip = draw_sprite_h_flip;\r\nfunction draw_sprite_vh_flip(bmp, sprite, x, y) {\r\n    if (!bmp || !sprite) {\r\n        return;\r\n    }\r\n    bmp.context.save();\r\n    bmp.context.translate(x, y);\r\n    bmp.context.scale(-1, -1);\r\n    bmp.context.translate(-x - sprite.w, -y - sprite.h);\r\n    bmp.context.drawImage(sprite.canvas, x, y);\r\n    bmp.context.restore();\r\n}\r\nexports.draw_sprite_vh_flip = draw_sprite_vh_flip;\r\nfunction draw_trans_sprite(bmp, sprite, x, y) {\r\n    draw_sprite(bmp, sprite, x, y);\r\n}\r\nexports.draw_trans_sprite = draw_trans_sprite;\r\nfunction draw_lit_sprite(bmp, sprite, x, y, color) {\r\n    void color;\r\n    draw_sprite(bmp, sprite, x, y);\r\n}\r\nexports.draw_lit_sprite = draw_lit_sprite;\r\nfunction draw_gouraud_sprite(bmp, sprite, x, y, c1, c2, c3, c4) {\r\n    void c1;\r\n    void c2;\r\n    void c3;\r\n    void c4;\r\n    draw_sprite(bmp, sprite, x, y);\r\n}\r\nexports.draw_gouraud_sprite = draw_gouraud_sprite;\r\nfunction draw_character_ex(bmp, sprite, x, y, color, bg) {\r\n    void color;\r\n    void bg;\r\n    draw_sprite(bmp, sprite, x, y);\r\n}\r\nexports.draw_character_ex = draw_character_ex;\r\nfunction rotate_sprite(bmp, sprite, x, y, angle) {\r\n    if (!bmp || !sprite) {\r\n        return;\r\n    }\r\n    var u = sprite.w / 2;\r\n    var v = sprite.h / 2;\r\n    bmp.context.save();\r\n    bmp.context.translate(x + u, y + v);\r\n    bmp.context.rotate(math_1.RAD(angle));\r\n    bmp.context.translate(-x - u, -y - v);\r\n    bmp.context.drawImage(sprite.canvas, x, y);\r\n    bmp.context.restore();\r\n}\r\nexports.rotate_sprite = rotate_sprite;\r\nfunction rotate_sprite_v_flip(bmp, sprite, x, y, angle) {\r\n    if (!bmp || !sprite) {\r\n        return;\r\n    }\r\n    var u = sprite.w / 2;\r\n    var v = sprite.h / 2;\r\n    bmp.context.save();\r\n    bmp.context.translate(x + u, y + v);\r\n    bmp.context.rotate(math_1.RAD(angle));\r\n    bmp.context.translate(-x - u, -y - v);\r\n    bmp.context.translate(x, y);\r\n    bmp.context.scale(-1, 1);\r\n    bmp.context.translate(-x - sprite.w, -y);\r\n    bmp.context.drawImage(sprite.canvas, x, y);\r\n    bmp.context.restore();\r\n}\r\nexports.rotate_sprite_v_flip = rotate_sprite_v_flip;\r\nfunction rotate_scaled_sprite(bmp, sprite, x, y, angle, scale) {\r\n    if (!bmp || !sprite) {\r\n        return;\r\n    }\r\n    var u = sprite.w / 2;\r\n    var v = sprite.h / 2;\r\n    bmp.context.save();\r\n    bmp.context.translate(x + u, y + v);\r\n    bmp.context.rotate(math_1.RAD(angle));\r\n    bmp.context.scale(scale, scale);\r\n    bmp.context.translate(-x - u, -y - v);\r\n    bmp.context.drawImage(sprite.canvas, x, y);\r\n    bmp.context.restore();\r\n}\r\nexports.rotate_scaled_sprite = rotate_scaled_sprite;\r\nfunction rotate_scaled_sprite_v_flip(bmp, sprite, x, y, angle, scale) {\r\n    if (!bmp || !sprite) {\r\n        return;\r\n    }\r\n    var u = sprite.w / 2;\r\n    var v = sprite.h / 2;\r\n    bmp.context.save();\r\n    bmp.context.translate(x + u, y + v);\r\n    bmp.context.rotate(math_1.RAD(angle));\r\n    bmp.context.scale(scale, scale);\r\n    bmp.context.translate(-x - u, -y - v);\r\n    bmp.context.translate(x, y);\r\n    bmp.context.scale(-1, 1);\r\n    bmp.context.translate(-x - sprite.w, -y);\r\n    bmp.context.drawImage(sprite.canvas, x, y);\r\n    bmp.context.restore();\r\n}\r\nexports.rotate_scaled_sprite_v_flip = rotate_scaled_sprite_v_flip;\r\nfunction pivot_sprite(bmp, sprite, x, y, cx, cy, angle) {\r\n    if (!bmp || !sprite) {\r\n        return;\r\n    }\r\n    bmp.context.save();\r\n    bmp.context.translate(x, y);\r\n    bmp.context.rotate(math_1.RAD(angle));\r\n    bmp.context.translate(-cx, -cy);\r\n    bmp.context.drawImage(sprite.canvas, 0, 0);\r\n    bmp.context.restore();\r\n}\r\nexports.pivot_sprite = pivot_sprite;\r\nfunction pivot_sprite_v_flip(bmp, sprite, x, y, cx, cy, angle) {\r\n    if (!bmp || !sprite) {\r\n        return;\r\n    }\r\n    bmp.context.save();\r\n    bmp.context.translate(x, y);\r\n    bmp.context.rotate(math_1.RAD(angle));\r\n    bmp.context.translate(-cx, -cy);\r\n    bmp.context.translate(x, y);\r\n    bmp.context.scale(-1, 1);\r\n    bmp.context.translate(-x - sprite.w, -y);\r\n    bmp.context.drawImage(sprite.canvas, 0, 0);\r\n    bmp.context.restore();\r\n}\r\nexports.pivot_sprite_v_flip = pivot_sprite_v_flip;\r\nfunction pivot_scaled_sprite(bmp, sprite, x, y, cx, cy, angle, scale) {\r\n    if (!bmp || !sprite) {\r\n        return;\r\n    }\r\n    var u = scale * cx;\r\n    var v = scale * cy;\r\n    bmp.context.save();\r\n    bmp.context.translate(x, y);\r\n    bmp.context.rotate(math_1.RAD(angle));\r\n    bmp.context.translate(-u, -v);\r\n    bmp.context.scale(scale, scale);\r\n    bmp.context.drawImage(sprite.canvas, 0, 0);\r\n    bmp.context.restore();\r\n}\r\nexports.pivot_scaled_sprite = pivot_scaled_sprite;\r\nfunction pivot_scaled_sprite_v_flip(bmp, sprite, x, y, cx, cy, angle, scale) {\r\n    if (!bmp || !sprite) {\r\n        return;\r\n    }\r\n    var u = scale * cx;\r\n    var v = scale * cy;\r\n    bmp.context.save();\r\n    bmp.context.translate(x, y);\r\n    bmp.context.rotate(math_1.RAD(angle));\r\n    bmp.context.translate(-u, -v);\r\n    bmp.context.scale(scale, scale);\r\n    bmp.context.translate(x, y);\r\n    bmp.context.scale(-1, 1);\r\n    bmp.context.translate(-x - sprite.w, -y);\r\n    bmp.context.drawImage(sprite.canvas, 0, 0);\r\n    bmp.context.restore();\r\n}\r\nexports.pivot_scaled_sprite_v_flip = pivot_scaled_sprite_v_flip;\r\n//# sourceMappingURL=sprites.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports._timer_lookup = exports.rest_callback = exports.rest = exports.retrace_count = exports.remove_param_int = exports.install_param_int_ex = exports.install_param_int = exports.remove_int = exports.END_OF_FUNCTION = exports.LOCK_FUNCTION = exports.LOCK_VARIABLE = exports.install_int_ex = exports.BPM_TO_TIMER = exports.BPS_TO_TIMER = exports.MSEC_TO_TIMER = exports.SECS_TO_TIMER = exports.install_int = exports.remove_timer = exports.install_timer = exports.timer_driver = void 0;\r\nvar debug_1 = require(\"./debug\");\r\nexports.timer_driver = {\r\n    id: 0,\r\n    name: \"Browser Timer\",\r\n    desc: \" Browser Timer\",\r\n    ascii_name: \"Browser Timer\",\r\n};\r\nfunction install_timer() {\r\n    install_int(function () {\r\n        exports.retrace_count += 1;\r\n    }, 1000 / 70);\r\n    return 0;\r\n}\r\nexports.install_timer = install_timer;\r\nfunction remove_timer() {\r\n}\r\nexports.remove_timer = remove_timer;\r\nfunction install_int(proc, speed) {\r\n    install_int_ex(proc, MSEC_TO_TIMER(speed));\r\n}\r\nexports.install_int = install_int;\r\nfunction SECS_TO_TIMER(secs) {\r\n    return secs * 1000;\r\n}\r\nexports.SECS_TO_TIMER = SECS_TO_TIMER;\r\nfunction MSEC_TO_TIMER(msec) {\r\n    return msec;\r\n}\r\nexports.MSEC_TO_TIMER = MSEC_TO_TIMER;\r\nfunction BPS_TO_TIMER(bps) {\r\n    return 1000 / bps;\r\n}\r\nexports.BPS_TO_TIMER = BPS_TO_TIMER;\r\nfunction BPM_TO_TIMER(bpm) {\r\n    return (60 * 1000) / bpm;\r\n}\r\nexports.BPM_TO_TIMER = BPM_TO_TIMER;\r\nfunction install_int_ex(proc, speed) {\r\n    var timer_id = window.setInterval(proc, speed);\r\n    _installed_timers.push({ timer: proc, id: timer_id });\r\n    debug_1.log(\"Added insterrupt #\" + timer_id + \" at \" + speed + \"msec isntervals!\");\r\n}\r\nexports.install_int_ex = install_int_ex;\r\nfunction LOCK_VARIABLE(variable_name) {\r\n    void variable_name;\r\n}\r\nexports.LOCK_VARIABLE = LOCK_VARIABLE;\r\nfunction LOCK_FUNCTION(function_name) {\r\n    void function_name;\r\n}\r\nexports.LOCK_FUNCTION = LOCK_FUNCTION;\r\nfunction END_OF_FUNCTION(function_name) {\r\n    void function_name;\r\n}\r\nexports.END_OF_FUNCTION = END_OF_FUNCTION;\r\nfunction remove_int(proc) {\r\n    _installed_timers.forEach(function (timer, index) {\r\n        if (timer.timer === proc) {\r\n            debug_1.log(\"Removing interrupt \" + timer.id + \"!\");\r\n            window.clearInterval(timer.id);\r\n            _installed_timers.splice(index, 1);\r\n        }\r\n    });\r\n}\r\nexports.remove_int = remove_int;\r\nfunction install_param_int(procedure, param, speed) {\r\n    install_param_int_ex(procedure, param, speed);\r\n}\r\nexports.install_param_int = install_param_int;\r\nfunction install_param_int_ex(procedure, param, speed) {\r\n    void procedure;\r\n    void param;\r\n    void speed;\r\n}\r\nexports.install_param_int_ex = install_param_int_ex;\r\nfunction remove_param_int(proc, param) {\r\n    void proc;\r\n    void param;\r\n}\r\nexports.remove_param_int = remove_param_int;\r\nexports.retrace_count = 0;\r\nfunction rest(time) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            return [2, new Promise(function (resolve) {\r\n                    setTimeout(resolve, time);\r\n                })];\r\n        });\r\n    });\r\n}\r\nexports.rest = rest;\r\nfunction rest_callback(time, callback) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            if (!callback) {\r\n                return [2, rest(time)];\r\n            }\r\n            return [2, new Promise(function (resolve) {\r\n                    setTimeout(resolve, time);\r\n                })];\r\n        });\r\n    });\r\n}\r\nexports.rest_callback = rest_callback;\r\nfunction _timer_lookup(proc) {\r\n    var _a;\r\n    return (_a = _installed_timers.find(function (t) { return t.timer === proc; })) !== null && _a !== void 0 ? _a : -1;\r\n}\r\nexports._timer_lookup = _timer_lookup;\r\nvar _installed_timers = [];\r\n//# sourceMappingURL=timer.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports._touchmove = exports._touchend = exports._touchstart = exports._get_touch = exports._touch_loop = exports.remove_touch = exports.install_touch = exports.touch_released = exports.touch_pressed = exports.touch = exports._touch_installed = void 0;\r\nvar debug_1 = require(\"./debug\");\r\nvar bitmap_1 = require(\"./bitmap\");\r\nexports._touch_installed = false;\r\nexports.touch = [];\r\nexports.touch_pressed = [];\r\nexports.touch_released = [];\r\nfunction install_touch() {\r\n    if (exports._touch_installed) {\r\n        debug_1._allog(\"Touch already installed\");\r\n        return -1;\r\n    }\r\n    bitmap_1.screen.canvas.addEventListener(\"touchstart\", _touchstart);\r\n    bitmap_1.screen.canvas.addEventListener(\"touchend\", _touchend);\r\n    bitmap_1.screen.canvas.addEventListener(\"touchcancel\", _touchend);\r\n    bitmap_1.screen.canvas.addEventListener(\"touchmove\", _touchmove);\r\n    exports._touch_installed = true;\r\n    debug_1.log(\"Touch installed!\");\r\n    return 0;\r\n}\r\nexports.install_touch = install_touch;\r\nfunction remove_touch() {\r\n    if (!exports._touch_installed) {\r\n        debug_1._allog(\"Touch not installed\");\r\n        return -1;\r\n    }\r\n    bitmap_1.screen.canvas.removeEventListener(\"touchstart\", _touchstart);\r\n    bitmap_1.screen.canvas.removeEventListener(\"touchend\", _touchend);\r\n    bitmap_1.screen.canvas.removeEventListener(\"touchcancel\", _touchend);\r\n    bitmap_1.screen.canvas.removeEventListener(\"touchmove\", _touchmove);\r\n    exports._touch_installed = false;\r\n    debug_1.log(\"Touch removed!\");\r\n    return 0;\r\n}\r\nexports.remove_touch = remove_touch;\r\nfunction _touch_loop() {\r\n    if (exports._touch_installed) {\r\n        exports.touch_released.length = 0;\r\n        exports.touch_pressed.length = 0;\r\n        exports.touch.forEach(function (t) {\r\n            t.mx = 0;\r\n            t.my = 0;\r\n            t.px = t.x;\r\n            t.py = t.y;\r\n            t.age += 1;\r\n        });\r\n    }\r\n}\r\nexports._touch_loop = _touch_loop;\r\nfunction _get_touch(id) {\r\n    var _a;\r\n    if (typeof id !== \"number\") {\r\n        return null;\r\n    }\r\n    return (_a = exports.touch.find(function (t) { return t.id === id; })) !== null && _a !== void 0 ? _a : null;\r\n}\r\nexports._get_touch = _get_touch;\r\nfunction _touchstart(e) {\r\n    if (!e.target) {\r\n        return;\r\n    }\r\n    var rect = e.target.getBoundingClientRect();\r\n    for (var c = 0; c < e.changedTouches.length; c += 1) {\r\n        var point = e.changedTouches.item(c);\r\n        if (point) {\r\n            var t = {\r\n                sx: point.clientX - rect.left,\r\n                sy: point.clientY - rect.top,\r\n                mx: 0,\r\n                my: 0,\r\n                px: point.clientX - rect.left,\r\n                py: point.clientY - rect.top,\r\n                x: point.clientX - rect.left,\r\n                y: point.clientY - rect.top,\r\n                id: point.identifier,\r\n                dead: false,\r\n                age: 0,\r\n            };\r\n            exports.touch.push(t);\r\n            exports.touch_pressed.push(t);\r\n        }\r\n    }\r\n    e.preventDefault();\r\n}\r\nexports._touchstart = _touchstart;\r\nfunction _touchend(e) {\r\n    for (var c = 0; c < e.changedTouches.length; c += 1) {\r\n        var point = e.changedTouches.item(c);\r\n        var t = _get_touch(point === null || point === void 0 ? void 0 : point.identifier);\r\n        if (t) {\r\n            exports.touch.splice(exports.touch.indexOf(t), 1);\r\n            exports.touch_released.push(t);\r\n            t.dead = true;\r\n        }\r\n    }\r\n    e.preventDefault();\r\n}\r\nexports._touchend = _touchend;\r\nfunction _touchmove(e) {\r\n    if (!e.target) {\r\n        return;\r\n    }\r\n    var rect = e.target.getBoundingClientRect();\r\n    for (var c = 0; c < e.changedTouches.length; c += 1) {\r\n        var point = e.changedTouches.item(c);\r\n        var t = _get_touch(point === null || point === void 0 ? void 0 : point.identifier);\r\n        if (t && point) {\r\n            var x = point.clientX - rect.left;\r\n            var y = point.clientY - rect.top;\r\n            t.mx += t.x - x;\r\n            t.my += t.y - y;\r\n            t.x = x;\r\n            t.y = y;\r\n        }\r\n    }\r\n    e.preventDefault();\r\n}\r\nexports._touchmove = _touchmove;\r\n//# sourceMappingURL=touch.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PAL_SIZE = void 0;\r\nexports.PAL_SIZE = 256;\r\n//# sourceMappingURL=types.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ustrdup = exports.ustricmp = void 0;\r\nfunction ustricmp(str1, str2) {\r\n    return str1.localeCompare(str2);\r\n}\r\nexports.ustricmp = ustricmp;\r\nfunction ustrdup(str) {\r\n    return str;\r\n}\r\nexports.ustrdup = ustrdup;\r\n//# sourceMappingURL=unicode.js.map"],"names":["Object","defineProperty","exports","value","FileParser","dataView","this","data","pointer","prototype","movePointer","bytes","readInt","clamp_bytes","Math","min","byteLength","i","getUint8","pow","readStr","text","char","String","fromCharCode","readIntVLV","FirstBytes","push","lastByte","dt","length","num","__createBinding","create","o","m","k","k2","undefined","enumerable","get","__exportStar","p","hasOwnProperty","call","loadpng_init","set_color_conversion","register_bitmap_file_type","save_tga_pf","save_tga","save_pcx_pf","save_pcx","save_bmp_pf","save_bmp","save_bitmap","load_tga_pf","load_tga","load_pcx_pf","load_pcx","load_lbm","load_bmp_pf","load_bmp","load_bitmap","is_inside_bitmap","get_clip_state","set_clip_state","add_clip_rect","get_clip_rect","set_clip_rect","release_screen","acquire_screen","release_bitmap","acquire_bitmap","is_sub_bitmap","is_system_bitmap","is_video_bitmap","is_screen_bitmap","is_memory_bitmap","is_linear_bitmap","is_planar_bitmap","is_same_bitmap","bitmap_mask_color","bitmap_color_depth","lock_bitmap","destroy_bitmap","create_system_bitmap","create_video_bitmap","create_sub_bitmap","create_bitmap_ex","create_bitmap","screen","color_1","core_1","debug_1","sprites_1","width","height","log","cv","document","createElement","ctx","getContext","Error","imageSmoothingEnabled","w","h","canvas","context","ready","type","clipping","clipping_rect","x1","y1","x2","y2","is_screen","mem_type","parent","filename","pal","img","Image","src","bmp","_downloadables","onload","drawImage","imageData","getImageData","putImageData","image","toDataURL","a","href","download","body","appendChild","click","color_depth","x","y","new_bmp","blit","bitmap","remove","makecol","bmp1","bmp2","Boolean","state","clip","f","ext","load","save","mode","palette_color","geta_depth","getb_depth","getg_depth","getr_depth","geta","getb","getg","getr","geta32","getb32","getb24","getb16","getb15","getb8","getg32","getg24","getg16","getg15","getg8","getr32","getr24","getr16","getr15","getr8","makecol15_dither","makeacol","makeacol_depth","makecol_depth","makeacol32","makecol32","makecol24","makecol16","makecol15","makecol8","_color_depth","r","g","b","c","cpu_capabilities","cpu_model","cpu_family","cpu_vendor","check_cpu","get_desktop_resolution","desktop_color_depth","set_close_button_callback","set_window_title","allegro_message","os_multitasking","os_version","os_type","MAKE_VERSION","AL_ID","ALLEGRO_DATE","ALLEGRO_DATE_STR","ALLEGRO_VERSION_STR","ALLEGRO_WIP_VERSION","ALLEGRO_SUB_VERSION","ALLEGRO_VERSION","allegro_error","allegro_id","END_OF_MAIN","allegro_exit","atexit","allegro_init","SYSTEM_NONE","SYSTEM_AUTODETECT","install_allegro","_set_loop_interval","graphics_1","sprintf_1","_loop_interval","interval","window","clearInterval","system_id","errno_ptr","atexit_ptr","setInterval","_uberloop","d","charCodeAt","text_format","args","_i","arguments","alert","vsprintf","name","title","proc","onbeforeunload","gfx_driver","__assign","assign","t","s","n","apply","__read","Symbol","iterator","e","ar","next","done","error","free_config_entries","list_config_sections","list_config_entries","set_config_id","set_config_float","set_config_hex","set_config_int","set_config_string","get_config_text","get_config_argv","get_config_id","get_config_float","get_config_hex","get_config_int","get_config_string","config_is_hooked","hook_config_section","reload_config_texts","flush_config_state","pop_config_state","push_config_state","override_config_data","set_config_data","set_config_file","configs","config","file","request","XMLHttpRequest","open","send","onreadystatechange","readyState","status","getResponseHeader","indexOf","responseText","conf","lines","split","filter","line","exec","section","forEach","_a","replace","includes","_b","key","val","trim","v","top","pop","new_language","intgetter","stringgetter","stringsetter","def","parseInt","parseFloat","msg","toString","keys","names","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","result","then","__generator","_","label","sent","trys","ops","verb","op","TypeError","allegro_ready","init_allegro_ts","loading_bar","_progress_check","bitmap_1","font_1","keyboard_1","math_1","mouse_1","primitives_1","touch_1","timer_1","_mouse_loop","_keyboard_loop","_mouse_loop_reset","_touch_loop","_loader_init_time","_bar_proc","loaded","num_assets","num_loaded","down","Date","now","toFixed","clear_bitmap","rest","progress","rectfill","SCREEN_H","SCREEN_W","scaleclamp","canvas_id","main","getElementById","addEventListener","code","set_gfx_mode","GFX_AUTODETECT_WINDOWED","clear_to_color","textprintf_centre_ex","font","boot","_error","wipe_log","_allog","enable_debug","_onerror","_debug_enabled","_debug_element","fa","reverse","lineno","colno","message","string","console","innerHTML","id","textprintf_justify_ex","textprintf_right_ex","textprintf_ex","textout_justify_ex","textout_right_ex","textout_centre_ex","textout_ex","text_height","text_length","allegro_404_char","merge_fonts","transpose_font","extract_font_range","get_font_range_end","get_font_range_begin","get_font_ranges","is_compatible_font","is_mono_font","is_color_font","make_trans_font","destroy_font","load_font","register_font_file_type","_text_len_canvas","_num_fonts","str","size","measureText","_textout","colour","bg","text_align","textAlign","_fillstyle","length_1","fillText","fontname","head","textContent","element","range","begin","end","drange","f1","f2","GFX_SYSTEM_CURSOR","GFX_HW_SYS_TO_VRAM_BLIT_MASKED","GFX_HW_SYS_TO_VRAM_BLIT","GFX_HW_MEM_BLIT_MASKED","GFX_HW_MEM_BLIT","GFX_HW_VRAM_BLIT_MASKED","GFX_HW_VRAM_BLIT","GFX_HW_GLYPH","GFX_HW_TRIANGLE_XOR","GFX_HW_TRIANGLE","GFX_HW_LINE_XOR","GFX_HW_LINE","GFX_HW_FILL_COPY_PATTERN","GFX_HW_FILL_SOLID_PATTERN","GFX_HW_FILL_XOR","GFX_HW_FILL","GFX_HW_HLINE_COPY_PATTERN","GFX_HW_HLINE_SOLID_PATTERN","GFX_HW_HLINE_XOR","GFX_HW_HLINE","GFX_HW_CURSOR","GFX_CAN_TRIPLE_BUFFER","GFX_CAN_SCROLL","is_windowed_mode","get_display_switch_mode","remove_display_switch_callback","SWITCH_OUT","SWITCH_IN","set_display_switch_callback","SWITCH_BACKAMNESIA","SWITCH_BACKGROUND","SWITCH_AMNESIA","SWITCH_PAUSE","SWITCH_NONE","set_display_switch_mode","GFX_SAFE","GFX_AUTODETECT_FULLSCREEN","GFX_AUTODETECT","GFX_TEXT","destroy_gfx_mode_list","get_gfx_mode_list","get_refresh_rate","request_refresh_rate","get_color_depth","set_color_depth","_gfx_installed","vsync","request_video_bitmap","show_video_bitmap","poll_scroll","request_scroll","scroll_screen","enable_triple_buffer","gfx_capabilities","GFX_HW_SYS_STRETCH_BLIT_MASKED","GFX_HW_SYS_STRETCH_BLIT","GFX_HW_VRAM_STRETCH_BLIT_MASKED","GFX_HW_VRAM_STRETCH_BLIT","allegro_1","config_1","desc","ascii_name","linear","bank_size","vid_mem","vid_phys_base","windowed","depth","rate","card","mode_list","v_w","v_h","outerWidth","outerHeight","requestFullscreen_1","requestFullscreen","removeEventListener","_switch_in_callbacks","_switch_out_callbacks","_switch_mode","dir","cb","in_index","findIndex","out_index","splice","fullscreenElement","draw_sprite","KEY_BACKSLASH","KEY_B","KEY_ASTERISK","KEY_ALTGR","KEY_ALT","KEY_A","KEY_9_PAD","KEY_9","KEY_8_PAD","KEY_8","KEY_7_PAD","KEY_7","KEY_6_PAD","KEY_6","KEY_5_PAD","KEY_5","KEY_4_PAD","KEY_4","KEY_3_PAD","KEY_3","KEY_2_PAD","KEY_2","KEY_1_PAD","KEY_1","KEY_0_PAD","KEY_0","key_led_flag","three_finger_flag","clear_keybuf","set_keyboard_rate","set_leds","keyboard_lowlevel_callback","keyboard_ucallback","keyboard_callback","simulate_ukeypress","simulate_keypress","scancode_to_name","scancode_to_ascii","ureadkey","readkey","keypressed","key_shifts","key_buffer","keyboard_needs_poll","poll_keyboard","install_keyboard_hooks","remove_keyboard","install_keyboard","keyboard_driver","KEY_OPENBRACE","KEY_O","KEY_NUMLOCK","KEY_N","KEY_MINUS_PAD","KEY_MINUS","KEY_MENU","KEY_MAX","KEY_M","KEY_LWIN","KEY_LSHIFT","KEY_LEFT","KEY_LCONTROL","KEY_L","KEY_K","KEY_J","KEY_INSERT","KEY_I","KEY_HOME","KEY_H","KEY_G","KEY_F9","KEY_F8","KEY_F7","KEY_F6","KEY_F5","KEY_F4","KEY_F3","KEY_F2","KEY_F12","KEY_F11","KEY_F10","KEY_F1","KEY_F","KEY_ESC","KEY_EQUALS_PAD","KEY_EQUALS","KEY_ENTER_PAD","KEY_ENTER","KEY_END","KEY_E","KEY_DOWN","KEY_DEL","KEY_D","KEY_COMMA","KEY_COLON","KEY_CLOSEBRACE","KEY_CAPSLOCK","KEY_C","KEY_BACKSPACE","_default_enabled_keys","_keyboard_installed","KB_SHIFT_FLAG","KB_SCROLOCK_FLAG","KB_RWIN_FLAG","KB_NUMLOCK_FLAG","KB_MENU_FLAG","KB_LWIN_FLAG","KB_INALTSEQ_FLAG","KB_CTRL_FLAG","KB_COMMAND_FLAG","KB_CAPSLOCK_FLAG","KB_ALT_FLAG","KB_ACCENT4_FLAG","KB_ACCENT3_FLAG","KB_ACCENT2_FLAG","KB_ACCENT1_FLAG","KEY_Z","KEY_Y","KEY_X","KEY_W","KEY_V","KEY_UP","KEY_U","KEY_TILDE","KEY_TAB","KEY_T","KEY_STOP","KEY_SPACE","KEY_SLASH_PAD","KEY_SLASH","KEY_SCRLOCK","KEY_S","KEY_RWIN","KEY_RSHIFT","KEY_RIGHT","KEY_RCONTROL","KEY_R","KEY_QUOTE","KEY_Q","KEY_PRTSCR","KEY_PLUS_PAD","KEY_PGUP","KEY_PGDN","KEY_PAUSE","KEY_P","enable_keys","_enabled_keys","_keyup","_keydown","scancode","_keydown_handler","leds","delay","repeat","keyCode","preventDefault","_keyup_handler","DEG","PI","floor","rand","random","scale","clamp","anglediff","angle","sgn","dot","lerp","linedist","distance2","distance","length_","abs","frand","rand32","AL_RAND","RAD","PI_4","PI_3","PI_2","PI2","sqrt","ex1","ey1","ex2","ey2","px","py","u","dx","dy","from","to","atan2","diff","max","min2","max2","cmp_val","load_ibk","midi_msg_callback","midi_loop_end","midi_loop_start","midi_time","midi_pos","load_midi_patches","midi_out","get_midi_length","midi_seek","midi_resume","midi_pause","stop_midi","play_looped_midi","play_midi","lock_midi","destroy_midi","load_midi","midi_driver","midiParser_1","midi","loop","description","fileData","_this","fetch","response","arrayBuffer","buffer","parseMidi","loop_start","loop_end","target","byte1","byte2","drums","FileParser_1","getRegularData","channel","time","track","event_length","notes","on","note","velocity","programChange","program","events","getMetaData","metaEventLength","copyright","trackName","instrumentName","lyric","marker","cuePoint","programName","tempo","smpteOffset","hr","mn","se","fr","ff","timeSignature","nn","dd","cc","bb","keySignature","sf","mi","uint8Data","Uint8Array","DataView","byteOffset","headerValidation","parsedMidi","formatType","tracks","timeDivision","timeDivisionByte1","timeDivisionByte2","headerValidation_1","endOfTrack","lastStatusByte","statusByte","_mouseup","_mousemenu","_menu_supress","_menu","_last_mouse_z","_last_mouse_y","_last_mouse_x","_mouse_installed","mouse_mz","mouse_my","mouse_mx","mouse_callback","get_mouse_mickeys","set_mouse_sprite_focus","set_mouse_sprite","set_mouse_speed","set_mouse_range","position_mouse_z","position_mouse","freeze_mouse_flag","show_os_cursor","scare_mouse_area","scare_mouse","show_mouse","mouse_sprite","mouse_b","mouse_w","mouse_z","mouse_y","mouse_x","set_mouse_cursor_bitmap","select_mouse_cursor","disable_hardware_cursor","enable_hardware_cursor","mouse_needs_poll","poll_mouse","remove_mouse","install_mouse","mouse_driver","MOUSEDRV_NONE","MOUSEDRV_AUTODETECT","AL_NUM_MOUSE_CURSORS","MOUSE_CURSOR_EDIT","MOUSE_CURSOR_QUESTION","MOUSE_CURSOR_BUSY","MOUSE_CURSOR_ARROW","MOUSE_CURSOR_ALLEGRO","MOUSE_CURSOR_NONE","_mousewheel","_mousemove","_mousedown","_mouse_focus_x","_mouse_focus_y","_hardware_cursor","_selected_cursor","_cursors","cursor","style","button","offsetX","offsetY","deltaY","menu","z","xspeed","yspeed","sprite","mickeyx","mickeyy","flags","desktop_palette","set_palette","_strokestyle","floodfill","spline","calc_spline","arc","do_arc","ellipsefill","ellipse","do_ellipse","circlefill","circle","do_circle","rect","polygon","triangle","fastline","do_line","hline","vline","_getpixel32","_getpixel24","_getpixel16","_getpixel15","_getpixel","getpixel","_putpixel32","_putpixel24","_putpixel16","_putpixel15","_putpixel","putpixel","clearRect","fillRect","_c","_d","beginPath","moveTo","lineTo","stroke","fillStyle","lineWidth","strokeStyle","x3","y3","closePath","fill","vertices","points","strokeRect","radius","rx","ry","translate","restore","a1","a2","ang1","ang2","npts","color","_e","_f","_g","_h","_j","_k","x_mid","y_mid","cp_x1","cp_x2","quadraticCurveTo","stop_sample","adjust_sample","play_sample","destroy_sample","load_sample","get_volume","set_volume","remove_sound","install_sound","MIDI_DIGMID","MIDI_NONE","MIDI_AUTODETECT","DIGI_NONE","DIGI_AUTODETECT","digi_driver","_volume","_midi_volume","_samples","_context","_context_gain","sample","vol","pan","freq","gain","source","playbackRate","digi","cfg_path","AudioContext","createGain","connect","destination","digi_volume","midi_volume","createBufferSource","createStereoPanner","decodeAudioData","spl","index","disconnect","start","stop","__spreadArray","il","j","sprintf","re","not_string","not_bool","not_type","not_primitive","number","numeric_arg","json","not_json","modulo","placeholder","key_access","index_access","sign","parse_tree","argv","arg","ph","pad","pad_character","pad_length","is_positive","tree_length","output","param_no","test","Function","isNaN","JSON","stringify","precision","toExponential","Number","toPrecision","substring","slice","toLowerCase","valueOf","toUpperCase","pad_char","charAt","align","sprintf_format","fmt","sprintf_cache","match","_fmt","arg_names","SyntaxError","field_list","replacement_field","field_match","sprintf_parse","pivot_scaled_sprite_v_flip","pivot_scaled_sprite","pivot_sprite_v_flip","pivot_sprite","rotate_scaled_sprite_v_flip","rotate_scaled_sprite","rotate_sprite_v_flip","rotate_sprite","draw_character_ex","draw_gouraud_sprite","draw_lit_sprite","draw_trans_sprite","draw_sprite_vh_flip","draw_sprite_h_flip","draw_sprite_v_flip","stretch_sprite","masked_stretch_blit","masked_blit","stretch_blit","dest","source_x","source_y","dest_x","dest_y","source_width","source_height","dest_width","dest_height","source_w","source_h","dest_w","dest_h","c1","c2","c3","c4","rotate","cx","cy","_timer_lookup","rest_callback","retrace_count","remove_param_int","install_param_int_ex","install_param_int","remove_int","END_OF_FUNCTION","LOCK_FUNCTION","LOCK_VARIABLE","install_int_ex","BPM_TO_TIMER","BPS_TO_TIMER","MSEC_TO_TIMER","SECS_TO_TIMER","install_int","remove_timer","install_timer","timer_driver","speed","timer_id","_installed_timers","timer","procedure","param","setTimeout","secs","msec","bps","bpm","variable_name","function_name","callback","find","_touchmove","_touchend","_touchstart","_get_touch","remove_touch","install_touch","touch_released","touch_pressed","touch","_touch_installed","getBoundingClientRect","changedTouches","point","item","sx","clientX","left","sy","clientY","mx","my","identifier","dead","age","PAL_SIZE","ustrdup","ustricmp","str1","str2","localeCompare"],"sourceRoot":""}